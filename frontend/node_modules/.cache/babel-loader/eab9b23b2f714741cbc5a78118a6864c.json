{"remainingRequest":"/home/woli/Projects/DataRoom/frontend/node_modules/babel-loader/lib/index.js!/home/woli/Projects/DataRoom/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/woli/Projects/DataRoom/frontend/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/woli/Projects/DataRoom/frontend/src/components/adminBuildingDiv.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/woli/Projects/DataRoom/frontend/src/components/adminBuildingDiv.vue","mtime":1611767456970},{"path":"/home/woli/Projects/DataRoom/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/woli/Projects/DataRoom/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/woli/Projects/DataRoom/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/woli/Projects/DataRoom/frontend/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL2hvbWUvd29saS9Qcm9qZWN0cy9EYXRhUm9vbS9mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBNIGZyb20gJ21hdGVyaWFsaXplLWNzcyc7CmltcG9ydCBfIGZyb20gJ2xvZGFzaCc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiYWRtaW5CdWlsZGluZ0RpdiIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGFjdGl2ZVZpZXc6ICcnLAogICAgICByZW1vdmVGbG9vcl9kYXRhOiB7CiAgICAgICAgZmxvb3JfbGlzdDogbnVsbCwKICAgICAgICBzZWxlY3RlZEZsb29yVG9SZW1vdmU6ICcnCiAgICAgIH0sCiAgICAgIGFkZFVzZXJfZGF0YTogewogICAgICAgIGVtYWlsVXNlclRvQWRkOiAnJwogICAgICB9LAogICAgICByZW1vdmVVc2VyX2RhdGE6IHsKICAgICAgICB1c2VyX2xpc3Q6IG51bGwsCiAgICAgICAgc2VsZWN0ZWRVc2VyVG9SZW1vdmU6ICcnCiAgICAgIH0sCiAgICAgIHVwZGF0ZUZsb29yX2RhdGE6IHsKICAgICAgICBmbG9vcl9saXN0OiBudWxsLAogICAgICAgIHNlbGVjdGVkRmxvb3JUb1VwZGF0ZTogJycsCiAgICAgICAgZGF0YV90b191cGRhdGU6IG51bGwsCiAgICAgICAgdXNlcl9saXN0OiBudWxsLAogICAgICAgIHNlbGVjdGVkTGV2ZWxBZG1pbmlzdHJhdG9yOiAnJywKICAgICAgICBzZWxlY3RlZFVzZXI6ICcnLAogICAgICAgIGxldmVsX2FkbWluaXN0cmF0b3JfbGlzdDogbnVsbCwKICAgICAgICBub2xldmVsX2FkbWluaXN0cmF0b3JfbGlzdDogbnVsbAogICAgICB9LAogICAgICBhZG1pbkJ1aWxkaW5nX2RhdGE6IHsKICAgICAgICB1c2VyX2xpc3Q6IG51bGwsCiAgICAgICAgeG1sX2RvY3VtZW50OiBudWxsLAogICAgICAgIG5vQWRtaW5fbGlzdDogbnVsbCwKICAgICAgICBBZG1pbl9saXN0OiBudWxsLAogICAgICAgIHNlbGVjdGVkQWRtaW46ICcnLAogICAgICAgIHNlbGVjdGVkTm9BZG1pbjogJycKICAgICAgfQogICAgfTsKICB9LAogIHByb3BzOiB7CiAgICBidWlsZGluZ05hbWU6IFN0cmluZwogIH0sCiAgbWV0aG9kczogewogICAgY2hhbmdlVmlldzogZnVuY3Rpb24gY2hhbmdlVmlldyh2aWV3KSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlKCkgewogICAgICAgIHZhciBwYXJzZXIsIHhtbF9kb2MsIGFkbWlucywgYWRtaW5zX2lkLCBpOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmICghKHZpZXcgPT09IF90aGlzLmFjdGl2ZVZpZXcpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfdGhpcy5hY3RpdmVWaWV3ID0gIV90aGlzLmFjdGl2ZVZpZXc7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDU7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgX3RoaXMuYWN0aXZlVmlldyA9IHZpZXc7CgogICAgICAgICAgICAgICAgaWYgKCEodmlldyA9PT0gJ3JlbW92ZUZsb29yJykpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDExOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gODsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy4kcm9vdC5BRE1JTl9nZXRBbGxGbG9vcnNGb3JCdWlsZGluZyhfdGhpcy5idWlsZGluZ05hbWUpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZVswXSA9PT0gdHJ1ZSkgX3RoaXMucmVtb3ZlRmxvb3JfZGF0YS5mbG9vcl9saXN0ID0gcmVzcG9uc2VbMV07ZWxzZSBNLnRvYXN0KHsKICAgICAgICAgICAgICAgICAgICBodG1sOiByZXNwb25zZVsxXSwKICAgICAgICAgICAgICAgICAgICBjbGFzc2VzOiAicm91bmRlZCBvcmFuZ2UiLAogICAgICAgICAgICAgICAgICAgIGRpc3BsYXlMZW5ndGg6IDIwMDAKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgTS5Gb3JtU2VsZWN0LmluaXQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JlbW92ZUZsb29yU2VsZWN0JykpOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQ1OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICBpZiAoISh2aWV3ID09PSAncmVtb3ZlVXNlcicpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE0OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRyb290LkFETUlOX2dldEFsbFVzZXJzRm9yQnVpbGRpbmcoX3RoaXMuYnVpbGRpbmdOYW1lKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2VbMF0gPT09IHRydWUpIF90aGlzLnJlbW92ZVVzZXJfZGF0YS51c2VyX2xpc3QgPSByZXNwb25zZVsxXTtlbHNlIE0udG9hc3QoewogICAgICAgICAgICAgICAgICAgIGh0bWw6IHJlc3BvbnNlWzFdLAogICAgICAgICAgICAgICAgICAgIGNsYXNzZXM6ICJyb3VuZGVkIG9yYW5nZSIsCiAgICAgICAgICAgICAgICAgICAgZGlzcGxheUxlbmd0aDogMjAwMAogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgICAgTS5Gb3JtU2VsZWN0LmluaXQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3JlbW92ZVVzZXJTZWxlY3QnKSk7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDU7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICAgIGlmICghKHZpZXcgPT09ICd1cGRhdGVGbG9vcicpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyNTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDIwOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRyb290LkFETUlOX2dldEFsbEZsb29yc0ZvckJ1aWxkaW5nKF90aGlzLmJ1aWxkaW5nTmFtZSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlWzBdID09PSB0cnVlKSBfdGhpcy51cGRhdGVGbG9vcl9kYXRhLmZsb29yX2xpc3QgPSByZXNwb25zZVsxXTtlbHNlIE0udG9hc3QoewogICAgICAgICAgICAgICAgICAgIGh0bWw6IHJlc3BvbnNlWzFdLAogICAgICAgICAgICAgICAgICAgIGNsYXNzZXM6ICJyb3VuZGVkIG9yYW5nZSIsCiAgICAgICAgICAgICAgICAgICAgZGlzcGxheUxlbmd0aDogMjAwMAogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDIwOgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDIyOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRyb290LkFETUlOX2dldEFsbFVzZXJzRm9yQnVpbGRpbmcoX3RoaXMuYnVpbGRpbmdOYW1lKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2VbMF0gPT09IHRydWUpIF90aGlzLnVwZGF0ZUZsb29yX2RhdGEudXNlcl9saXN0ID0gcmVzcG9uc2VbMV07ZWxzZSBNLnRvYXN0KHsKICAgICAgICAgICAgICAgICAgICBodG1sOiByZXNwb25zZVsxXSwKICAgICAgICAgICAgICAgICAgICBjbGFzc2VzOiAicm91bmRlZCBvcmFuZ2UiLAogICAgICAgICAgICAgICAgICAgIGRpc3BsYXlMZW5ndGg6IDIwMDAKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyMjoKICAgICAgICAgICAgICAgIE0uRm9ybVNlbGVjdC5pbml0KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1cGRhdGVGbG9vclNlbGVjdCcpKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSA0NTsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDI1OgogICAgICAgICAgICAgICAgaWYgKCEodmlldyA9PT0gJ2FkbWluQnVpbGRpbmcnKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDU7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyODsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy4kcm9vdC5BRE1JTl9nZXRBbGxVc2Vyc0ZvckJ1aWxkaW5nKF90aGlzLmJ1aWxkaW5nTmFtZSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlWzBdID09PSB0cnVlKSBfdGhpcy5hZG1pbkJ1aWxkaW5nX2RhdGEudXNlcl9saXN0ID0gcmVzcG9uc2VbMV07ZWxzZSBNLnRvYXN0KHsKICAgICAgICAgICAgICAgICAgICBodG1sOiByZXNwb25zZVsxXSwKICAgICAgICAgICAgICAgICAgICBjbGFzc2VzOiAicm91bmRlZCBvcmFuZ2UiLAogICAgICAgICAgICAgICAgICAgIGRpc3BsYXlMZW5ndGg6IDIwMDAKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyODoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzMDsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy4kcm9vdC5BRE1JTl9nZXRCdWlsZGluZ1hNTChfdGhpcy5idWlsZGluZ05hbWUpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZVswXSA9PT0gdHJ1ZSkgX3RoaXMuYWRtaW5CdWlsZGluZ19kYXRhLnhtbF9kb2N1bWVudCA9IHJlc3BvbnNlWzFdO2Vsc2UgTS50b2FzdCh7CiAgICAgICAgICAgICAgICAgICAgaHRtbDogcmVzcG9uc2VbMV0sCiAgICAgICAgICAgICAgICAgICAgY2xhc3NlczogJ3JvdW5kZWQgb3JhbmdlJywKICAgICAgICAgICAgICAgICAgICBkaXNwbGF5TGVuZ3RoOiAyMDAwCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMzA6CiAgICAgICAgICAgICAgICBwYXJzZXIgPSBuZXcgRE9NUGFyc2VyKCk7CiAgICAgICAgICAgICAgICB4bWxfZG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhfdGhpcy5hZG1pbkJ1aWxkaW5nX2RhdGEueG1sX2RvY3VtZW50LCAndGV4dC94bWwnKTsKICAgICAgICAgICAgICAgIGFkbWlucyA9IHhtbF9kb2MuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ2FkbWluJyk7CiAgICAgICAgICAgICAgICBhZG1pbnNfaWQgPSBbXTsKCiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgYWRtaW5zLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgICAgICAgIGFkbWluc19pZC5wdXNoKE51bWJlcihhZG1pbnNbaV0uYXR0cmlidXRlc1swXS52YWx1ZSkpOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzNzsKICAgICAgICAgICAgICAgIHJldHVybiBfLmZpbHRlcihfdGhpcy5hZG1pbkJ1aWxkaW5nX2RhdGEudXNlcl9saXN0LCBmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgYWRtaW5zX2lkLmxlbmd0aDsgX2krKykgewogICAgICAgICAgICAgICAgICAgIGlmIChOdW1iZXIoaXRlbVsnaWQnXSkgPT09IE51bWJlcihhZG1pbnNfaWRbX2ldKSkgcmV0dXJuIHRydWU7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDM3OgogICAgICAgICAgICAgICAgX3RoaXMuYWRtaW5CdWlsZGluZ19kYXRhLkFkbWluX2xpc3QgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQwOwogICAgICAgICAgICAgICAgcmV0dXJuIF8uZmlsdGVyKF90aGlzLmFkbWluQnVpbGRpbmdfZGF0YS51c2VyX2xpc3QsIGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pMiA9IDA7IF9pMiA8IGFkbWluc19pZC5sZW5ndGg7IF9pMisrKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKE51bWJlcihpdGVtWydpZCddKSA9PT0gTnVtYmVyKGFkbWluc19pZFtfaTJdKSkgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDQwOgogICAgICAgICAgICAgICAgX3RoaXMuYWRtaW5CdWlsZGluZ19kYXRhLm5vQWRtaW5fbGlzdCA9IF9jb250ZXh0LnNlbnQ7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDM7CiAgICAgICAgICAgICAgICByZXR1cm4gTS5Gb3JtU2VsZWN0LmluaXQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FkbWluQnVpbGRpbmdBZG1pbnNTZWxlY3QnKSk7CgogICAgICAgICAgICAgIGNhc2UgNDM6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDU7CiAgICAgICAgICAgICAgICByZXR1cm4gTS5Gb3JtU2VsZWN0LmluaXQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FkbWluQnVpbGRpbmdOb0FkbWluc1NlbGVjdCcpKTsKCiAgICAgICAgICAgICAgY2FzZSA0NToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBhZGRGbG9vcjogZnVuY3Rpb24gYWRkRmxvb3IoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgdmFyIHBlcm1faGlkZGVuLCBwZXJtX3B1YmxpYywgcGVybV9ldmVyeWJvZHksIHBlcm1fY3JlYXRvcnMsIG5hbWUsIHBlcm1pc3Npb25zOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMyQoX2NvbnRleHQzKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0My5wcmV2ID0gX2NvbnRleHQzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBwZXJtX2hpZGRlbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZGRGbG9vclBlcm1pc3Npb25faGlkZGVuJykuY2hlY2tlZDsKICAgICAgICAgICAgICAgIHBlcm1fcHVibGljID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FkZEZsb29yUGVybWlzc2lvbl9wdWJsaWMnKS5jaGVja2VkOwogICAgICAgICAgICAgICAgcGVybV9ldmVyeWJvZHkgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWRkRmxvb3JQZXJtaXNzaW9uX2V2ZXJ5Ym9keScpLmNoZWNrZWQ7CiAgICAgICAgICAgICAgICBwZXJtX2NyZWF0b3JzID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FkZEZsb29yUGVybWlzc2lvbl9jcmVhdG9ycycpLmNoZWNrZWQ7CgogICAgICAgICAgICAgICAgaWYgKCEocGVybV9jcmVhdG9ycyA9PT0gdHJ1ZSAmJiBwZXJtX2V2ZXJ5Ym9keSA9PT0gZmFsc2UpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gODsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgTS50b2FzdCh7CiAgICAgICAgICAgICAgICAgIGh0bWw6ICJMb2dpYyBlcnJvciBpbiBwZXJtaXNzaW9uIHNlbGVjdC4gNHJkIGNhbm5vdCBiZSBjaGVja2VkIHdoZW4gM3JkIGlzIG5vdCBjaGVja2VkIiwKICAgICAgICAgICAgICAgICAgY2xhc3NlczogInJvdW5kZWQgb3JhbmdlIiwKICAgICAgICAgICAgICAgICAgZGlzcGxheUxlbmd0aDogMjAwMAogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDEyOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIG5hbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnYWRkRmxvb3JOYW1lJykudmFsdWU7CiAgICAgICAgICAgICAgICBwZXJtaXNzaW9ucyA9IFtwZXJtX3B1YmxpYywgcGVybV9oaWRkZW4sIHBlcm1fZXZlcnlib2R5LCBwZXJtX2NyZWF0b3JzXTsKICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMyLiRyb290LkFETUlOX2FkZEZsb29yVG9CdWlsZGluZyhfdGhpczIuYnVpbGRpbmdOYW1lLCBuYW1lLCBwZXJtaXNzaW9ucykudGhlbiggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHJlc3BvbnNlWzBdID09PSB0cnVlKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIE0udG9hc3QoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBodG1sOiAnRmxvb3IgaGFzIGJlZW4gY3JlYXRlZCcsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzZXM6ICJyb3VuZGVkIGdyZWVuIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheUxlbmd0aDogMjAwMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgiYWRkRmxvb3IiKS5yZXNldCgpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA1OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi5jaGFuZ2VWaWV3KCcnKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA4OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIE0udG9hc3QoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBodG1sOiByZXNwb25zZVsxXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NlczogInJvdW5kZWQgb3JhbmdlIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheUxlbmd0aDogMjAwMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mi5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlMik7CiAgICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3JlZi5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfSgpKTsKCiAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHJlbW92ZUZsb29yOiBmdW5jdGlvbiByZW1vdmVGbG9vcigpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNSgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTUkKF9jb250ZXh0NSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDUucHJldiA9IF9jb250ZXh0NS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKCEoX3RoaXMzLnJlbW92ZUZsb29yX2RhdGEuc2VsZWN0ZWRGbG9vclRvUmVtb3ZlID09PSAnJykpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ1Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBNLnRvYXN0KHsKICAgICAgICAgICAgICAgICAgaHRtbDogJ1lvdSBoYXZlIHRvIGNob29zZSBmbG9vciB0byBkZWxldGUnLAogICAgICAgICAgICAgICAgICBjbGFzc2VzOiAicm91bmRlZCBvcmFuZ2UiLAogICAgICAgICAgICAgICAgICBkaXNwbGF5TGVuZ3RoOiAyMDAwCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMzLiRyb290LkFETUlOX3JlbW92ZUZsb29yKF90aGlzMy5idWlsZGluZ05hbWUsIF90aGlzMy5yZW1vdmVGbG9vcl9kYXRhLnNlbGVjdGVkRmxvb3JUb1JlbW92ZSkudGhlbiggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgdmFyIF9yZWYyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShyZXNwb25zZVswXSA9PT0gdHJ1ZSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA2OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBNLnRvYXN0KHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHRtbDogJ0Zsb29yIGhhcyBiZWVuIHJlbW92ZWQnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc2VzOiAicm91bmRlZCBncmVlbiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXlMZW5ndGg6IDIwMDAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMy5jaGFuZ2VWaWV3KCcnKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA3OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIE0udG9hc3QoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBodG1sOiByZXNwb25zZVsxXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NlczogInJvdW5kZWQgb3JhbmdlIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheUxlbmd0aDogMjAwMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlNCk7CiAgICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gyKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWYyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICB9KCkpOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDUuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICByZW1vdmVVc2VyOiBmdW5jdGlvbiByZW1vdmVVc2VyKCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU3KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNyQoX2NvbnRleHQ3KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ny5wcmV2ID0gX2NvbnRleHQ3Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoIShfdGhpczQucmVtb3ZlVXNlcl9kYXRhLnNlbGVjdGVkVXNlclRvUmVtb3ZlID09PSAnJykpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQ3Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBNLnRvYXN0KHsKICAgICAgICAgICAgICAgICAgaHRtbDogJ1lvdSBoYXZlIHRvIGNob29zZSBmbG9vciB0byBkZWxldGUnLAogICAgICAgICAgICAgICAgICBjbGFzc2VzOiAicm91bmRlZCBvcmFuZ2UiLAogICAgICAgICAgICAgICAgICBkaXNwbGF5TGVuZ3RoOiAyMDAwCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM0LiRyb290LkFETUlOX3JlbW92ZVVzZXJGcm9tQnVpbGRpbmcoX3RoaXM0LmJ1aWxkaW5nTmFtZSwgX3RoaXM0LnJlbW92ZVVzZXJfZGF0YS5zZWxlY3RlZFVzZXJUb1JlbW92ZSkudGhlbiggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgdmFyIF9yZWYzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNihyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNiQoX2NvbnRleHQ2KSB7CiAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ni5wcmV2ID0gX2NvbnRleHQ2Lm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShyZXNwb25zZVswXSA9PT0gdHJ1ZSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSA2OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBNLnRvYXN0KHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHRtbDogJ1VzZXIgaGFzIGJlZW4gcmVtb3ZlZCcsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzZXM6ICJyb3VuZGVkIGdyZWVuIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheUxlbmd0aDogMjAwMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM0LmNoYW5nZVZpZXcoJycpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgTS50b2FzdCh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh0bWw6IHJlc3BvbnNlWzFdLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc2VzOiAicm91bmRlZCBvcmFuZ2UiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5TGVuZ3RoOiAyMDAwCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWU2KTsKICAgICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeDMpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3JlZjMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0oKSk7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Ny5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGFkZFVzZXI6IGZ1bmN0aW9uIGFkZFVzZXIoKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTkoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU5JChfY29udGV4dDkpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ5LnByZXYgPSBfY29udGV4dDkubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczUuJHJvb3QuQURNSU5fYWRkVXNlclRvQnVpbGRpbmcoX3RoaXM1LmJ1aWxkaW5nTmFtZSwgX3RoaXM1LmFkZFVzZXJfZGF0YS5lbWFpbFVzZXJUb0FkZCkudGhlbiggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgdmFyIF9yZWY0ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlOChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlOCQoX2NvbnRleHQ4KSB7CiAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0OC5wcmV2ID0gX2NvbnRleHQ4Lm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShyZXNwb25zZVswXSA9PT0gdHJ1ZSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSA2OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBNLnRvYXN0KHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHRtbDogJ1VzZXIgaGFzIGJlZW4gYWRkZWQgdG8gYnVpbGRpbmcnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc2VzOiAicm91bmRlZCBncmVlbiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXlMZW5ndGg6IDIwMDAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNS5jaGFuZ2VWaWV3KCcnKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSA3OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIE0udG9hc3QoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBodG1sOiByZXNwb25zZVsxXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NlczogInJvdW5kZWQgb3JhbmdlIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheUxlbmd0aDogMjAwMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OC5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlOCk7CiAgICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3g0KSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWY0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICB9KCkpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDkuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTkpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBnZXRGbG9vclRvVXBkYXRlOiBmdW5jdGlvbiBnZXRGbG9vclRvVXBkYXRlKCkgewogICAgICB2YXIgX3RoaXM2ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMCgpIHsKICAgICAgICB2YXIgcGFyc2VyLCB4bWxfZG9jLCBzZXR0aW5ncywgcGVybV9zZWxfcHViLCBwZXJtX3NlbF9oaWQsIHBlcm1fc2VsX2V2ZSwgcGVybV9zZWxfY3JlLCBsZXZlbF9hZG1pbmlzdHJhdG9ycywgbGV2ZWxfYWRtaW5pc3RyYXRvcnNfaWRzLCBpOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTAkKF9jb250ZXh0MTApIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMC5wcmV2ID0gX2NvbnRleHQxMC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQxMC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczYuJHJvb3QuQURNSU5fZ2V0RnVsbEZsb29yRGF0YShfdGhpczYuYnVpbGRpbmdOYW1lLCBfdGhpczYudXBkYXRlRmxvb3JfZGF0YS5zZWxlY3RlZEZsb29yVG9VcGRhdGUpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZVswXSA9PT0gdHJ1ZSkgX3RoaXM2LnVwZGF0ZUZsb29yX2RhdGEuZGF0YV90b191cGRhdGUgPSByZXNwb25zZVsxXVswXTtlbHNlIE0udG9hc3QoewogICAgICAgICAgICAgICAgICAgIGh0bWw6IHJlc3BvbnNlWzFdLAogICAgICAgICAgICAgICAgICAgIGNsYXNzZXM6ICJyb3VuZGVkIG9yYW5nZSIsCiAgICAgICAgICAgICAgICAgICAgZGlzcGxheUxlbmd0aDogMjAwMAogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBwYXJzZXIgPSBuZXcgRE9NUGFyc2VyKCk7CiAgICAgICAgICAgICAgICB4bWxfZG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhfdGhpczYudXBkYXRlRmxvb3JfZGF0YS5kYXRhX3RvX3VwZGF0ZVsneG1sX2RvY3VtZW50J10sICd0ZXh0L3htbCcpOwogICAgICAgICAgICAgICAgc2V0dGluZ3MgPSB4bWxfZG9jLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzZXR0aW5nJyk7CiAgICAgICAgICAgICAgICBwZXJtX3NlbF9wdWIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXBkYXRlRmxvb3JQZXJtaXNzaW9uX3B1YmxpYycpOwogICAgICAgICAgICAgICAgcGVybV9zZWxfaGlkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VwZGF0ZUZsb29yUGVybWlzc2lvbl9oaWRkZW4nKTsKICAgICAgICAgICAgICAgIHBlcm1fc2VsX2V2ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1cGRhdGVGbG9vclBlcm1pc3Npb25fZXZlcnlib2R5Jyk7CiAgICAgICAgICAgICAgICBwZXJtX3NlbF9jcmUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXBkYXRlRmxvb3JQZXJtaXNzaW9uX2NyZWF0b3JzJyk7CiAgICAgICAgICAgICAgICBzZXR0aW5nc1swXS5hdHRyaWJ1dGVzWzBdLnZhbHVlID09PSAnVHJ1ZScgPyBwZXJtX3NlbF9wdWIuY2hlY2tlZCA9IHRydWUgOiBwZXJtX3NlbF9wdWIuY2hlY2tlZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgc2V0dGluZ3NbMV0uYXR0cmlidXRlc1swXS52YWx1ZSA9PT0gJ1RydWUnID8gcGVybV9zZWxfaGlkLmNoZWNrZWQgPSB0cnVlIDogcGVybV9zZWxfaGlkLmNoZWNrZWQgPSBmYWxzZTsKICAgICAgICAgICAgICAgIHNldHRpbmdzWzJdLmF0dHJpYnV0ZXNbMF0udmFsdWUgPT09ICdUcnVlJyA/IHBlcm1fc2VsX2V2ZS5jaGVja2VkID0gdHJ1ZSA6IHBlcm1fc2VsX2V2ZS5jaGVja2VkID0gZmFsc2U7CiAgICAgICAgICAgICAgICBzZXR0aW5nc1szXS5hdHRyaWJ1dGVzWzBdLnZhbHVlID09PSAnVHJ1ZScgPyBwZXJtX3NlbF9jcmUuY2hlY2tlZCA9IHRydWUgOiBwZXJtX3NlbF9jcmUuY2hlY2tlZCA9IGZhbHNlOwogICAgICAgICAgICAgICAgbGV2ZWxfYWRtaW5pc3RyYXRvcnMgPSB4bWxfZG9jLmdldEVsZW1lbnRzQnlUYWdOYW1lKCdsZXZlbF9hZG1pbmlzdHJhdG9yJyk7CiAgICAgICAgICAgICAgICBsZXZlbF9hZG1pbmlzdHJhdG9yc19pZHMgPSBbXTsKCiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgbGV2ZWxfYWRtaW5pc3RyYXRvcnMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgbGV2ZWxfYWRtaW5pc3RyYXRvcnNfaWRzLnB1c2goTnVtYmVyKGxldmVsX2FkbWluaXN0cmF0b3JzW2ldLmF0dHJpYnV0ZXNbMF0udmFsdWUpKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDEwLm5leHQgPSAxODsKICAgICAgICAgICAgICAgIHJldHVybiBfLmZpbHRlcihfdGhpczYudXBkYXRlRmxvb3JfZGF0YS51c2VyX2xpc3QsIGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgICAgICAgIGZvciAodmFyIF9pMyA9IDA7IF9pMyA8IGxldmVsX2FkbWluaXN0cmF0b3JzX2lkcy5sZW5ndGg7IF9pMysrKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKE51bWJlcihpdGVtWyJpZCJdKSA9PT0gTnVtYmVyKGxldmVsX2FkbWluaXN0cmF0b3JzX2lkc1tfaTNdKSkgcmV0dXJuIHRydWU7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDE4OgogICAgICAgICAgICAgICAgX3RoaXM2LnVwZGF0ZUZsb29yX2RhdGEubGV2ZWxfYWRtaW5pc3RyYXRvcl9saXN0ID0gX2NvbnRleHQxMC5zZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQxMC5uZXh0ID0gMjE7CiAgICAgICAgICAgICAgICByZXR1cm4gXy5maWx0ZXIoX3RoaXM2LnVwZGF0ZUZsb29yX2RhdGEudXNlcl9saXN0LCBmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaTQgPSAwOyBfaTQgPCBsZXZlbF9hZG1pbmlzdHJhdG9yc19pZHMubGVuZ3RoOyBfaTQrKykgewogICAgICAgICAgICAgICAgICAgIGlmIChOdW1iZXIoaXRlbVsiaWQiXSkgPT09IE51bWJlcihsZXZlbF9hZG1pbmlzdHJhdG9yc19pZHNbX2k0XSkpIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyMToKICAgICAgICAgICAgICAgIF90aGlzNi51cGRhdGVGbG9vcl9kYXRhLm5vbGV2ZWxfYWRtaW5pc3RyYXRvcl9saXN0ID0gX2NvbnRleHQxMC5zZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQxMC5uZXh0ID0gMjQ7CiAgICAgICAgICAgICAgICByZXR1cm4gTS5Gb3JtU2VsZWN0LmluaXQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VwZGF0ZUZsb29yTGV2ZWxBZG1pbmlzdHJhdG9yU2VsZWN0JykpOwoKICAgICAgICAgICAgICBjYXNlIDI0OgogICAgICAgICAgICAgICAgX2NvbnRleHQxMC5uZXh0ID0gMjY7CiAgICAgICAgICAgICAgICByZXR1cm4gTS5Gb3JtU2VsZWN0LmluaXQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VwZGF0ZUZsb29yVXNlclNlbGVjdCcpKTsKCiAgICAgICAgICAgICAgY2FzZSAyNjoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTAubmV4dCA9IDI4OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNi4kZm9yY2VVcGRhdGUoKTsKCiAgICAgICAgICAgICAgY2FzZSAyODoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTAuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTEwKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgcmVtb3ZlTGV2ZWxBZG1pbmlzdHJhdG9yOiBmdW5jdGlvbiByZW1vdmVMZXZlbEFkbWluaXN0cmF0b3IoKSB7CiAgICAgIHZhciBfdGhpczcgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEyKCkgewogICAgICAgIHZhciBwYXJzZXIsIHhtbF9kb2N1bWVudCwgZWxlbWVudHMsIGk7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMiQoX2NvbnRleHQxMikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDEyLnByZXYgPSBfY29udGV4dDEyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBwYXJzZXIgPSBuZXcgRE9NUGFyc2VyKCk7CiAgICAgICAgICAgICAgICB4bWxfZG9jdW1lbnQgPSBwYXJzZXIucGFyc2VGcm9tU3RyaW5nKF90aGlzNy51cGRhdGVGbG9vcl9kYXRhLmRhdGFfdG9fdXBkYXRlWyd4bWxfZG9jdW1lbnQnXSwgJ3RleHQveG1sJyk7CiAgICAgICAgICAgICAgICBlbGVtZW50cyA9IHhtbF9kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnbGV2ZWxfYWRtaW5pc3RyYXRvcicpOwogICAgICAgICAgICAgICAgaSA9IDA7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIGlmICghKGkgPCBlbGVtZW50cy5sZW5ndGgpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTIubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIShOdW1iZXIoZWxlbWVudHNbaV0uZ2V0QXR0cmlidXRlKCdjbGllbnRfaWQnKSkgPT09IF90aGlzNy51cGRhdGVGbG9vcl9kYXRhLnNlbGVjdGVkTGV2ZWxBZG1pbmlzdHJhdG9yWydpZCddKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDEyLm5leHQgPSA3OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMi5hYnJ1cHQoImJyZWFrIiwgMTApOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICBpKys7CiAgICAgICAgICAgICAgICBfY29udGV4dDEyLm5leHQgPSA0OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICBlbGVtZW50c1tpXS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKGVsZW1lbnRzW2ldKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTIubmV4dCA9IDEzOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNy4kcm9vdC5BRE1JTl91cGRhdGVfZmxvb3JfeG1sX2RvY3VtZW50KF90aGlzNy5idWlsZGluZ05hbWUsIF90aGlzNy51cGRhdGVGbG9vcl9kYXRhLnNlbGVjdGVkRmxvb3JUb1VwZGF0ZSwgeG1sX2RvY3VtZW50KS50aGVuKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICB2YXIgX3JlZjUgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMShyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTEkKF9jb250ZXh0MTEpIHsKICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMS5wcmV2ID0gX2NvbnRleHQxMS5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEocmVzcG9uc2VbMF0gPT09IHRydWUpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTEubmV4dCA9IDY7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIE0udG9hc3QoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBodG1sOiAnTGV2ZWwgYWRtaW5pc3RyYXRvciByb2xlIGhhcyBiZWVuIGRlbGV0ZWQnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc2VzOiAncm91bmRlZCBncmVlbicsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXlMZW5ndGg6IDIwMDAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQxMS5uZXh0ID0gNDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczcuZ2V0Rmxvb3JUb1VwZGF0ZSgpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDExLm5leHQgPSA3OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIE0udG9hc3QoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBodG1sOiByZXNwb25zZVsxXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NlczogJ3JvdW5kZWQgb3JhbmdlJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheUxlbmd0aDogMjAwMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTEuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZTExKTsKICAgICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeDUpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3JlZjUuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0oKSk7CgogICAgICAgICAgICAgIGNhc2UgMTM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxMik7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGFkZExldmVsQWRtaW5pc3RyYXRvcjogZnVuY3Rpb24gYWRkTGV2ZWxBZG1pbmlzdHJhdG9yKCkgewogICAgICB2YXIgX3RoaXM4ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxNCgpIHsKICAgICAgICB2YXIgcGFyc2VyLCB4bWxfZG9jdW1lbnQsIG5ld19ub2RlOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTQkKF9jb250ZXh0MTQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxNC5wcmV2ID0gX2NvbnRleHQxNC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpOwogICAgICAgICAgICAgICAgeG1sX2RvY3VtZW50ID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhfdGhpczgudXBkYXRlRmxvb3JfZGF0YS5kYXRhX3RvX3VwZGF0ZVsneG1sX2RvY3VtZW50J10sICd0ZXh0L3htbCcpOwogICAgICAgICAgICAgICAgbmV3X25vZGUgPSB4bWxfZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnbGV2ZWxfYWRtaW5pc3RyYXRvcicpOwogICAgICAgICAgICAgICAgbmV3X25vZGUuc2V0QXR0cmlidXRlKCdjbGllbnRfaWQnLCBfdGhpczgudXBkYXRlRmxvb3JfZGF0YS5zZWxlY3RlZFVzZXJbJ2lkJ10pOwogICAgICAgICAgICAgICAgeG1sX2RvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdsZXZlbF9hZG1pbmlzdHJhdG9yJylbMF0uYXBwZW5kQ2hpbGQobmV3X25vZGUpOwogICAgICAgICAgICAgICAgX2NvbnRleHQxNC5uZXh0ID0gNzsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczguJHJvb3QuQURNSU5fdXBkYXRlX2Zsb29yX3htbF9kb2N1bWVudChfdGhpczguYnVpbGRpbmdOYW1lLCBfdGhpczgudXBkYXRlRmxvb3JfZGF0YS5zZWxlY3RlZEZsb29yVG9VcGRhdGUsIHhtbF9kb2N1bWVudCkudGhlbiggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgdmFyIF9yZWY2ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTMocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEzJChfY29udGV4dDEzKSB7CiAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTMucHJldiA9IF9jb250ZXh0MTMubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHJlc3BvbnNlWzBdID09PSB0cnVlKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDEzLm5leHQgPSA2OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBNLnRvYXN0KHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHRtbDogJ0xldmVsIGFkbWluaXN0cmF0b3IgaGFzIGJlZW4gYWRkZWQnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc2VzOiAicm91bmRlZCBncmVlbiIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXlMZW5ndGg6IDIwMDAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQxMy5uZXh0ID0gNDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczguZ2V0Rmxvb3JUb1VwZGF0ZSgpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDEzLm5leHQgPSA3OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIE0udG9hc3QoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBodG1sOiByZXNwb25zZVsxXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NlczogInJvdW5kZWQgb3JhbmdlIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheUxlbmd0aDogMjAwMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTMuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZTEzKTsKICAgICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeDYpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3JlZjYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0oKSk7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTE0KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgdXBkYXRlU2V0dGluZ3M6IGZ1bmN0aW9uIHVwZGF0ZVNldHRpbmdzKCkgewogICAgICB2YXIgX3RoaXM5ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxNigpIHsKICAgICAgICB2YXIgbmV3X3NldHRpbmdzLCBwYXJzZXIsIHhtbF9kb2N1bWVudCwgcGVybWlzc2lvbnM7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxNiQoX2NvbnRleHQxNikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDE2LnByZXYgPSBfY29udGV4dDE2Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBuZXdfc2V0dGluZ3MgPSBbZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VwZGF0ZUZsb29yUGVybWlzc2lvbl9wdWJsaWMnKS5jaGVja2VkLCBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXBkYXRlRmxvb3JQZXJtaXNzaW9uX2hpZGRlbicpLmNoZWNrZWQsIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1cGRhdGVGbG9vclBlcm1pc3Npb25fZXZlcnlib2R5JykuY2hlY2tlZCwgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VwZGF0ZUZsb29yUGVybWlzc2lvbl9jcmVhdG9ycycpLmNoZWNrZWRdOwoKICAgICAgICAgICAgICAgIGlmICghKG5ld19zZXR0aW5nc1syXSA9PT0gZmFsc2UgJiYgbmV3X3NldHRpbmdzWzNdID09PSB0cnVlKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDE2Lm5leHQgPSA3OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBNLnRvYXN0KHsKICAgICAgICAgICAgICAgICAgaHRtbDogJ0xvZ2ljIGVycm9yIGluIHNldHRpbmdzLiA0cmQgY2Fubm90IGJlIGNoZWNrZWQgd2hpbGUgM3RoIGlzIG5vdCBjaGVja2VkJywKICAgICAgICAgICAgICAgICAgY2xhc3NlczogJ3JvdW5kZWQgb3JhbmdlJywKICAgICAgICAgICAgICAgICAgZGlzcGxheUxlbmd0aDogMjAwMAogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBfY29udGV4dDE2Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzOS5nZXRGbG9vclRvVXBkYXRlKCk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIF9jb250ZXh0MTYubmV4dCA9IDE2OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIHBhcnNlciA9IG5ldyBET01QYXJzZXIoKTsKICAgICAgICAgICAgICAgIHhtbF9kb2N1bWVudCA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoX3RoaXM5LnVwZGF0ZUZsb29yX2RhdGEuZGF0YV90b191cGRhdGVbJ3htbF9kb2N1bWVudCddLCAndGV4dC94bWwnKTsKICAgICAgICAgICAgICAgIHBlcm1pc3Npb25zID0geG1sX2RvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdzZXR0aW5nJyk7CiAgICAgICAgICAgICAgICBpZiAocGVybWlzc2lvbnNbMF0uZ2V0QXR0cmlidXRlKCdwdWJsaWMnKS50b0xvd2VyQ2FzZSgpICE9PSBTdHJpbmcobmV3X3NldHRpbmdzWzBdKS50b0xvd2VyQ2FzZSgpKSBwZXJtaXNzaW9uc1swXS5zZXRBdHRyaWJ1dGUoJ3B1YmxpYycsIG5ld19zZXR0aW5nc1swXSA9PT0gdHJ1ZSA/ICdUcnVlJyA6ICdGYWxzZScpOwogICAgICAgICAgICAgICAgaWYgKHBlcm1pc3Npb25zWzFdLmdldEF0dHJpYnV0ZSgnaGlkZGVuJykudG9Mb3dlckNhc2UoKSAhPT0gU3RyaW5nKG5ld19zZXR0aW5nc1sxXSkudG9Mb3dlckNhc2UoKSkgcGVybWlzc2lvbnNbMV0uc2V0QXR0cmlidXRlKCdoaWRkZW4nLCBuZXdfc2V0dGluZ3NbMV0gPT09IHRydWUgPyAnVHJ1ZScgOiAnRmFsc2UnKTsKICAgICAgICAgICAgICAgIGlmIChwZXJtaXNzaW9uc1syXS5nZXRBdHRyaWJ1dGUoJ2V2ZXJ5Ym9keUNhbkNyZWF0ZVJvb20nKS50b0xvd2VyQ2FzZSgpICE9PSBTdHJpbmcobmV3X3NldHRpbmdzWzJdKS50b0xvd2VyQ2FzZSgpKSBwZXJtaXNzaW9uc1syXS5zZXRBdHRyaWJ1dGUoJ2V2ZXJ5Ym9keUNhbkNyZWF0ZVJvb20nLCBuZXdfc2V0dGluZ3NbMl0gPT09IHRydWUgPyAnVHJ1ZScgOiAnRmFsc2UnKTsKICAgICAgICAgICAgICAgIGlmIChwZXJtaXNzaW9uc1szXS5nZXRBdHRyaWJ1dGUoJ2NyZWF0b3JDYW5EZWxldGVSb29tJykudG9Mb3dlckNhc2UoKSAhPT0gU3RyaW5nKG5ld19zZXR0aW5nc1szXSkudG9Mb3dlckNhc2UoKSkgcGVybWlzc2lvbnNbM10uc2V0QXR0cmlidXRlKCdjcmVhdG9yQ2FuRGVsZXRlUm9vbScsIG5ld19zZXR0aW5nc1szXSA9PT0gdHJ1ZSA/ICdUcnVlJyA6ICdGYWxzZScpOwogICAgICAgICAgICAgICAgX2NvbnRleHQxNi5uZXh0ID0gMTY7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM5LiRyb290LkFETUlOX3VwZGF0ZV9mbG9vcl94bWxfZG9jdW1lbnQoX3RoaXM5LmJ1aWxkaW5nTmFtZSwgX3RoaXM5LnVwZGF0ZUZsb29yX2RhdGEuc2VsZWN0ZWRGbG9vclRvVXBkYXRlLCB4bWxfZG9jdW1lbnQpLnRoZW4oIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIHZhciBfcmVmNyA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE1KHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxNSQoX2NvbnRleHQxNSkgewogICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDE1LnByZXYgPSBfY29udGV4dDE1Lm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShyZXNwb25zZVswXSA9PT0gdHJ1ZSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQxNS5uZXh0ID0gNjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgTS50b2FzdCh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh0bWw6ICdGbG9vciBzZXR0aW5ncyBoYXMgYmVlbiB1cGRhdGVkJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NlczogJ3JvdW5kZWQgZ3JlZW4nLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5TGVuZ3RoOiAyMDAwCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTUubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM5LmdldEZsb29yVG9VcGRhdGUoKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQxNS5uZXh0ID0gNzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBNLnRvYXN0KHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHRtbDogcmVzcG9uc2VbMV0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzZXM6ICdyb3VuZGVkIG9yYW5nZScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXlMZW5ndGg6IDIwMDAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE1LnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWUxNSk7CiAgICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3g3KSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWY3LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICB9KCkpOwoKICAgICAgICAgICAgICBjYXNlIDE2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTYpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBhZGRBZG1pbjogZnVuY3Rpb24gYWRkQWRtaW4oKSB7CiAgICAgIHZhciBfdGhpczEwID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxOCgpIHsKICAgICAgICB2YXIgcGFyc2VyLCB4bWxfZG9jdW1lbnQsIG5ld19ub2RlOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTgkKF9jb250ZXh0MTgpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxOC5wcmV2ID0gX2NvbnRleHQxOC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKCEoX3RoaXMxMC5hZG1pbkJ1aWxkaW5nX2RhdGEuc2VsZWN0ZWROb0FkbWluID09PSAnJykpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQxOC5uZXh0ID0gNDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgTS50b2FzdCh7CiAgICAgICAgICAgICAgICAgIGh0bWw6ICdZb3UgaGF2ZSB0byBzZWxlY3QgdXNlcicsCiAgICAgICAgICAgICAgICAgIGNsYXNzZXM6ICdyb3VuZGVkIG9yYW5nZScsCiAgICAgICAgICAgICAgICAgIGRpc3BsYXlMZW5ndGg6IDIwMDAKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgX2NvbnRleHQxOC5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpOwogICAgICAgICAgICAgICAgeG1sX2RvY3VtZW50ID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyhfdGhpczEwLmFkbWluQnVpbGRpbmdfZGF0YS54bWxfZG9jdW1lbnQsICd0ZXh0L3htbCcpOwogICAgICAgICAgICAgICAgbmV3X25vZGUgPSB4bWxfZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgnYWRtaW4nKTsKICAgICAgICAgICAgICAgIG5ld19ub2RlLnNldEF0dHJpYnV0ZSgnY2xpZW50X2lkJywgX3RoaXMxMC5hZG1pbkJ1aWxkaW5nX2RhdGEuc2VsZWN0ZWROb0FkbWluWydpZCddKTsKICAgICAgICAgICAgICAgIHhtbF9kb2N1bWVudC5nZXRFbGVtZW50c0J5VGFnTmFtZSgnYWRtaW4nKVswXS5hcHBlbmRDaGlsZChuZXdfbm9kZSk7CiAgICAgICAgICAgICAgICBfY29udGV4dDE4Lm5leHQgPSAxMTsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczEwLiRyb290LkFETUlOX3VwZGF0ZV9idWlsZGluZ194bWxfZG9jdW1lbnQoX3RoaXMxMC5idWlsZGluZ05hbWUsIHhtbF9kb2N1bWVudCkudGhlbiggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgdmFyIF9yZWY4ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTcocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE3JChfY29udGV4dDE3KSB7CiAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTcucHJldiA9IF9jb250ZXh0MTcubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHJlc3BvbnNlWzBdID09PSB0cnVlKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDE3Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBNLnRvYXN0KHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHRtbDogJ0FkbWluIHJvbGUgaGFzIGJlZW4gYWRkZWQgdG8gdXNlcicsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzZXM6ICdyb3VuZGVkIGdyZWVuJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheUxlbmd0aDogMjAwMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDE3Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMTAuY2hhbmdlVmlldygnJyk7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTcubmV4dCA9IDY7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMxMC5jaGFuZ2VWaWV3KCdhZG1pbkJ1aWxkaW5nJyk7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTcubmV4dCA9IDk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgTS50b2FzdCh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh0bWw6IHJlc3BvbnNlWzFdLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc2VzOiAncm91bmRlZCBvcmFuZ2UnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5TGVuZ3RoOiAyMDAwCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNy5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlMTcpOwogICAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94OCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVmOC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfSgpKTsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTguc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTE4KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgcmVtb3ZlQWRtaW46IGZ1bmN0aW9uIHJlbW92ZUFkbWluKCkgewogICAgICB2YXIgX3RoaXMxMSA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMjAoKSB7CiAgICAgICAgdmFyIHBhcnNlciwgeG1sX2RvY3VtZW50LCBlbGVtZW50cywgaTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIwJChfY29udGV4dDIwKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjAucHJldiA9IF9jb250ZXh0MjAubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmICghKF90aGlzMTEuYWRtaW5CdWlsZGluZ19kYXRhLnNlbGVjdGVkQWRtaW4gPT09ICcnKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIwLm5leHQgPSA0OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBNLnRvYXN0KHsKICAgICAgICAgICAgICAgICAgaHRtbDogJ1lvdSBoYXZlIHRvIHNlbGVjdCBhZG1pbiBkZWxldGUgaGlzIHJvbGUnLAogICAgICAgICAgICAgICAgICBjbGFzc2VzOiAncm91bmRlZCBvcmFuZ2UnLAogICAgICAgICAgICAgICAgICBkaXNwbGF5TGVuZ3RoOiAyMDAwCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIF9jb250ZXh0MjAubmV4dCA9IDE3OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIHBhcnNlciA9IG5ldyBET01QYXJzZXIoKTsKICAgICAgICAgICAgICAgIHhtbF9kb2N1bWVudCA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoX3RoaXMxMS5hZG1pbkJ1aWxkaW5nX2RhdGEueG1sX2RvY3VtZW50LCAndGV4dC94bWwnKTsKICAgICAgICAgICAgICAgIGVsZW1lbnRzID0geG1sX2RvY3VtZW50LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdhZG1pbicpOwogICAgICAgICAgICAgICAgaSA9IDA7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIGlmICghKGkgPCBlbGVtZW50cy5sZW5ndGgpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MjAubmV4dCA9IDE0OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIShOdW1iZXIoZWxlbWVudHNbaV0uZ2V0QXR0cmlidXRlKCdjbGllbnRfaWQnKSkgPT09IF90aGlzMTEuYWRtaW5CdWlsZGluZ19kYXRhLnNlbGVjdGVkQWRtaW5bJ2lkJ10pKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MjAubmV4dCA9IDExOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyMC5hYnJ1cHQoImJyZWFrIiwgMTQpOwoKICAgICAgICAgICAgICBjYXNlIDExOgogICAgICAgICAgICAgICAgaSsrOwogICAgICAgICAgICAgICAgX2NvbnRleHQyMC5uZXh0ID0gODsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgICAgZWxlbWVudHNbaV0ucGFyZW50Tm9kZS5yZW1vdmVDaGlsZChlbGVtZW50c1tpXSk7CiAgICAgICAgICAgICAgICBfY29udGV4dDIwLm5leHQgPSAxNzsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczExLiRyb290LkFETUlOX3VwZGF0ZV9idWlsZGluZ194bWxfZG9jdW1lbnQoX3RoaXMxMS5idWlsZGluZ05hbWUsIHhtbF9kb2N1bWVudCkudGhlbiggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgdmFyIF9yZWY5ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTkocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE5JChfY29udGV4dDE5KSB7CiAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTkucHJldiA9IF9jb250ZXh0MTkubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHJlc3BvbnNlWzBdID09PSB0cnVlKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDE5Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBNLnRvYXN0KHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHRtbDogJ0FkbWluIHJvbGUgaGFzIGJlZW4gZGVsZXRlZCcsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzZXM6ICdyb3VuZGVkIGdyZWVuJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheUxlbmd0aDogMjAwMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDE5Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMTEuY2hhbmdlVmlldygnJyk7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTkubmV4dCA9IDY7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMxMS5jaGFuZ2VWaWV3KCdhZG1pbkJ1aWxkaW5nJyk7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTkubmV4dCA9IDk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgTS50b2FzdCh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh0bWw6IHJlc3BvbnNlWzFdLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc2VzOiAncm91bmRlZCBvcmFuZ2UnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5TGVuZ3RoOiAyMDAwCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxOS5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlMTkpOwogICAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94OSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVmOS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfSgpKTsKCiAgICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjAuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIwKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfQp9Ow=="},{"version":3,"sources":["/home/woli/Projects/DataRoom/frontend/src/components/adminBuildingDiv.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"container\">\n    <div class=\"row\"/>\n    <div class=\"row\" style=\"margin: 0 !important;\">\n      <button type=\"button\" v-on:click=\"changeView('addUser')\"  class=\"btn blue darken-2 col s6\">Add user to building</button>\n      <button type=\"button\" v-on:click=\"changeView('removeUser')\" class=\"btn blue lighten-2 col s6\">Remove user from building</button>\n    </div>\n    <div class=\"row\" style=\"margin: 0 !important;\">\n      <button type=\"button\" v-on:click=\"changeView('addFloor')\" class=\"btn blue lighten-2 col s6\">Create new floor</button>\n      <button type=\"button\" v-on:click=\"changeView('removeFloor')\"  class=\"btn blue darken-2 col s6\">Remove floor</button>\n    </div>\n    <div class=\"row\" style=\"margin: 0 !important;\">\n      <button type=\"button\" v-on:click=\"changeView('updateFloor')\" class=\"btn blue darken-2 col s6\">Update floor settings</button>\n      <button type=\"button\" v-on:click=\"changeView('adminBuilding')\" class=\"btn blue lighten-2 col s6\">Manage admin role</button>\n    </div>\n    <div class=\"row\"/>\n    <hr style=\"color:deepskyblue\"/>\n    <form v-if=\"activeView === 'addFloor'\" action=\"javascript:void(0)\" v-on:submit=\"addFloor\" id=\"addFloor\">\n      <div class=\"row input-field\">\n          <i class=\"material-icons prefix\">remove_red_eye</i>\n          <input class=\"validate\" id=\"addFloorName\" type=\"text\" required>\n          <label for=\"addFloorName\" class=\"active\" >Floor name</label>\n      </div>\n      <div class=\"row input-field\" style=\"margin-bottom: 25px;\">\n          <input type=\"checkbox\" id=\"addFloorPermission_public\"/>\n          <label for=\"addFloorPermission_public\">Public</label>\n      </div>\n      <div class=\"row input-field\" style=\"margin-bottom: 25px;\">\n        <input type=\"checkbox\" id=\"addFloorPermission_hidden\"/>\n        <label for=\"addFloorPermission_hidden\">Hidden</label>\n      </div>\n      <div class=\"row input-field\" style=\"margin-bottom: 25px;\">\n          <input type=\"checkbox\" id=\"addFloorPermission_everybody\"/>\n          <label for=\"addFloorPermission_everybody\">Everybody can create rooms</label>\n      </div>\n      <div class=\"row input-field\" style=\"margin-bottom: 25px;\">\n          <input type=\"checkbox\" id=\"addFloorPermission_creators\"/>\n          <label for=\"addFloorPermission_creators\">Creators can remove their rooms</label>\n      </div>\n      <div class=\"row\"/>\n      <div class=\"row input-field\">\n        <button type=\"submit\" class=\"btn btn blue darken-2\">CREATE FLOOR</button>\n      </div>\n    </form>\n    <form v-if=\"activeView === 'removeFloor'\" action=\"javascript:void(0)\" v-on:submit=\"removeFloor\" id=\"removeFloor\">\n      <div class=\"row input-field\">\n        <select id=\"removeFloorSelect\" v-model=\"removeFloor_data.selectedFloorToRemove\">\n          <option value=\"\" disabled>Select floor to delete</option>\n          <option v-for=\"(item, index) in removeFloor_data.floor_list\" :key=\"index\" :value=\"item\" >{{ item }}</option>\n        </select>\n      </div>\n      <button type=\"submit\" class=\"btn blue\">Remove floor</button>\n    </form>\n    <form v-if=\"activeView === 'removeUser'\" action=\"javascript:void(0)\" v-on:submit=\"removeUser\" id=\"removeUser\">\n      <div class=\"row input-field\">\n        <select id=\"removeUserSelect\" v-model=\"removeUser_data.selectedUserToRemove\">\n          <option value=\"\" disabled>Select user to remove</option>\n          <option v-for=\"(item, index) in removeUser_data.user_list\" :key=\"index\" :value=\"item['email']\" >{{ item['email'] }} - {{ item['first_name'] }} {{ item['second_name'] }}</option>\n        </select>\n      </div>\n      <button type=\"submit\" class=\"btn blue\">Remove user</button>\n    </form>\n    <form v-if=\"activeView === 'addUser'\" action=\"javascript:void(0)\" v-on:submit=\"addUser\" id=\"addUser\">\n      <div class=\"row input-field\">\n        <input v-model=\"addUser_data.emailUserToAdd\" type=\"email\" id=\"addUserEmail\" required />\n        <label for=\"addUserEmail\" class=\"active\">Enter user email</label>\n      </div>\n      <button type=\"submit\" class=\"btn blue\">Add user</button>\n    </form>\n    <form v-if=\"activeView === 'updateFloor'\" action=\"javascript:void(0)\" id=\"updateFloor\">\n      <div class=\"row input-field\">\n        <select id=\"updateFloorSelect\" v-model=\"updateFloor_data.selectedFloorToUpdate\" v-on:change=\"getFloorToUpdate\">\n          <option value=\"\" disabled>Select floor to update</option>\n          <option v-for=\"(item, index) in updateFloor_data.floor_list\" :key=\"index\" :value=\"item\">{{ item }}</option>\n        </select>\n      </div>\n      <div v-if=\"updateFloor_data.data_to_update\" class=\"row\">\n        <div class=\"col s6\">\n          <div class=\"row input-field\" style=\"margin-bottom: 25px;\">\n            <input type=\"checkbox\" id=\"updateFloorPermission_public\"/>\n            <label for=\"updateFloorPermission_public\">Public</label>\n          </div>\n          <div class=\"row input-field\" style=\"margin-bottom: 25px;\">\n            <input type=\"checkbox\" id=\"updateFloorPermission_hidden\"/>\n            <label for=\"updateFloorPermission_hidden\">Hidden</label>\n          </div>\n          <div class=\"row input-field\" style=\"margin-bottom: 25px;\">\n            <input type=\"checkbox\" id=\"updateFloorPermission_everybody\"/>\n            <label for=\"updateFloorPermission_everybody\">Everybody can create rooms</label>\n          </div>\n          <div class=\"row input-field\" style=\"margin-bottom: 25px;\">\n            <input type=\"checkbox\" id=\"updateFloorPermission_creators\"/>\n            <label for=\"updateFloorPermission_creators\">Creators can remove their rooms</label>\n          </div>\n        </div>\n        <div class=\"col s6\">\n          <div class=\"row\"/>\n          <div class=\"row\"/>\n          <button type=\"button\" v-on:click=\"updateSettings\" class=\"btn blue\">Update settings</button>\n        </div>\n        <div class=\"row\"/>\n        <div class=\"row\">\n          <div class=\"col s6\">\n            <b>Level administrators:</b>\n            <select id=\"updateFloorLevelAdministratorSelect\" v-model=\"updateFloor_data.selectedLevelAdministrator\">\n              <option value=\"\" disabled>Select level administrator</option>\n              <option v-for=\"(item, index) in updateFloor_data.level_administrator_list\" :key=\"index\" :value=\"item\">{{item['email']}} - {{item['first_name']}} {{item['second_name']}}</option>\n            </select>\n            <button type=\"button\" v-on:click=\"removeLevelAdministrator\" class=\"btn blue\">Remove level admin</button>\n          </div>\n          <div class=\"col s6\">\n            <b>Users:</b>\n            <select id=\"updateFloorUserSelect\" v-model=\"updateFloor_data.selectedUser\">\n              <option value=\"\" disabled>Select user</option>\n              <option v-for=\"(item, index) in updateFloor_data.nolevel_administrator_list\" :key=\"index\" :value=\"item\">{{item['email']}} - {{item['first_name']}} {{item['second_name']}}</option>\n            </select>\n            <button type=\"button\" v-on:click=\"addLevelAdministrator\" class=\"btn blue\">Add level admin</button>\n          </div>\n        </div>\n      </div>\n    </form>\n    <form v-if=\"activeView === 'adminBuilding'\" action=\"javascript:void(0)\" id=\"adminBuilding\">\n      <div class=\"row\">\n        <div class=\"col s6\">\n          <select id=\"adminBuildingAdminsSelect\" v-model=\"adminBuilding_data.selectedAdmin\">\n            <option value=\"\" disabled>Select admin</option>\n            <option v-for=\"(item, index) in adminBuilding_data.Admin_list\" :key=\"index\" :value=\"item\">{{ item['email']}} - {{ item['first_name']}} {{ item['second_name'] }}</option>\n          </select>\n          <button type=\"button\" v-on:click=\"removeAdmin\" class=\"btn blue\">Take back admin role form user</button>\n        </div>\n        <div class=\"col s6\">\n          <select id=\"adminBuildingNoAdminsSelect\" v-model=\"adminBuilding_data.selectedNoAdmin\">\n            <option value=\"\" disabled>Select user</option>\n            <option v-for=\"(item, index) in adminBuilding_data.noAdmin_list\" :key=\"index\" :value=\"item\">{{item['email']}} - {{ item['first_name'] }} {{ item['second_name'] }}</option>\n          </select>\n          <button type=\"button\" v-on:click=\"addAdmin\" class=\"btn blue\">Add admin role to user</button>\n        </div>\n      </div>\n    </form>\n  </div>\n</template>\n\n<script>\nimport M from 'materialize-css';\nimport _ from 'lodash';\n\nexport default {\n  name: \"adminBuildingDiv\",\n  data() {\n    return {\n      activeView: '',\n      removeFloor_data: {\n        floor_list: null,\n        selectedFloorToRemove: '',\n      },\n      addUser_data: {\n        emailUserToAdd: '',\n      },\n      removeUser_data: {\n        user_list: null,\n        selectedUserToRemove: '',\n      },\n      updateFloor_data: {\n        floor_list: null,\n        selectedFloorToUpdate: '',\n        data_to_update: null,\n        user_list: null,\n        selectedLevelAdministrator: '',\n        selectedUser: '',\n        level_administrator_list: null,\n        nolevel_administrator_list: null,\n      },\n      adminBuilding_data: {\n        user_list: null,\n        xml_document: null,\n        noAdmin_list: null,\n        Admin_list: null,\n        selectedAdmin: '',\n        selectedNoAdmin: '',\n      }\n    }\n  },\n  props: {\n    buildingName: String,\n  },\n  methods: {\n    async changeView(view) {\n      if (view === this.activeView)\n        this.activeView = !this.activeView;\n      else {\n        this.activeView = view;\n        if (view === 'removeFloor') {\n          await this.$root.ADMIN_getAllFloorsForBuilding(this.buildingName).then((response) => {\n            if (response[0] === true)\n              this.removeFloor_data.floor_list = response[1];\n            else\n              M.toast({html: response[1], classes: \"rounded orange\", displayLength: 2000});\n          });\n          M.FormSelect.init(document.getElementById('removeFloorSelect'));\n        }\n        else if (view === 'removeUser') {\n          await this.$root.ADMIN_getAllUsersForBuilding(this.buildingName).then( (response) => {\n            if (response[0] === true)\n              this.removeUser_data.user_list = response[1];\n            else\n              M.toast({ html: response[1], classes: \"rounded orange\", displayLength: 2000 });\n          });\n          M.FormSelect.init(document.getElementById('removeUserSelect'));\n        }\n        else if (view === 'updateFloor') {\n          await this.$root.ADMIN_getAllFloorsForBuilding(this.buildingName).then((response) => {\n            if (response[0] === true)\n              this.updateFloor_data.floor_list = response[1];\n            else\n              M.toast({ html: response[1], classes: \"rounded orange\", displayLength: 2000 });\n          });\n          await this.$root.ADMIN_getAllUsersForBuilding(this.buildingName).then((response) => {\n            if (response[0] === true)\n              this.updateFloor_data.user_list = response[1];\n            else\n              M.toast({ html: response[1], classes: \"rounded orange\", displayLength: 2000 });\n          });\n          M.FormSelect.init(document.getElementById('updateFloorSelect'));\n        }\n        else if (view === 'adminBuilding') {\n          await this.$root.ADMIN_getAllUsersForBuilding(this.buildingName).then((response) => {\n            if (response[0] === true)\n              this.adminBuilding_data.user_list = response[1];\n            else\n              M.toast({ html: response[1], classes: \"rounded orange\", displayLength: 2000 });\n          });\n          await this.$root.ADMIN_getBuildingXML(this.buildingName).then((response) => {\n            if (response[0] === true)\n              this.adminBuilding_data.xml_document = response[1];\n            else\n              M.toast({ html: response[1], classes: 'rounded orange', displayLength: 2000});\n          });\n          const parser = new DOMParser();\n          const xml_doc = parser.parseFromString(this.adminBuilding_data.xml_document, 'text/xml');\n          let admins = xml_doc.getElementsByTagName('admin');\n          let admins_id = []\n          for(let i = 0; i < admins.length ; i++)\n            admins_id.push(Number(admins[i].attributes[0].value));\n          this.adminBuilding_data.Admin_list = await _.filter(this.adminBuilding_data.user_list, (item) => {\n            for(let i = 0; i < admins_id.length; i++)\n              if (Number(item['id']) === Number(admins_id[i]))\n                return true;\n            return false;\n          });\n          this.adminBuilding_data.noAdmin_list = await _.filter(this.adminBuilding_data.user_list, (item) => {\n            for(let i = 0; i < admins_id.length; i++)\n              if (Number(item['id']) === Number(admins_id[i]))\n                return false;\n            return true;\n          });\n          await M.FormSelect.init(document.getElementById('adminBuildingAdminsSelect'));\n          await M.FormSelect.init(document.getElementById('adminBuildingNoAdminsSelect'));\n        }\n      }\n    },\n    async addFloor() {\n      const perm_hidden = document.getElementById('addFloorPermission_hidden').checked;\n      const perm_public = document.getElementById('addFloorPermission_public').checked;\n      const perm_everybody = document.getElementById('addFloorPermission_everybody').checked;\n      const perm_creators = document.getElementById('addFloorPermission_creators').checked;\n      if (perm_creators === true && perm_everybody === false) {\n        M.toast({ html:\"Logic error in permission select. 4rd cannot be checked when 3rd is not checked\", classes: \"rounded orange\", displayLength: 2000})\n      } else {\n        const name = document.getElementById('addFloorName').value;\n        const permissions = [perm_public, perm_hidden, perm_everybody, perm_creators];\n        await this.$root.ADMIN_addFloorToBuilding(this.buildingName, name, permissions).then(async (response) => {\n          if (response[0] === true) {\n            M.toast({html: 'Floor has been created', classes: \"rounded green\", displayLength: 2000});\n            document.getElementById(\"addFloor\").reset();\n            await this.changeView('');\n          }\n          else\n            M.toast({ html: response[1], classes: \"rounded orange\", displayLength: 2000 });\n        });\n      }\n    },\n    async removeFloor() {\n      if (this.removeFloor_data.selectedFloorToRemove === '') {\n        M.toast({ html: 'You have to choose floor to delete', classes: \"rounded orange\", displayLength: 2000 });\n      } else {\n        await this.$root.ADMIN_removeFloor(this.buildingName, this.removeFloor_data.selectedFloorToRemove).then(async (response) => {\n          if (response[0] === true) {\n            M.toast({html: 'Floor has been removed', classes: \"rounded green\", displayLength: 2000});\n            await this.changeView('');\n          } else {\n            M.toast({html: response[1], classes: \"rounded orange\", displayLength: 2000});\n          }\n        });\n      }\n    },\n    async removeUser() {\n      if (this.removeUser_data.selectedUserToRemove === '') {\n        M.toast({ html: 'You have to choose floor to delete', classes: \"rounded orange\", displayLength: 2000 });\n      } else {\n        await this.$root.ADMIN_removeUserFromBuilding(this.buildingName, this.removeUser_data.selectedUserToRemove).then(async (response) => {\n          if (response[0] === true) {\n            M.toast({html: 'User has been removed', classes: \"rounded green\", displayLength: 2000});\n            await this.changeView('');\n          } else\n            M.toast({ html: response[1], classes: \"rounded orange\", displayLength: 2000 });\n        });\n      }\n    },\n    async addUser() {\n      await this.$root.ADMIN_addUserToBuilding(this.buildingName, this.addUser_data.emailUserToAdd).then(async (response) => {\n        if (response[0] === true) {\n          M.toast({html: 'User has been added to building', classes: \"rounded green\", displayLength: 2000});\n          await this.changeView('');\n        } else\n          M.toast({ html: response[1], classes: \"rounded orange\", displayLength: 2000 });\n      });\n    },\n    async getFloorToUpdate() {\n      await this.$root.ADMIN_getFullFloorData(this.buildingName, this.updateFloor_data.selectedFloorToUpdate).then((response) => {\n        if (response[0] === true)\n          this.updateFloor_data.data_to_update = response[1][0];\n        else\n          M.toast({ html: response[1], classes:\"rounded orange\", displayLength: 2000 });\n      });\n      const parser = new DOMParser();\n      const xml_doc = parser.parseFromString(this.updateFloor_data.data_to_update['xml_document'], 'text/xml');\n      const settings = xml_doc.getElementsByTagName('setting');\n      const perm_sel_pub = document.getElementById('updateFloorPermission_public');\n      const perm_sel_hid = document.getElementById('updateFloorPermission_hidden');\n      const perm_sel_eve = document.getElementById('updateFloorPermission_everybody');\n      const perm_sel_cre = document.getElementById('updateFloorPermission_creators');\n      ((settings[0].attributes[0].value === 'True') ? perm_sel_pub.checked = true : perm_sel_pub.checked=false);\n      ((settings[1].attributes[0].value === 'True') ? perm_sel_hid.checked = true : perm_sel_hid.checked=false);\n      ((settings[2].attributes[0].value === 'True') ? perm_sel_eve.checked = true : perm_sel_eve.checked=false);\n      ((settings[3].attributes[0].value === 'True') ? perm_sel_cre.checked = true : perm_sel_cre.checked=false);\n      const level_administrators = xml_doc.getElementsByTagName('level_administrator');\n      let level_administrators_ids = [];\n      for (let i = 0; i < level_administrators.length; i++) {\n        level_administrators_ids.push(Number(level_administrators[i].attributes[0].value));\n      }\n      this.updateFloor_data.level_administrator_list = await _.filter(this.updateFloor_data.user_list, (item) => {\n        for(let i = 0; i < level_administrators_ids.length ; i++)\n          if(Number(item[\"id\"]) === Number(level_administrators_ids[i]))\n            return true\n        return false;\n      });\n      this.updateFloor_data.nolevel_administrator_list = await _.filter(this.updateFloor_data.user_list, (item) => {\n        for(let i = 0; i < level_administrators_ids.length ; i++)\n          if(Number(item[\"id\"]) === Number(level_administrators_ids[i]))\n            return false;\n        return true;\n      })\n      await M.FormSelect.init(document.getElementById('updateFloorLevelAdministratorSelect'));\n      await M.FormSelect.init(document.getElementById('updateFloorUserSelect'));\n      await this.$forceUpdate();\n    },\n    async removeLevelAdministrator() {\n      const parser = new DOMParser();\n      let xml_document = parser.parseFromString(this.updateFloor_data.data_to_update['xml_document'], 'text/xml');\n      let elements = xml_document.getElementsByTagName('level_administrator');\n      let i = 0;\n      for(; i < elements.length; i++) {\n        if (Number(elements[i].getAttribute('client_id')) === this.updateFloor_data.selectedLevelAdministrator['id']) {\n          break;\n        }\n      }\n      elements[i].parentNode.removeChild(elements[i]);\n      await this.$root.ADMIN_update_floor_xml_document(this.buildingName, this.updateFloor_data.selectedFloorToUpdate, xml_document).then(async (response) => {\n        if (response[0] === true) {\n          M.toast({ html: 'Level administrator role has been deleted', classes: 'rounded green', displayLength: 2000 });\n          await this.getFloorToUpdate();\n        } else\n          M.toast({ html: response[1], classes: 'rounded orange', displayLength: 2000 });\n      });\n    },\n    async addLevelAdministrator() {\n      const parser = new DOMParser();\n      let xml_document = parser.parseFromString(this.updateFloor_data.data_to_update['xml_document'], 'text/xml');\n      let new_node = xml_document.createElement('level_administrator');\n      new_node.setAttribute('client_id', this.updateFloor_data.selectedUser['id']);\n      xml_document.getElementsByTagName('level_administrator')[0].appendChild(new_node);\n      await this.$root.ADMIN_update_floor_xml_document(this.buildingName, this.updateFloor_data.selectedFloorToUpdate, xml_document).then(async (response) => {\n        if (response[0] === true) {\n          M.toast({html: 'Level administrator has been added', classes: \"rounded green\", displayLength: 2000});\n          await this.getFloorToUpdate();\n        }\n        else\n          M.toast({ html: response[1], classes: \"rounded orange\", displayLength: 2000 });\n      });\n    },\n    async updateSettings() {\n      const new_settings = [document.getElementById('updateFloorPermission_public').checked, document.getElementById('updateFloorPermission_hidden').checked,\n      document.getElementById('updateFloorPermission_everybody').checked, document.getElementById('updateFloorPermission_creators').checked];\n      if (new_settings[2] === false && new_settings[3] === true) {\n        M.toast({ html: 'Logic error in settings. 4rd cannot be checked while 3th is not checked', classes: 'rounded orange', displayLength: 2000 });\n        await this.getFloorToUpdate();\n      } else {\n        const parser = new DOMParser();\n        let xml_document = parser.parseFromString(this.updateFloor_data.data_to_update['xml_document'], 'text/xml');\n        let permissions = xml_document.getElementsByTagName('setting');\n        if (permissions[0].getAttribute('public').toLowerCase() !== String(new_settings[0]).toLowerCase())\n          permissions[0].setAttribute('public', (new_settings[0] === true) ? 'True' : 'False')\n        if (permissions[1].getAttribute('hidden').toLowerCase() !== String(new_settings[1]).toLowerCase())\n          permissions[1].setAttribute('hidden', (new_settings[1] === true) ? 'True' : 'False')\n        if (permissions[2].getAttribute('everybodyCanCreateRoom').toLowerCase() !== String(new_settings[2]).toLowerCase())\n          permissions[2].setAttribute('everybodyCanCreateRoom', (new_settings[2] === true) ? 'True' : 'False')\n        if (permissions[3].getAttribute('creatorCanDeleteRoom').toLowerCase() !== String(new_settings[3]).toLowerCase())\n          permissions[3].setAttribute('creatorCanDeleteRoom', (new_settings[3] === true) ? 'True' : 'False')\n        await this.$root.ADMIN_update_floor_xml_document(this.buildingName, this.updateFloor_data.selectedFloorToUpdate, xml_document).then(async (response) => {\n          if (response[0] === true) {\n            M.toast({html: 'Floor settings has been updated', classes: 'rounded green', displayLength: 2000});\n            await this.getFloorToUpdate();\n          } else\n            M.toast({html: response[1], classes: 'rounded orange', displayLength: 2000});\n        });\n      }\n    },\n    async addAdmin() {\n      if (this.adminBuilding_data.selectedNoAdmin === '')\n        M.toast({ html: 'You have to select user', classes:'rounded orange', displayLength: 2000 });\n      else {\n        const parser = new DOMParser();\n        let xml_document = parser.parseFromString(this.adminBuilding_data.xml_document, 'text/xml');\n        let new_node = xml_document.createElement('admin');\n        new_node.setAttribute('client_id', this.adminBuilding_data.selectedNoAdmin['id']);\n        xml_document.getElementsByTagName('admin')[0].appendChild(new_node);\n        await this.$root.ADMIN_update_building_xml_document(this.buildingName, xml_document).then(async (response) => {\n          if (response[0] === true) {\n            M.toast({html: 'Admin role has been added to user', classes: 'rounded green', displayLength: 2000});\n            await this.changeView('');\n            await this.changeView('adminBuilding');\n          } else\n            M.toast({html: response[1], classes: 'rounded orange', displayLength: 2000});\n        });\n      }\n    },\n    async removeAdmin() {\n      if (this.adminBuilding_data.selectedAdmin === '')\n        M.toast({ html: 'You have to select admin delete his role', classes:'rounded orange', displayLength: 2000 });\n      else {\n        const parser = new DOMParser();\n        let xml_document = parser.parseFromString(this.adminBuilding_data.xml_document, 'text/xml');\n        let elements = xml_document.getElementsByTagName('admin');\n        let i = 0;\n        for (; i < elements.length; i++) {\n          if (Number(elements[i].getAttribute('client_id')) === this.adminBuilding_data.selectedAdmin['id'])\n            break;\n        }\n        elements[i].parentNode.removeChild(elements[i]);\n        await this.$root.ADMIN_update_building_xml_document(this.buildingName, xml_document).then(async (response) => {\n          if (response[0] === true) {\n            M.toast({html: 'Admin role has been deleted', classes: 'rounded green', displayLength: 2000});\n            await this.changeView('');\n            await this.changeView('adminBuilding');\n          } else\n            M.toast({html: response[1], classes: 'rounded orange', displayLength: 2000});\n        });\n      }\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>"],"sourceRoot":""}]}