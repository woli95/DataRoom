{"remainingRequest":"/home/woli/Projects/DataRoom/frontend/node_modules/babel-loader/lib/index.js!/home/woli/Projects/DataRoom/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/woli/Projects/DataRoom/frontend/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/woli/Projects/DataRoom/frontend/src/components/profileSettings.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/woli/Projects/DataRoom/frontend/src/components/profileSettings.vue","mtime":1611752706257},{"path":"/home/woli/Projects/DataRoom/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1607646038494},{"path":"/home/woli/Projects/DataRoom/frontend/node_modules/babel-loader/lib/index.js","mtime":1607646038462},{"path":"/home/woli/Projects/DataRoom/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1607646038494},{"path":"/home/woli/Projects/DataRoom/frontend/node_modules/vue-loader-v16/dist/index.js","mtime":1607646042274}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50by1zdHJpbmciOwppbXBvcnQgInJlZ2VuZXJhdG9yLXJ1bnRpbWUvcnVudGltZSI7CmltcG9ydCBfYXN5bmNUb0dlbmVyYXRvciBmcm9tICIvaG9tZS93b2xpL1Byb2plY3RzL0RhdGFSb29tL2Zyb250ZW5kL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS9hc3luY1RvR2VuZXJhdG9yIjsKaW1wb3J0IE0gZnJvbSAibWF0ZXJpYWxpemUtY3NzIjsKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdwcm9maWxlU2V0dGluZ3MnLAogIG1ldGhvZHM6IHsKICAgIG9wZW5Nb2RhbDogZnVuY3Rpb24gb3Blbk1vZGFsKHdoaWNoKSB7CiAgICAgIGlmICh3aGljaCA9PT0gJ2VtYWlsJykgTS5Nb2RhbC5pbml0KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdlbWFpbENoYW5nZU1vZGFsJykpLm9wZW4oKTtlbHNlIGlmICh3aGljaCA9PT0gJ3Bhc3N3b3JkJykgTS5Nb2RhbC5pbml0KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwYXNzd29yZENoYW5nZU1vZGFsJykpLm9wZW4oKTsKICAgIH0sCiAgICBzdWJtaXRGb3JtOiBmdW5jdGlvbiBzdWJtaXRGb3JtKGZvcm0pIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyKCkgewogICAgICAgIHZhciBuZXdNYWlsLCByZXR5cGVkTWFpbCwgbmV3UGFzc3dvcmQsIHJldHlwZWRQYXNzd29yZCwgZmlyc3RfbmFtZSwgc2Vjb25kX25hbWUsIHBob25lX251bWJlciwgYmlydGhfZGF0ZTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIkKF9jb250ZXh0MikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIucHJldiA9IF9jb250ZXh0Mi5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKCEoZm9ybSA9PT0gJ2NoYW5nZUVtYWlsJykpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxMTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgbmV3TWFpbCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9maWxlU2V0dGluZ3NOZXdFbWFpbCcpLnZhbHVlOwogICAgICAgICAgICAgICAgcmV0eXBlZE1haWwgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvZmlsZVNldHRpbmdzTmV3UmV0eXBlZEVtYWlsJykudmFsdWU7CgogICAgICAgICAgICAgICAgaWYgKCEobmV3TWFpbCAhPT0gcmV0eXBlZE1haWwpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgTS50b2FzdCh7CiAgICAgICAgICAgICAgICAgIGh0bWw6ICdFbWFpbHMgZG8gbm90IG1hdGNoJywKICAgICAgICAgICAgICAgICAgY2xhc3NlczogJ3JvdW5kZWQgb3JhbmdlJywKICAgICAgICAgICAgICAgICAgZGlzcGxheUxlbmd0aDogMjAwMAogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDk7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSA5OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRyb290LlNFVFRJTkdTX2NoYW5nZVVzZXJFbWFpbChuZXdNYWlsKS50aGVuKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICB2YXIgX3JlZiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZShyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHJlc3BvbnNlWzBdID09PSB0cnVlKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NoYW5nZUVtYWlsRm9ybScpLnJlc2V0KCk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBNLnRvYXN0KHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHRtbDogJ0VtYWlsIGFkZHJlc3MgaGFzIGJlZW4gY2hhbmdlZCcsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzZXM6ICdyb3VuZGVkIGdyZWVuJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheUxlbmd0aDogMjAwMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy4kcm9vdC5BVVRIX2xvZ291dFVzZXIoKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2VbMF0gPT09IHRydWUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBNLnRvYXN0KHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh0bWw6ICdZb3UgaGF2ZSBiZWVuIGxvZ2dlZCBvdXQnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NlczogJ3JvdW5kZWQgZ3JlZW4nLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheUxlbmd0aDogMjAwMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzLiRyb290LnNlc3Npb25fdG9rZW4gPSBudWxsOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgTS50b2FzdCh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHRtbDogcmVzcG9uc2VbMV0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NlczogJ3JvdW5kZWQgb3JhbmdlJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5TGVuZ3RoOiAyMDAwCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0LnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWUpOwogICAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94KSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0oKSk7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjk7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICAgIGlmICghKGZvcm0gPT09ICdjaGFuZ2VQYXNzd29yZCcpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjI7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIG5ld1Bhc3N3b3JkID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3Byb2ZpbGVTZXR0aW5nc05ld1Bhc3N3b3JkJykudmFsdWU7CiAgICAgICAgICAgICAgICByZXR5cGVkUGFzc3dvcmQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvZmlsZVNldHRpbmdzTmV3UmV0eXBlZFBhc3N3b3JkJykudmFsdWU7CgogICAgICAgICAgICAgICAgaWYgKCEobmV3UGFzc3dvcmQgIT09IHJldHlwZWRQYXNzd29yZCkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyLm5leHQgPSAxODsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgTS50b2FzdCh7CiAgICAgICAgICAgICAgICAgIGh0bWw6ICdQYXNzd29yZHMgZG8gbm90IG1hdGNoJywKICAgICAgICAgICAgICAgICAgY2xhc3NlczogJ3JvdW5kZWQgb3JhbmdlJywKICAgICAgICAgICAgICAgICAgZGlzcGxheUxlbmd0aDogMjAwMAogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDIwOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTg6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDIwOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRyb290LlNFVFRJTkdTX2NoYW5nZVVzZXJQYXNzd29yZChuZXdQYXNzd29yZCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlWzBdID09PSB0cnVlKSB7CiAgICAgICAgICAgICAgICAgICAgTS50b2FzdCh7CiAgICAgICAgICAgICAgICAgICAgICBodG1sOiAnUGFzc3dvcmQgaGFzIGJlZW4gY2hhbmdlZCcsCiAgICAgICAgICAgICAgICAgICAgICBjbGFzc2VzOiAncm91bmRlZCBncmVlbicsCiAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5TGVuZ3RoOiAyMDAwCiAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NoYW5nZVBhc3N3b3JkRm9ybScpLnJlc2V0KCk7CiAgICAgICAgICAgICAgICAgICAgTS5Nb2RhbC5nZXRJbnN0YW5jZShkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncGFzc3dvcmRDaGFuZ2VNb2RhbCcpKS5jbG9zZSgpOwogICAgICAgICAgICAgICAgICB9IGVsc2UgTS50b2FzdCh7CiAgICAgICAgICAgICAgICAgICAgaHRtbDogcmVzcG9uc2VbMV0sCiAgICAgICAgICAgICAgICAgICAgY2xhc3NlczogJ3JvdW5kZWQgb3JhbmdlJywKICAgICAgICAgICAgICAgICAgICBkaXNwbGF5TGVuZ3RoOiAyMDAwCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjA6CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDI5OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMjI6CiAgICAgICAgICAgICAgICBpZiAoIShmb3JtID09PSAndXBkYXRlUHJvZmlsZScpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjk7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGZpcnN0X25hbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvZmlsZVNldHRpbmdzRmlyc3ROYW1lJykudmFsdWU7CiAgICAgICAgICAgICAgICBzZWNvbmRfbmFtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9maWxlU2V0dGluZ3NTZWNvbmROYW1lJykudmFsdWU7CiAgICAgICAgICAgICAgICBwaG9uZV9udW1iZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvZmlsZVNldHRpbmdzUGhvbmVOdW1iZXInKS52YWx1ZS50b1N0cmluZygpOwogICAgICAgICAgICAgICAgYmlydGhfZGF0ZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9maWxlU2V0dGluZ3NCaXJ0aERhdGUnKS52YWx1ZTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMjk7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuJHJvb3QuU0VUVElOR1NfdXBkYXRlVXNlclByb2ZpbGUoZmlyc3RfbmFtZSwgc2Vjb25kX25hbWUsIHBob25lX251bWJlciwgYmlydGhfZGF0ZSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlWzBdID09PSB0cnVlKSBNLnRvYXN0KHsKICAgICAgICAgICAgICAgICAgICBodG1sOiAnUHJvZmlsZSBoYXMgYmVlbiB1cGRhdGVkJywKICAgICAgICAgICAgICAgICAgICBjbGFzc2VzOiAncm91bmRlZCBncmVlbicsCiAgICAgICAgICAgICAgICAgICAgZGlzcGxheUxlbmd0aDogMjAwMAogICAgICAgICAgICAgICAgICB9KTtlbHNlIE0udG9hc3QoewogICAgICAgICAgICAgICAgICAgIGh0bWw6IHJlc3BvbnNlWzFdLAogICAgICAgICAgICAgICAgICAgIGNsYXNzZXM6ICdyb3VuZGVkIG9yYW5nZScsCiAgICAgICAgICAgICAgICAgICAgZGlzcGxheUxlbmd0aDogMjAwMAogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI5OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9CiAgfSwKICBiZWZvcmVNb3VudDogZnVuY3Rpb24gYmVmb3JlTW91bnQoKSB7CiAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMi4kcm9vdC5VU0VSX2dldFVzZXJQcm9maWxlKCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZVswXSA9PT0gdHJ1ZSkgewogICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvZmlsZVNldHRpbmdzRmlyc3ROYW1lJykudmFsdWUgPSByZXNwb25zZVsxXVswXVsiZmlyc3RfbmFtZSJdOwogICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgncHJvZmlsZVNldHRpbmdzU2Vjb25kTmFtZScpLnZhbHVlID0gcmVzcG9uc2VbMV1bMF1bInNlY29uZF9uYW1lIl07CiAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9maWxlU2V0dGluZ3NQaG9uZU51bWJlcicpLnZhbHVlID0gcmVzcG9uc2VbMV1bMF1bInBob25lIl07CiAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9maWxlU2V0dGluZ3NCaXJ0aERhdGUnKS52YWx1ZSA9IHJlc3BvbnNlWzFdWzBdWyJiaXJ0aF9kYXRlIl07CiAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9maWxlU2V0dGluZ3NFbWFpbCcpLnZhbHVlID0gcmVzcG9uc2VbMV1bMF1bImVtYWlsIl07CiAgICAgICAgICAgICAgICAgIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdwcm9maWxlU2V0dGluZ3NDcmVhdGVEYXRlJykudmFsdWUgPSByZXNwb25zZVsxXVswXVsiY3JlYXRlZF9kYXRlIl07CiAgICAgICAgICAgICAgICB9IGVsc2UgTS50b2FzdCh7CiAgICAgICAgICAgICAgICAgIGh0bWw6IHJlc3BvbnNlWzFdLAogICAgICAgICAgICAgICAgICBjbGFzc2VzOiAncm91bmRlZCByZWQnLAogICAgICAgICAgICAgICAgICBkaXNwbGF5TGVuZ3RoOiAyMDAwCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0sIF9jYWxsZWUzKTsKICAgIH0pKSgpOwogIH0KfTs="},{"version":3,"sources":["/home/woli/Projects/DataRoom/frontend/src/components/profileSettings.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div id=\"main\" class=\"container white\">\n    <div class=\"row center-align\">\n      <b id=\"title\">S e t t i n g s</b>\n    </div>\n      <form action=\"javascript:void(0)\" id='updateProfileForm' @submit=\"submitForm('updateProfile')\" class=\"container-fluid\" style=\"margin: 5px 5px 5px 5px\">\n        <div class=\"row\">\n          <div class=\"input-field col s6 left-align \">\n            <input class=\"input\" type=\"text\" id=\"profileSettingsEmail\" disabled/>\n            <label for=\"profileSettingsEmail\" class=\"active\">Email address</label>\n          </div>\n          <div class=\"input-field col s6 right-align\">\n            <input class=\"input\" type=\"date\" id=\"profileSettingsCreateDate\" disabled>\n            <label for=\"profileSettingsCreateDate\" class=\"active\">Account created</label>\n          </div>\n        </div>\n          <div class=\"row\">\n            <div class=\"input-field col s6 left-align\">\n              <input class=\"input\" type=\"text\" id=\"profileSettingsFirstName\" minlength=\"3\"/>\n              <label for=\"profileSettingsFirstName\" class=\"active\">First name</label>\n            </div>\n            <div class=\"input-field col s6 right-align \">\n              <input class=\"input\" type=\"text\" id=\"profileSettingsSecondName\" minlength=\"2\"/>\n              <label for=\"profileSettingsSecondName\" class=\"active\">Second name</label>\n            </div>\n          </div>\n        <div class=\"row\">\n          <div class=\"input-field col s6 left-align \">\n            <input class=\"input\" type=\"number\" id=\"profileSettingsPhoneNumber\" min=\"111111111\" max=\"999999999\"/>\n            <label for=\"profileSettingsPhoneNumber\" class=\"active\">Phone number</label>\n          </div>\n          <div class=\"input-field col s6 right-align\">\n            <input class=\"input\" type=\"date\" id=\"profileSettingsBirthDate\"/>\n            <label for=\"profileSettingsBirthDate\" class=\"active\">Birthday date</label>\n          </div>\n        </div>\n        <div class=\"row\">\n          <div class=\"input-field col\">\n            <button @click=\"openModal('password')\" type=\"button\" class=\"btn blue\">Change password</button>\n          </div>\n          <div class=\"input-field col\">\n            <button type=\"submit\" class=\"btn blue darken-2\">Update profile</button>\n          </div>\n          <div class=\"input-field col\">\n            <button @click=\"openModal('email')\" type=\"button\" class=\"btn blue\">Change email</button>\n          </div>\n          </div>\n      </form>\n    <div id=\"passwordChangeModal\" class=\"modal\">\n      <div class=\"modal-content\">\n        <h4 class=\"center-align\">Change password</h4>\n        <form @submit=\"submitForm('changePassword')\" id='changePasswordForm' action=\"javascript:void(0)\">\n          <div class=\"input-field\">\n            <input type=\"password\" id=\"profileSettingsNewPassword\" minlength=\"6\" required>\n            <label for=\"profileSettingsNewPassword\" class=\"active\">New password</label>\n          </div>\n          <div class=\"input-field\">\n            <input type=\"password\" id=\"profileSettingsNewRetypedPassword\" minlength=\"6\" required>\n            <label for=\"profileSettingsNewRetypedPassword\" class=\"active\">Retype new password</label>\n          </div>\n          <div class=\"input-field center-align\">\n            <button type=\"submit\" class=\"btn btn-blue\">Submit</button>\n          </div>\n        </form>\n      </div>\n    </div>\n    <div id=\"emailChangeModal\" class=\"modal\">\n      <div class=\"modal-content\">\n        <h4 class=\"center-align\">Change Email</h4>\n        <form @submit=\"submitForm('changeEmail')\" id='changeEmailForm' action=\"javascript:void(0)\">\n          <div class=\"input-field\">\n            <input type=\"email\" id=\"profileSettingsNewEmail\" required>\n            <label for=\"profileSettingsNewEmail\" class=\"active\">New Email</label>\n          </div>\n          <div class=\"input-field\">\n            <input type=\"password\" id=\"profileSettingsNewRetypedEmail\" required>\n            <label for=\"profileSettingsNewRetypedEmail\" class=\"active\">Retype new email</label>\n          </div>\n          <div class=\"input-field center-align\">\n            <p class=\"center-align\">After submit and successfully email change you will be logged out</p>\n            <button type=\"submit\" class=\"btn btn-blue\">Submit</button>\n          </div>\n        </form>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport M from \"materialize-css\";\n\nexport default {\n  name: 'profileSettings',\n  methods: {\n    openModal(which) {\n      if (which === 'email')\n        M.Modal.init(document.getElementById('emailChangeModal')).open();\n      else if (which === 'password')\n        M.Modal.init(document.getElementById('passwordChangeModal')).open();\n    },\n    async submitForm(form) {\n      if (form === 'changeEmail') {\n        const newMail = document.getElementById('profileSettingsNewEmail').value;\n        const retypedMail = document.getElementById('profileSettingsNewRetypedEmail').value;\n        if (newMail !== retypedMail)\n          M.toast({ html: 'Emails do not match', classes: 'rounded orange', displayLength: 2000 });\n        else {\n          await this.$root.SETTINGS_changeUserEmail(newMail).then(async (response) => {\n            if (response[0] === true) {\n              document.getElementById('changeEmailForm').reset();\n              M.toast({html: 'Email address has been changed', classes: 'rounded green', displayLength: 2000});\n              await this.$root.AUTH_logoutUser().then((response) => {\n                if (response[0] === true) {\n                  M.toast({ html: 'You have been logged out', classes: 'rounded green', displayLength: 2000 });\n                  this.$root.session_token = null;\n\n                } else\n                  M.toast({ html: response[1], classes: 'rounded orange', displayLength: 2000 });\n              });\n            }\n          });\n        }\n      }\n      else if (form === 'changePassword') {\n        const newPassword = document.getElementById('profileSettingsNewPassword').value;\n        const retypedPassword = document.getElementById('profileSettingsNewRetypedPassword').value;\n        if (newPassword !== retypedPassword) {\n          M.toast({ html: 'Passwords do not match', classes: 'rounded orange', displayLength: 2000 });\n        }\n        else {\n          await this.$root.SETTINGS_changeUserPassword(newPassword).then((response) => {\n            if (response[0] === true) {\n              M.toast({ html: 'Password has been changed', classes: 'rounded green', displayLength: 2000 });\n              document.getElementById('changePasswordForm').reset();\n              M.Modal.getInstance(document.getElementById('passwordChangeModal')).close();\n            } else\n              M.toast({ html: response[1], classes: 'rounded orange', displayLength: 2000 });\n          });\n        }\n      }\n      else if  (form === 'updateProfile') {\n        const first_name = document.getElementById('profileSettingsFirstName').value;\n        const second_name = document.getElementById('profileSettingsSecondName').value;\n        const phone_number = document.getElementById('profileSettingsPhoneNumber').value.toString();\n        const birth_date = document.getElementById('profileSettingsBirthDate').value;\n        await this.$root.SETTINGS_updateUserProfile(first_name, second_name, phone_number, birth_date).then((response) => {\n          if (response[0] === true)\n            M.toast({ html: 'Profile has been updated', classes: 'rounded green', displayLength: 2000 });\n          else\n            M.toast({ html: response[1], classes: 'rounded orange', displayLength: 2000 });\n        });\n      }\n    },\n  },\n  async beforeMount() {\n    await this.$root.USER_getUserProfile().then((response) => {\n      if (response[0] === true) {\n        document.getElementById('profileSettingsFirstName').value = response[1][0][\"first_name\"];\n        document.getElementById('profileSettingsSecondName').value = response[1][0][\"second_name\"];\n        document.getElementById('profileSettingsPhoneNumber').value = response[1][0][\"phone\"];\n        document.getElementById('profileSettingsBirthDate').value = response[1][0][\"birth_date\"];\n        document.getElementById('profileSettingsEmail').value = response[1][0][\"email\"];\n        document.getElementById('profileSettingsCreateDate').value = response[1][0][\"created_date\"]\n      } else\n        M.toast({ html: response[1], classes: 'rounded red', displayLength: 2000 });\n    });\n  }\n}\n</script>\n\n<style scoped>\nh4 {\n  font-size: 20px;\n  font-family: Roboto,serif;\n  color: blue;\n  text-shadow: 1px 2px aqua;\n}\n#title {\n  font-size: 20px;\n  font-family: Roboto,serif;\n  color: blue;\n  text-shadow: 1px 2px aqua;\n}\n#main {\n  border-right: 5px outset #468499;\n  box-shadow: 4px 4px 4px 4px #468199\n}\ninput[type=number]::-webkit-inner-spin-button,\ninput[type=number]::-webkit-outer-spin-button {\n  -webkit-appearance: none;\n  -moz-appearance: none;\n  appearance: none;\n  margin: 0;\n}\n</style>"],"sourceRoot":""}]}