{"remainingRequest":"/home/woli/Projects/DataRoom/frontend/node_modules/babel-loader/lib/index.js!/home/woli/Projects/DataRoom/frontend/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/home/woli/Projects/DataRoom/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/woli/Projects/DataRoom/frontend/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/woli/Projects/DataRoom/frontend/src/App.vue?vue&type=template&id=7ba5bd90&bindings={\"console\":\"options\",\"isLoggedIn\":\"options\",\"logged\":\"data\",\"appView\":\"data\",\"loginView\":\"data\",\"fb\":\"data\"}","dependencies":[{"path":"/home/woli/Projects/DataRoom/frontend/src/App.vue","mtime":1606508247781},{"path":"/home/woli/Projects/DataRoom/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1605655761733},{"path":"/home/woli/Projects/DataRoom/frontend/node_modules/babel-loader/lib/index.js","mtime":1605655761701},{"path":"/home/woli/Projects/DataRoom/frontend/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":1605655765241},{"path":"/home/woli/Projects/DataRoom/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1605655761733},{"path":"/home/woli/Projects/DataRoom/frontend/node_modules/vue-loader-v16/dist/index.js","mtime":1605655765241}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVzb2x2ZUNvbXBvbmVudCBhcyBfcmVzb2x2ZUNvbXBvbmVudCwgY3JlYXRlVk5vZGUgYXMgX2NyZWF0ZVZOb2RlLCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlQmxvY2sgYXMgX2NyZWF0ZUJsb2NrLCBjcmVhdGVDb21tZW50Vk5vZGUgYXMgX2NyZWF0ZUNvbW1lbnRWTm9kZSwgRnJhZ21lbnQgYXMgX0ZyYWdtZW50IH0gZnJvbSAidnVlIjsKdmFyIF9ob2lzdGVkXzEgPSB7CiAga2V5OiAyCn07CmV4cG9ydCBmdW5jdGlvbiByZW5kZXIoX2N0eCwgX2NhY2hlLCAkcHJvcHMsICRzZXR1cCwgJGRhdGEsICRvcHRpb25zKSB7CiAgdmFyIF9jb21wb25lbnRfTG9naW5WaWV3ID0gX3Jlc29sdmVDb21wb25lbnQoIkxvZ2luVmlldyIpOwoKICB2YXIgX2NvbXBvbmVudF9BcHBWaWV3ID0gX3Jlc29sdmVDb21wb25lbnQoIkFwcFZpZXciKTsKCiAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKF9GcmFnbWVudCwgbnVsbCwgWyRkYXRhLmxvZ2dlZCA9PT0gZmFsc2UgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soX2NvbXBvbmVudF9Mb2dpblZpZXcsIHsKICAgIGtleTogMAogIH0pKSA6IF9jcmVhdGVDb21tZW50Vk5vZGUoInYtaWYiLCB0cnVlKSwgJGRhdGEubG9nZ2VkID09PSB0cnVlID8gKF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKF9jb21wb25lbnRfQXBwVmlldywgewogICAga2V5OiAxCiAgfSkpIDogX2NyZWF0ZUNvbW1lbnRWTm9kZSgidi1pZiIsIHRydWUpLCAkZGF0YS5sb2dnZWQgPT09IHRydWUgPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soImIiLCBfaG9pc3RlZF8xKSkgOiBfY3JlYXRlQ29tbWVudFZOb2RlKCJ2LWlmIiwgdHJ1ZSldLCA2NAogIC8qIFNUQUJMRV9GUkFHTUVOVCAqLwogICk7Cn0="},{"version":3,"sources":["/home/woli/Projects/DataRoom/frontend/src/App.vue"],"names":[],"mappings":";;;;;;;;;sDAMmB,KAAA,CAAA,MAAA,KAAM,K,kBAAvB,YAAA,CAAqC,oBAArC,EAAqC;AAAA,IAAA,GAAA,EAAA;AAAA,GAArC,C,uCACe,KAAA,CAAA,MAAA,KAAM,I,kBAArB,YAAA,CAAkC,kBAAlC,EAAkC;AAAA,IAAA,GAAA,EAAA;AAAA,GAAlC,C,uCACS,KAAA,CAAA,MAAA,KAAM,I,kBAAf,YAAA,CAA8B,GAA9B,EAA8B,UAA9B,C","sourcesContent":["<!--TODO:\n1. Przekierowanie z pomyślnej rejestracji\n2. Przekierowanie z pomyślnego logowania -->\n\n\n<template>\n  <LoginView v-if=\"logged === false\" />\n  <AppView v-if=\"logged === true\" />\n  <b v-if=\"logged === true\"></b>\n</template>\n\n<script>\nimport LoginView from \"@/components/LoginView.vue\";\nimport AppView from \"@/components/AppView\";\nimport firebase from 'firebase';\nimport axios from 'axios';\nimport M from 'materialize-css';\n\nconst backend_url = 'https://data-room-293312.ew.r.appspot.com';\nconst firebaseConfig = {\n  apiKey: \"AIzaSyDZt4vzBei774pUJLNvwI3VQJjsUOvkY-o\",\n  authDomain: \"data-room-293312.firebaseapp.com\",\n  databaseURL: \"https://data-room-293312.firebaseio.com\",\n  projectId: \"data-room-293312\",\n  storageBucket: \"data-room-293312.appspot.com\",\n  messagingSenderId: \"85427468926\",\n  appId: \"1:85427468926:web:e2ef214971d39f34ac362f\"\n};\nfirebase.initializeApp(firebaseConfig)\n\nexport default {\n  name: 'App',\n  computed: {\n    console: () => console\n  },\n  components: {\n    AppView,\n    LoginView\n  },\n  methods: {\n    async isLoggedIn() {\n      if (await this.fb.auth().currentUser != null) {\n        return true;\n      } else {\n        return false;\n      }\n    },\n  },\n  data() {\n    return {\n      logged: this.isLoggedIn(),\n      appView: false,\n      loginView: true,\n      fb: firebase,\n    }\n  },\n  created() {\n    let self = this;\n    window.onbeforeunload = async function() {\n      self.LoginView = true;\n      self.AppView = false;\n      if (self.fb.auth().currentUser != null) {\n        await axios.get(backend_url.concat('/client/', self.fb.auth().currentUser.uid.toString(), '/logout')).then( async() => {\n          M.toast({ html: 'Tokens destroyed '});\n          await self.fb.auth().signOut().then(() => {\n            M.toast({ html: 'Signed out' });\n          });\n        });\n      }\n    }\n  }\n}\n</script>\n\n<style>\nbody {\n  background-image: url('assets/azure-6.jpg');\n}\n</style>\n"],"sourceRoot":""}]}