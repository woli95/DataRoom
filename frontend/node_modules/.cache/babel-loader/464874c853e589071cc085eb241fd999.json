{"remainingRequest":"/home/woli/Projects/DataRoom/frontend/node_modules/babel-loader/lib/index.js!/home/woli/Projects/DataRoom/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/woli/Projects/DataRoom/frontend/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/woli/Projects/DataRoom/frontend/src/components/enterBuildingDiv.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/woli/Projects/DataRoom/frontend/src/components/enterBuildingDiv.vue","mtime":1612050443179},{"path":"/home/woli/Projects/DataRoom/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/woli/Projects/DataRoom/frontend/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/woli/Projects/DataRoom/frontend/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/woli/Projects/DataRoom/frontend/node_modules/@vue/cli-service/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL2hvbWUvd29saS9Qcm9qZWN0cy9EYXRhUm9vbS9mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBNIGZyb20gJ21hdGVyaWFsaXplLWNzcyc7CmltcG9ydCBfIGZyb20gJ2xvZGFzaCc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiZW50ZXJCdWlsZGluZ0RpdiIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGFjdGl2ZUZvcm06ICcnLAogICAgICBsaXN0OiB7CiAgICAgICAgYnVpbGRpbmdfbGlzdDogbnVsbCwKICAgICAgICBmbG9vcl9saXN0OiBudWxsLAogICAgICAgIHJvb21fbGlzdDogbnVsbCwKICAgICAgICBmaWxlX2xpc3Q6IG51bGwKICAgICAgfSwKICAgICAgY3VycmVudGx5OiB7CiAgICAgICAgYnVpbGRpbmc6IG51bGwsCiAgICAgICAgZmxvb3I6IG51bGwsCiAgICAgICAgcm9vbTogbnVsbAogICAgICB9LAogICAgICB0bXA6IHsKICAgICAgICB2YWwxOiBudWxsCiAgICAgIH0sCiAgICAgIERFTEVURV9ST09NX0RBVEE6IHsKICAgICAgICBzZWxlY3RlZF9yb29tX3RvX2RlbGV0ZTogJycsCiAgICAgICAgcm9vbV9saXN0OiAnJwogICAgICB9LAogICAgICBNQU5BR0VfRkxPT1JfUEVSTUlTU0lPTl9EQVRBOiB7CiAgICAgICAgYnVpbGRpbmdfdXNlcnNfbm90X2luX2Zsb29yOiAnJywKICAgICAgICBzZWxlY3RlZF91c2VyX3RvX2FkZF90b19mbG9vcjogJycsCiAgICAgICAgc2VsZWN0ZWRfdXNlcl90b19yZW1vdmVfZnJvbV9mbG9vcjogJycsCiAgICAgICAgZmxvb3JfdXNlcnM6ICcnCiAgICAgIH0sCiAgICAgIE1BTkFHRV9ST09NX1BFUk1JU1NJT05fREFUQTogewogICAgICAgIHNlbGVjdGVkX3Jvb206ICcnLAogICAgICAgIHJvb21fbGlzdDogJycsCiAgICAgICAgc2VsZWN0ZWRfc2V0dGluZ19wdWJsaWM6ICcnLAogICAgICAgIHNlbGVjdGVkX3NldHRpbmdfaGlkZGVuOiAnJywKICAgICAgICBzZWxlY3RlZF91c2VyX3RvX3JlbW92ZV9mcm9tX3Jvb206ICcnLAogICAgICAgIHJvb21fdXNlcnM6ICcnLAogICAgICAgIHNlbGVjdGVkX3VzZXJfdG9fYWRkX3RvX3Jvb206ICcnLAogICAgICAgIGZsb29yX3VzZXJzX25vdF9pbl9yb29tOiAnJywKICAgICAgICBzZWxlY3RlZF9zZXR0aW5nX2Rvd25sb2FkOiAnJywKICAgICAgICBzZWxlY3RlZF9zZXR0aW5nX3VwbG9hZDogJycKICAgICAgfSwKICAgICAgUk9PTV9TRUNUSU9OOiB7CiAgICAgICAgYWN0aXZlVmlldzogJycKICAgICAgfQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGNoYW5nZUFjdGl2ZUZvcm06IGZ1bmN0aW9uIGNoYW5nZUFjdGl2ZUZvcm0od2hhdCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgZmxvb3JfeG1sLCBidWlsZGluZ191c2VycywgcGFyc2VyLCB4bWxfZG9jLCB1c2VyczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoIShfdGhpcy5hY3RpdmVGb3JtID09PSB3aGF0KSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX3RoaXMuYWN0aXZlRm9ybSA9ICcnOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQzOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIF90aGlzLmFjdGl2ZUZvcm0gPSB3aGF0OwoKICAgICAgICAgICAgICAgIGlmICghKF90aGlzLmFjdGl2ZUZvcm0gPT09ICdkZWxldGVSb29tJykpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE3OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gODsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy4kcm9vdC5nZXRGbG9vclJvb21zKF90aGlzLmN1cnJlbnRseS5mbG9vclsiZmxvb3JfbmFtZSJdLCBfdGhpcy5jdXJyZW50bHkuYnVpbGRpbmdbImJ1aWxkaW5nX25hbWUiXSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlWzBdID09PSB0cnVlKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMuREVMRVRFX1JPT01fREFUQS5yb29tX2xpc3QgPSByZXNwb25zZVsxXTsKICAgICAgICAgICAgICAgICAgfSBlbHNlIE0udG9hc3QoewogICAgICAgICAgICAgICAgICAgIGh0bWw6IHJlc3BvbnNlWzFdLAogICAgICAgICAgICAgICAgICAgIGNsYXNzZXM6ICJyb3VuZGVkIG9yYW5nZSIsCiAgICAgICAgICAgICAgICAgICAgZGlzcGxheUxlbmd0aDogMjAwMAogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICByZXR1cm4gc2V0VGltZW91dChudWxsLCA1MDApOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBNLkZvcm1TZWxlY3Q7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgICByZXR1cm4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RlbGV0ZVJvb21TZWxlY3QnKTsKCiAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnQxID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgICBfY29udGV4dC50MC5pbml0LmNhbGwoX2NvbnRleHQudDAsIF9jb250ZXh0LnQxKTsKCiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDM7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICAgIGlmICghKF90aGlzLmFjdGl2ZUZvcm0gPT09ICdtYW5hZ2VSb29tUGVybWlzc2lvbicpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyNTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDIwOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRyb290LmdldEZsb29yUm9vbXMoX3RoaXMuY3VycmVudGx5LmZsb29yWyJmbG9vcl9uYW1lIl0sIF90aGlzLmN1cnJlbnRseS5idWlsZGluZ1siYnVpbGRpbmdfbmFtZSJdKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2VbMF0gPT09IHRydWUpIHsKICAgICAgICAgICAgICAgICAgICBfdGhpcy5NQU5BR0VfUk9PTV9QRVJNSVNTSU9OX0RBVEEucm9vbV9saXN0ID0gcmVzcG9uc2VbMV07CiAgICAgICAgICAgICAgICAgIH0gZWxzZSBNLnRvYXN0KHsKICAgICAgICAgICAgICAgICAgICBodG1sOiByZXNwb25zZVsxXSwKICAgICAgICAgICAgICAgICAgICBjbGFzc2VzOiAicm91bmRlZCBvcmFuZ2UiLAogICAgICAgICAgICAgICAgICAgIGRpc3BsYXlMZW5ndGg6IDIwMDAKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyMjsKICAgICAgICAgICAgICAgIHJldHVybiBzZXRUaW1lb3V0KG51bGwsIDUwMCk7CgogICAgICAgICAgICAgIGNhc2UgMjI6CiAgICAgICAgICAgICAgICBNLkZvcm1TZWxlY3QuaW5pdChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFuYWdlUGVybWlzc2lvblNlbGVjdFJvb20nKSk7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDM7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAyNToKICAgICAgICAgICAgICAgIGlmICghKF90aGlzLmFjdGl2ZUZvcm0gPT09ICdtYW5hZ2VGbG9vclBlcm1pc3Npb24nKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDM7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyODsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy4kcm9vdC5MRVZFTEFETUlOX2dldF9mbG9vcl94bWwoX3RoaXMuY3VycmVudGx5LmJ1aWxkaW5nWydidWlsZGluZ19uYW1lJ10sIF90aGlzLmN1cnJlbnRseS5mbG9vclsnZmxvb3JfbmFtZSddKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2VbMF0gPT09IHRydWUpIGZsb29yX3htbCA9IHJlc3BvbnNlWzFdO2Vsc2UgTS50b2FzdCh7CiAgICAgICAgICAgICAgICAgICAgaHRtbDogcmVzcG9uc2VbMV0sCiAgICAgICAgICAgICAgICAgICAgY2xhc3NlczogJ3JvdW5kZWQgb3JhbmdlJywKICAgICAgICAgICAgICAgICAgICBkaXNwbGF5TGVuZ3RoOiAyMDAwCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjg6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzA7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuJHJvb3QuTEVWRUxBRE1JTl9nZXRBbGxVc2Vyc0ZvckJ1aWxkaW5nKF90aGlzLmN1cnJlbnRseS5idWlsZGluZ1snYnVpbGRpbmdfbmFtZSddKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2VbMF0gPT09IHRydWUpIGJ1aWxkaW5nX3VzZXJzID0gcmVzcG9uc2VbMV07ZWxzZSBNLnRvYXN0KHsKICAgICAgICAgICAgICAgICAgICBodG1sOiByZXNwb25zZVsxXSwKICAgICAgICAgICAgICAgICAgICBjbGFzc2VzOiAncm91bmRlZCBvcmFuZ2UnLAogICAgICAgICAgICAgICAgICAgIGRpc3BsYXlMZW5ndGg6IDIwMDAKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAzMDoKICAgICAgICAgICAgICAgIHBhcnNlciA9IG5ldyBET01QYXJzZXIoKTsKICAgICAgICAgICAgICAgIHhtbF9kb2MgPSBwYXJzZXIucGFyc2VGcm9tU3RyaW5nKGZsb29yX3htbCwgJ3RleHQveG1sJyk7CiAgICAgICAgICAgICAgICB1c2VycyA9IHhtbF9kb2MuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3VzZXInKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzNTsKICAgICAgICAgICAgICAgIHJldHVybiBfLmZpbHRlcihidWlsZGluZ191c2VycywgZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCB1c2Vycy5sZW5ndGg7IGsrKykgewogICAgICAgICAgICAgICAgICAgIGlmIChOdW1iZXIodXNlcnNba10uZ2V0QXR0cmlidXRlKCdjbGllbnRfaWQnKSkgPT09IGl0ZW1bJ2lkJ10pIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAzNToKICAgICAgICAgICAgICAgIF90aGlzLk1BTkFHRV9GTE9PUl9QRVJNSVNTSU9OX0RBVEEuYnVpbGRpbmdfdXNlcnNfbm90X2luX2Zsb29yID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzODsKICAgICAgICAgICAgICAgIHJldHVybiBfLmZpbHRlcihidWlsZGluZ191c2VycywgZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCB1c2Vycy5sZW5ndGg7IGsrKykgewogICAgICAgICAgICAgICAgICAgIGlmIChOdW1iZXIodXNlcnNba10uZ2V0QXR0cmlidXRlKCdjbGllbnRfaWQnKSkgPT09IGl0ZW1bJ2lkJ10pIHJldHVybiB0cnVlOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAzODoKICAgICAgICAgICAgICAgIF90aGlzLk1BTkFHRV9GTE9PUl9QRVJNSVNTSU9OX0RBVEEuZmxvb3JfdXNlcnMgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQxOwogICAgICAgICAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQobnVsbCwgNTAwKTsKCiAgICAgICAgICAgICAgY2FzZSA0MToKICAgICAgICAgICAgICAgIE0uRm9ybVNlbGVjdC5pbml0KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZGRVVG9GbG9vclNlbGVjdCcpKTsKICAgICAgICAgICAgICAgIE0uRm9ybVNlbGVjdC5pbml0KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZW1vdmVVRnJvbUZsb29yU2VsZWN0JykpOwoKICAgICAgICAgICAgICBjYXNlIDQzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHNlbGVjdEJ1aWxkaW5nOiBmdW5jdGlvbiBzZWxlY3RCdWlsZGluZyhidWlsZGluZ19pdGVtKSB7CiAgICAgIHRoaXMudG1wLnZhbDEgPSBidWlsZGluZ19pdGVtOwogICAgICBpZiAoYnVpbGRpbmdfaXRlbVsiaXNBZG1pbiJdID09PSBmYWxzZSkgdGhpcy5lbnRlckJ1aWxkaW5nKCd1c2VyJyk7ZWxzZSBpZiAoYnVpbGRpbmdfaXRlbVsiaXNBZG1pbiJdID09PSB0cnVlKSBNLk1vZGFsLmluaXQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J1aWxkaW5nRW50ZXJBZG1pbk9yVXNlcicpKS5vcGVuKCk7CiAgICB9LAogICAgZW50ZXJSb29tOiBmdW5jdGlvbiBlbnRlclJvb20ocm9vbV9uYW1lKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzMi5jdXJyZW50bHkucm9vbSA9IHJvb21fbmFtZTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuJHJvb3QuZ2V0RmlsZXNJblJvb20ocm9vbV9uYW1lWydyb29tX25hbWUnXSwgX3RoaXMyLmN1cnJlbnRseS5idWlsZGluZ1siYnVpbGRpbmdfbmFtZSJdLCBfdGhpczIuY3VycmVudGx5LmZsb29yWyJmbG9vcl9uYW1lIl0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZVswXSA9PT0gdHJ1ZSkgX3RoaXMyLmxpc3QuZmlsZV9saXN0ID0gcmVzcG9uc2VbMV07ZWxzZSBNLnRvYXN0KHsKICAgICAgICAgICAgICAgICAgICBodG1sOiByZXNwb25zZVsxXSwKICAgICAgICAgICAgICAgICAgICBjbGFzc2VzOiAicm91bmRlZCBvcmFuZ2UiLAogICAgICAgICAgICAgICAgICAgIGRpc3BsYXlMZW5ndGg6IDIwMDAKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZW50ZXJGbG9vcjogZnVuY3Rpb24gZW50ZXJGbG9vcihmbG9vcl9pdGVtKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUzJChfY29udGV4dDMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQzLnByZXYgPSBfY29udGV4dDMubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzMy5jdXJyZW50bHkuZmxvb3IgPSBmbG9vcl9pdGVtOwogICAgICAgICAgICAgICAgX3RoaXMzLmxpc3Qucm9vbV9saXN0ID0gZmxvb3JfaXRlbVsncm9vbV9kYXRhJ107CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGVudGVyQnVpbGRpbmc6IGZ1bmN0aW9uIGVudGVyQnVpbGRpbmcoYXNXaG8pIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNCgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTQkKF9jb250ZXh0NCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDQucHJldiA9IF9jb250ZXh0NC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgaWYgKF90aGlzNC50bXAudmFsMVsiaXNBZG1pbiJdID09PSB0cnVlKSBNLk1vZGFsLmdldEluc3RhbmNlKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdidWlsZGluZ0VudGVyQWRtaW5PclVzZXInKSkuY2xvc2UoKTsKCiAgICAgICAgICAgICAgICBpZiAoIShhc1dobyA9PT0gJ3VzZXInKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDc7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF90aGlzNC5jdXJyZW50bHkuYnVpbGRpbmcgPSBfdGhpczQudG1wLnZhbDE7CiAgICAgICAgICAgICAgICBfY29udGV4dDQubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM0LmdldEZsb29yTGlzdChfdGhpczQudG1wLnZhbDFbImJ1aWxkaW5nX25hbWUiXSk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gODsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICBpZiAoYXNXaG8gPT09ICdhZG1pbicpIHsKICAgICAgICAgICAgICAgICAgX3RoaXM0LiRwYXJlbnQuY2hhbmdlVmlldygnYWRtaW4nLCBfdGhpczQudG1wLnZhbDFbImJ1aWxkaW5nX25hbWUiXSk7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGdldEJ1aWxkaW5nTGlzdDogZnVuY3Rpb24gZ2V0QnVpbGRpbmdMaXN0KCkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU1KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNSQoX2NvbnRleHQ1KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NS5wcmV2ID0gX2NvbnRleHQ1Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDUubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM1LiRyb290LmdldEJ1aWxkaW5nTGlzdCgpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZVswXSA9PT0gdHJ1ZSkgX3RoaXM1Lmxpc3QuYnVpbGRpbmdfbGlzdCA9IHJlc3BvbnNlWzFdO2Vsc2UgTS50b2FzdCh7CiAgICAgICAgICAgICAgICAgICAgaHRtbDogcmVzcG9uc2VbMV0sCiAgICAgICAgICAgICAgICAgICAgY2xhc3NlczogInJvdW5kZWQgb3JhbmdlIiwKICAgICAgICAgICAgICAgICAgICBkaXNwbGF5TGVuZ3RoOiAyMDAwCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0NS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlNSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGdldEZsb29yTGlzdDogZnVuY3Rpb24gZ2V0Rmxvb3JMaXN0KG5hbWUpIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNigpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTYkKF9jb250ZXh0NikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDYucHJldiA9IF9jb250ZXh0Ni5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQ2Lm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNi4kcm9vdC5nZXRCdWlsZGluZ0Zsb29ycyhuYW1lKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2VbMF0gPT09IGZhbHNlKSBNLnRvYXN0KHsKICAgICAgICAgICAgICAgICAgICBodG1sOiByZXNwb25zZVsxXSwKICAgICAgICAgICAgICAgICAgICBjbGFzc2VzOiAicm91bmRlZCBvcmFuZ2UiLAogICAgICAgICAgICAgICAgICAgIGRpc3BsYXlMZW5ndGg6IDIwMDAKICAgICAgICAgICAgICAgICAgfSk7ZWxzZSBfdGhpczYubGlzdC5mbG9vcl9saXN0ID0gcmVzcG9uc2VbMV07CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ2LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU2KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgYWRkUm9vbTogZnVuY3Rpb24gYWRkUm9vbSgpIHsKICAgICAgdmFyIF90aGlzNyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlOCgpIHsKICAgICAgICB2YXIgcm9vbU5hbWUsIHBlcm1fcHVibGljLCBwZXJtX2hpZGRlbjsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTgkKF9jb250ZXh0OCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDgucHJldiA9IF9jb250ZXh0OC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgcm9vbU5hbWUgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY3JlYXRlUm9vbU5hbWUnKS52YWx1ZTsKICAgICAgICAgICAgICAgIHBlcm1fcHVibGljID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NyZWF0ZVJvb21QZXJtaXNzaW9uX3B1YmxpYycpLmNoZWNrZWQ7CiAgICAgICAgICAgICAgICBwZXJtX2hpZGRlbiA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjcmVhdGVSb29tUGVybWlzc2lvbl9oaWRkZW4nKS5jaGVja2VkOwogICAgICAgICAgICAgICAgX2NvbnRleHQ4Lm5leHQgPSA1OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNy4kcm9vdC5MRVZFTEFETUlOX2NyZWF0ZVJvb20ocm9vbU5hbWUsIF90aGlzNy5jdXJyZW50bHkuZmxvb3JbImZsb29yX25hbWUiXSwgX3RoaXM3LmN1cnJlbnRseS5idWlsZGluZ1siYnVpbGRpbmdfbmFtZSJdLCBwZXJtX3B1YmxpYywgcGVybV9oaWRkZW4pLnRoZW4oIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIHZhciBfcmVmID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlNyhyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNyQoX2NvbnRleHQ3KSB7CiAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ny5wcmV2ID0gX2NvbnRleHQ3Lm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShyZXNwb25zZVswXSA9PT0gdHJ1ZSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ3Lm5leHQgPSA3OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBNLnRvYXN0KHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHRtbDogJ1Jvb20gaGFzIGJlZW4gY3JlYXRlZCcsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzZXM6ICJyb3VuZGVkIGdyZWVuIiwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheUxlbmd0aDogMjAwMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM3LmVudGVyRmxvb3IoX3RoaXM3LmN1cnJlbnRseS5mbG9vcik7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNy5hY3RpdmVGb3JtID0gJyc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDg7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgTS50b2FzdCh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh0bWw6IHJlc3BvbnNlWzFdLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc2VzOiAicm91bmRlZCBvcmFuZ2UiLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5TGVuZ3RoOiAyMDAwCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ3LnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWU3KTsKICAgICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVmLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICB9KCkpOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDguc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTgpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBkZWxldGVSb29tOiBmdW5jdGlvbiBkZWxldGVSb29tKCkgewogICAgICB2YXIgX3RoaXM4ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMCgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEwJChfY29udGV4dDEwKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTAucHJldiA9IF9jb250ZXh0MTAubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTAubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM4LiRyb290LkxFVkVMQURNSU5fZGVsZXRlUm9vbShfdGhpczguY3VycmVudGx5LmJ1aWxkaW5nWydidWlsZGluZ19uYW1lJ10sIF90aGlzOC5jdXJyZW50bHkuZmxvb3JbJ2Zsb29yX25hbWUnXSwgX3RoaXM4LkRFTEVURV9ST09NX0RBVEEuc2VsZWN0ZWRfcm9vbV90b19kZWxldGUpLnRoZW4oIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIHZhciBfcmVmMiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTkocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTkkKF9jb250ZXh0OSkgewogICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDkucHJldiA9IF9jb250ZXh0OS5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEocmVzcG9uc2VbMF0gPT09IHRydWUpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0OS5uZXh0ID0gNzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgTS50b2FzdCh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh0bWw6ICdSb29tIGhhcyBiZWVuIGRlbGV0ZWQnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc2VzOiAncm91bmRlZCBncmVlbicsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXlMZW5ndGg6IDIwMDAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ5Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzOC5lbnRlckZsb29yKF90aGlzOC5jdXJyZW50bHkuZmxvb3IpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczguYWN0aXZlRm9ybSA9ICcnOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ5Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIE0udG9hc3QoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBodG1sOiByZXNwb25zZVsxXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NlczogJ3JvdW5kZWQgb3JhbmdlJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheUxlbmd0aDogMjAwMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OS5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlOSk7CiAgICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3gyKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWYyLmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICB9KCkpOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEwLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxMCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGFkZFVzZXJUb0Zsb29yOiBmdW5jdGlvbiBhZGRVc2VyVG9GbG9vcigpIHsKICAgICAgdmFyIF90aGlzOSA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTIoKSB7CiAgICAgICAgdmFyIHBhcnNlciwgeG1sX3N0cmluZywgeG1sX2RvYywgbmV3X25vZGU7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMiQoX2NvbnRleHQxMikgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDEyLnByZXYgPSBfY29udGV4dDEyLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBwYXJzZXIgPSBuZXcgRE9NUGFyc2VyKCk7CiAgICAgICAgICAgICAgICBfY29udGV4dDEyLm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzOS4kcm9vdC5MRVZFTEFETUlOX2dldF9mbG9vcl94bWwoX3RoaXM5LmN1cnJlbnRseS5idWlsZGluZ1snYnVpbGRpbmdfbmFtZSddLCBfdGhpczkuY3VycmVudGx5LmZsb29yWydmbG9vcl9uYW1lJ10pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZVswXSA9PT0gdHJ1ZSkgeG1sX3N0cmluZyA9IHJlc3BvbnNlWzFdO2Vsc2UgTS50b2FzdCh7CiAgICAgICAgICAgICAgICAgICAgaHRtbDogcmVzcG9uc2VbMV0sCiAgICAgICAgICAgICAgICAgICAgY2xhc3NlczogJ3JvdW5kZWQgb3JhbmdlJywKICAgICAgICAgICAgICAgICAgICBkaXNwbGF5TGVuZ3RoOiAyMDAwCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHhtbF9kb2MgPSBwYXJzZXIucGFyc2VGcm9tU3RyaW5nKHhtbF9zdHJpbmcsICd0ZXh0L3htbCcpOwogICAgICAgICAgICAgICAgbmV3X25vZGUgPSB4bWxfZG9jLmNyZWF0ZUVsZW1lbnQoJ3VzZXInKTsKICAgICAgICAgICAgICAgIG5ld19ub2RlLnNldEF0dHJpYnV0ZSgnY2xpZW50X2lkJywgU3RyaW5nKF90aGlzOS5NQU5BR0VfRkxPT1JfUEVSTUlTU0lPTl9EQVRBLnNlbGVjdGVkX3VzZXJfdG9fYWRkX3RvX2Zsb29yWydpZCddKSk7CiAgICAgICAgICAgICAgICB4bWxfZG9jLmdldEVsZW1lbnRzQnlUYWdOYW1lKCd1c2VycycpWzBdLmFwcGVuZENoaWxkKG5ld19ub2RlKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTIubmV4dCA9IDk7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM5LiRyb290LkxFVkVMQURNSU5fdXBkYXRlX2Zsb29yX3htbChfdGhpczkuY3VycmVudGx5LmJ1aWxkaW5nWydidWlsZGluZ19uYW1lJ10sIF90aGlzOS5jdXJyZW50bHkuZmxvb3JbJ2Zsb29yX25hbWUnXSwgeG1sX2RvYykudGhlbiggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgdmFyIF9yZWYzID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTEocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTExJChfY29udGV4dDExKSB7CiAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTEucHJldiA9IF9jb250ZXh0MTEubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHJlc3BvbnNlWzBdID09PSB0cnVlKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDExLm5leHQgPSA3OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBNLnRvYXN0KHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHRtbDogJ1VzZXIgaGFzIGJlZW4gYWRkZWQgdG8gZmxvb3InLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc2VzOiAncm91bmRlZCBncmVlbicsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXlMZW5ndGg6IDIwMDAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM5Lk1BTkFHRV9GTE9PUl9QRVJNSVNTSU9OX0RBVEEgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1aWxkaW5nX3VzZXJzX25vdF9pbl9mbG9vcjogJycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkX3VzZXJfdG9fYWRkX3RvX2Zsb29yOiAnJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRfdXNlcl90b19yZW1vdmVfZnJvbV9mbG9vcjogJycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsb29yX3VzZXJzOiAnJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTEubmV4dCA9IDU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM5LmNoYW5nZUFjdGl2ZUZvcm0oJycpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDExLm5leHQgPSA4OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIE0udG9hc3QoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBodG1sOiByZXNwb25zZVsxXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NlczogJ3JvdW5kZWQgb3JhbmdlJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheUxlbmd0aDogMjAwMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTEuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZTExKTsKICAgICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeDMpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3JlZjMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0oKSk7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTEyKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZGVsZXRlVXNlckZyb21GbG9vcjogZnVuY3Rpb24gZGVsZXRlVXNlckZyb21GbG9vcigpIHsKICAgICAgdmFyIF90aGlzMTAgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE0KCkgewogICAgICAgIHZhciBwYXJzZXIsIHhtbF9zdHJpbmcsIHhtbF9kb2MsIHVzZXJzLCBpOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTQkKF9jb250ZXh0MTQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxNC5wcmV2ID0gX2NvbnRleHQxNC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpOwogICAgICAgICAgICAgICAgX2NvbnRleHQxNC5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczEwLiRyb290LkxFVkVMQURNSU5fZ2V0X2Zsb29yX3htbChfdGhpczEwLmN1cnJlbnRseS5idWlsZGluZ1snYnVpbGRpbmdfbmFtZSddLCBfdGhpczEwLmN1cnJlbnRseS5mbG9vclsnZmxvb3JfbmFtZSddKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2VbMF0gPT09IHRydWUpIHhtbF9zdHJpbmcgPSByZXNwb25zZVsxXTtlbHNlIE0udG9hc3QoewogICAgICAgICAgICAgICAgICAgIGh0bWw6IHJlc3BvbnNlWzFdLAogICAgICAgICAgICAgICAgICAgIGNsYXNzZXM6ICdyb3VuZGVkIG9yYW5nZScsCiAgICAgICAgICAgICAgICAgICAgZGlzcGxheUxlbmd0aDogMjAwMAogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgICB4bWxfZG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyh4bWxfc3RyaW5nLCAndGV4dC94bWwnKTsKICAgICAgICAgICAgICAgIHVzZXJzID0geG1sX2RvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgndXNlcicpOwogICAgICAgICAgICAgICAgaSA9IDA7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIGlmICghKGkgPCB1c2Vycy5sZW5ndGgpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTQubmV4dCA9IDEyOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIShOdW1iZXIodXNlcnNbaV0uZ2V0QXR0cmlidXRlKCdjbGllbnRfaWQnKSkgPT09IF90aGlzMTAuTUFOQUdFX0ZMT09SX1BFUk1JU1NJT05fREFUQS5zZWxlY3RlZF91c2VyX3RvX3JlbW92ZV9mcm9tX2Zsb29yWydpZCddKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDE0Lm5leHQgPSA5OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNC5hYnJ1cHQoImJyZWFrIiwgMTIpOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICBpKys7CiAgICAgICAgICAgICAgICBfY29udGV4dDE0Lm5leHQgPSA2OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgICB1c2Vyc1tpXS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHVzZXJzW2ldKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTQubmV4dCA9IDE1OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMTAuJHJvb3QuTEVWRUxBRE1JTl91cGRhdGVfZmxvb3JfeG1sKF90aGlzMTAuY3VycmVudGx5LmJ1aWxkaW5nWydidWlsZGluZ19uYW1lJ10sIF90aGlzMTAuY3VycmVudGx5LmZsb29yWydmbG9vcl9uYW1lJ10sIHhtbF9kb2MpLnRoZW4oIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIHZhciBfcmVmNCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEzKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxMyQoX2NvbnRleHQxMykgewogICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDEzLnByZXYgPSBfY29udGV4dDEzLm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShyZXNwb25zZVswXSA9PT0gdHJ1ZSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQxMy5uZXh0ID0gNzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgTS50b2FzdCh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh0bWw6ICdVc2VyIGhhcyBiZWVuIHJlbW92ZWQgZnJvbSBmbG9vcicsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzZXM6ICdyb3VuZGVkIGdyZWVuJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheUxlbmd0aDogMjAwMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczEwLk1BTkFHRV9GTE9PUl9QRVJNSVNTSU9OX0RBVEEgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1aWxkaW5nX3VzZXJzX25vdF9pbl9mbG9vcjogJycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkX3VzZXJfdG9fYWRkX3RvX2Zsb29yOiAnJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRfdXNlcl90b19yZW1vdmVfZnJvbV9mbG9vcjogJycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsb29yX3VzZXJzOiAnJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTMubmV4dCA9IDU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMxMC5jaGFuZ2VBY3RpdmVGb3JtKCcnKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQxMy5uZXh0ID0gODsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBNLnRvYXN0KHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHRtbDogcmVzcG9uc2VbMV0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzZXM6ICdyb3VuZGVkIG9yYW5nZScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXlMZW5ndGg6IDIwMDAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDEzLnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWUxMyk7CiAgICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3g0KSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWY0LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICB9KCkpOwoKICAgICAgICAgICAgICBjYXNlIDE1OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTQpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBzZWxlY3RSb29tVG9NYW5hZ2U6IGZ1bmN0aW9uIHNlbGVjdFJvb21Ub01hbmFnZSgpIHsKICAgICAgdmFyIF90aGlzMTEgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE1KCkgewogICAgICAgIHZhciBidWlsZGluZ191c2VycywgeG1sX3N0cmluZywgcGFyc2VyLCB4bWxfZG9jLCByb29tcywgaSwgdXNlcnNfaW5fcm9vbTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE1JChfY29udGV4dDE1KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTUucHJldiA9IF9jb250ZXh0MTUubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTUubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMxMS4kcm9vdC5MRVZFTEFETUlOX2dldF9mbG9vcl94bWwoX3RoaXMxMS5jdXJyZW50bHkuYnVpbGRpbmdbJ2J1aWxkaW5nX25hbWUnXSwgX3RoaXMxMS5jdXJyZW50bHkuZmxvb3JbJ2Zsb29yX25hbWUnXSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlWzBdID09PSB0cnVlKSB4bWxfc3RyaW5nID0gcmVzcG9uc2VbMV07ZWxzZSBNLnRvYXN0KHsKICAgICAgICAgICAgICAgICAgICBodG1sOiByZXNwb25zZVsxXSwKICAgICAgICAgICAgICAgICAgICBjbGFzc2VzOiAncm91bmRlZCBvcmFuZ2UnLAogICAgICAgICAgICAgICAgICAgIGRpc3BsYXlMZW5ndGg6IDIwMDAKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgX2NvbnRleHQxNS5uZXh0ID0gNDsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczExLiRyb290LkxFVkVMQURNSU5fZ2V0QWxsVXNlcnNGb3JCdWlsZGluZyhfdGhpczExLmN1cnJlbnRseS5idWlsZGluZ1snYnVpbGRpbmdfbmFtZSddKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2VbMF0gPT09IHRydWUpIGJ1aWxkaW5nX3VzZXJzID0gcmVzcG9uc2VbMV07ZWxzZSBNLnRvYXN0KHsKICAgICAgICAgICAgICAgICAgICBodG1sOiByZXNwb25zZVsxXSwKICAgICAgICAgICAgICAgICAgICBjbGFzc2VzOiAncm91bmRlZCBvcmFuZ2UnLAogICAgICAgICAgICAgICAgICAgIGRpc3BsYXlMZW5ndGg6IDIwMDAKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpOwogICAgICAgICAgICAgICAgeG1sX2RvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoeG1sX3N0cmluZywgJ3RleHQveG1sJyk7CiAgICAgICAgICAgICAgICByb29tcyA9IHhtbF9kb2MuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3Jvb20nKTsKICAgICAgICAgICAgICAgIGkgPSAwOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICBpZiAoIShpIDwgcm9vbXMubGVuZ3RoKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDE1Lm5leHQgPSAxNDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCEocm9vbXNbaV0uZ2V0QXR0cmlidXRlKCdyb29tX25hbWUnKSA9PT0gX3RoaXMxMS5NQU5BR0VfUk9PTV9QRVJNSVNTSU9OX0RBVEEuc2VsZWN0ZWRfcm9vbSkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQxNS5uZXh0ID0gMTE7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE1LmFicnVwdCgiYnJlYWsiLCAxNCk7CgogICAgICAgICAgICAgIGNhc2UgMTE6CiAgICAgICAgICAgICAgICBpKys7CiAgICAgICAgICAgICAgICBfY29udGV4dDE1Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgICAgICByb29tc1tpXS5nZXRBdHRyaWJ1dGUoJ3B1YmxpYycpID09PSAnVHJ1ZScgPyBfdGhpczExLk1BTkFHRV9ST09NX1BFUk1JU1NJT05fREFUQS5zZWxlY3RlZF9zZXR0aW5nX3B1YmxpYyA9IHRydWUgOiBfdGhpczExLk1BTkFHRV9ST09NX1BFUk1JU1NJT05fREFUQS5zZWxlY3RlZF9zZXR0aW5nX3B1YmxpYyA9IGZhbHNlOwogICAgICAgICAgICAgICAgcm9vbXNbaV0uZ2V0QXR0cmlidXRlKCdoaWRkZW4nKSA9PT0gJ1RydWUnID8gX3RoaXMxMS5NQU5BR0VfUk9PTV9QRVJNSVNTSU9OX0RBVEEuc2VsZWN0ZWRfc2V0dGluZ19oaWRkZW4gPSB0cnVlIDogX3RoaXMxMS5NQU5BR0VfUk9PTV9QRVJNSVNTSU9OX0RBVEEuc2VsZWN0ZWRfc2V0dGluZ19oaWRkZW4gPSBmYWxzZTsKICAgICAgICAgICAgICAgIHVzZXJzX2luX3Jvb20gPSByb29tc1tpXS5nZXRFbGVtZW50c0J5VGFnTmFtZSgndXNlcicpOwogICAgICAgICAgICAgICAgX2NvbnRleHQxNS5uZXh0ID0gMTk7CiAgICAgICAgICAgICAgICByZXR1cm4gXy5maWx0ZXIoYnVpbGRpbmdfdXNlcnMsIGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdXNlcnNfaW5fcm9vbS5sZW5ndGg7IGorKykgewogICAgICAgICAgICAgICAgICAgIGlmIChOdW1iZXIoaXRlbVsnaWQnXSA9PT0gTnVtYmVyKHVzZXJzX2luX3Jvb21bal0uZ2V0QXR0cmlidXRlKCdjbGllbnRfaWQnKSkpKSByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMTk6CiAgICAgICAgICAgICAgICBfdGhpczExLk1BTkFHRV9ST09NX1BFUk1JU1NJT05fREFUQS5mbG9vcl91c2Vyc19ub3RfaW5fcm9vbSA9IF9jb250ZXh0MTUuc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTUubmV4dCA9IDIyOwogICAgICAgICAgICAgICAgcmV0dXJuIF8uZmlsdGVyKGJ1aWxkaW5nX3VzZXJzLCBmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IHVzZXJzX2luX3Jvb20ubGVuZ3RoOyBqKyspIHsKICAgICAgICAgICAgICAgICAgICBpZiAoTnVtYmVyKGl0ZW1bJ2lkJ10gPT09IE51bWJlcih1c2Vyc19pbl9yb29tW2pdLmdldEF0dHJpYnV0ZSgnY2xpZW50X2lkJykpKSkgcmV0dXJuIHRydWU7CiAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDIyOgogICAgICAgICAgICAgICAgX3RoaXMxMS5NQU5BR0VfUk9PTV9QRVJNSVNTSU9OX0RBVEEucm9vbV91c2VycyA9IF9jb250ZXh0MTUuc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTUubmV4dCA9IDI1OwogICAgICAgICAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQobnVsbCwgNTAwKTsKCiAgICAgICAgICAgICAgY2FzZSAyNToKICAgICAgICAgICAgICAgIE0uRm9ybVNlbGVjdC5pbml0KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZGRVc2VyVG9Sb29tU2VsZWN0JykpOwogICAgICAgICAgICAgICAgTS5Gb3JtU2VsZWN0LmluaXQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RlbGV0ZVVzZXJGcm9tUm9vbVNlbGVjdCcpKTsKCiAgICAgICAgICAgICAgY2FzZSAyNzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTUuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTE1KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgdXBkYXRlUm9vbVNldHRpbmdzOiBmdW5jdGlvbiB1cGRhdGVSb29tU2V0dGluZ3MoKSB7CiAgICAgIHZhciBfdGhpczEyID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxNygpIHsKICAgICAgICB2YXIgeG1sX3N0cmluZywgcGFyc2VyLCByb290LCByb29tcywgaTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE3JChfY29udGV4dDE3KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTcucHJldiA9IF9jb250ZXh0MTcubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTcubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMxMi4kcm9vdC5MRVZFTEFETUlOX2dldF9mbG9vcl94bWwoX3RoaXMxMi5jdXJyZW50bHkuYnVpbGRpbmdbJ2J1aWxkaW5nX25hbWUnXSwgX3RoaXMxMi5jdXJyZW50bHkuZmxvb3JbJ2Zsb29yX25hbWUnXSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlWzBdID09PSB0cnVlKSB4bWxfc3RyaW5nID0gcmVzcG9uc2VbMV07ZWxzZSBNLnRvYXN0KHsKICAgICAgICAgICAgICAgICAgICBodG1sOiByZXNwb25zZVsxXSwKICAgICAgICAgICAgICAgICAgICBjbGFzc2VzOiAncm91bmRlZCBvcmFuZ2UnLAogICAgICAgICAgICAgICAgICAgIGRpc3BsYXlMZW5ndGg6IDIwMDAKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpOwogICAgICAgICAgICAgICAgcm9vdCA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoeG1sX3N0cmluZywgJ3RleHQveG1sJyk7CiAgICAgICAgICAgICAgICByb29tcyA9IHJvb3QuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3Jvb20nKTsKCiAgICAgICAgICAgICAgICBmb3IgKGkgPSAwOyBpIDwgcm9vbXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgICAgICAgaWYgKHJvb21zW2ldLmdldEF0dHJpYnV0ZSgncm9vbV9uYW1lJykgPT09IF90aGlzMTIuTUFOQUdFX1JPT01fUEVSTUlTU0lPTl9EQVRBLnNlbGVjdGVkX3Jvb20pIHsKICAgICAgICAgICAgICAgICAgICBfdGhpczEyLk1BTkFHRV9ST09NX1BFUk1JU1NJT05fREFUQS5zZWxlY3RlZF9zZXR0aW5nX3B1YmxpYyA9PT0gdHJ1ZSA/IHJvb21zW2ldLnNldEF0dHJpYnV0ZSgncHVibGljJywgJ1RydWUnKSA6IHJvb21zW2ldLnNldEF0dHJpYnV0ZSgncHVibGljJywgJ0ZhbHNlJyk7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMxMi5NQU5BR0VfUk9PTV9QRVJNSVNTSU9OX0RBVEEuc2VsZWN0ZWRfc2V0dGluZ19oaWRkZW4gPT09IHRydWUgPyByb29tc1tpXS5zZXRBdHRyaWJ1dGUoJ2hpZGRlbicsICdUcnVlJykgOiByb29tc1tpXS5zZXRBdHRyaWJ1dGUoJ2hpZGRlbicsICdGYWxzZScpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQxNy5uZXh0ID0gODsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczEyLiRyb290LkxFVkVMQURNSU5fdXBkYXRlX2Zsb29yX3htbChfdGhpczEyLmN1cnJlbnRseS5idWlsZGluZ1snYnVpbGRpbmdfbmFtZSddLCBfdGhpczEyLmN1cnJlbnRseS5mbG9vclsnZmxvb3JfbmFtZSddLCByb290KS50aGVuKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICB2YXIgX3JlZjUgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxNihyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTYkKF9jb250ZXh0MTYpIHsKICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxNi5wcmV2ID0gX2NvbnRleHQxNi5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEocmVzcG9uc2VbMF0gPT09IHRydWUpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTYubmV4dCA9IDc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIE0udG9hc3QoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBodG1sOiAnUm9vbSBzZXR0aW5ncyBoYXMgYmVlbiB1cGRhdGVkJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NlczogJ3JvdW5kZWQgZ3JlZW4nLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5TGVuZ3RoOiAyMDAwCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTYubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMxMi5jaGFuZ2VBY3RpdmVGb3JtKCcnKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxMi5NQU5BR0VfUk9PTV9QRVJNSVNTSU9OX0RBVEEgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkX3Jvb206ICcnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb29tX2xpc3Q6ICcnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZF9zZXR0aW5nX3B1YmxpYzogJycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkX3NldHRpbmdfaGlkZGVuOiAnJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRfdXNlcl90b19yZW1vdmVfZnJvbV9yb29tOiAnJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9vbV91c2VyczogJycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkX3VzZXJfdG9fYWRkX3RvX3Jvb206ICcnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbG9vcl91c2Vyc19ub3RfaW5fcm9vbTogJycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkX3NldHRpbmdfZG93bmxvYWQ6ICcnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZF9zZXR0aW5nX3VwbG9hZDogJycKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDE2Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIE0udG9hc3QoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBodG1sOiByZXNwb25zZVsxXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NlczogJ3JvdW5kZWQgb3JhbmdlJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheUxlbmd0aDogMjAwMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTYuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZTE2KTsKICAgICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeDUpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3JlZjUuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0oKSk7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTcuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTE3KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgYWRkVXNlclRvUm9vbTogZnVuY3Rpb24gYWRkVXNlclRvUm9vbSgpIHsKICAgICAgdmFyIF90aGlzMTMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE5KCkgewogICAgICAgIHZhciB4bWxfc3RyaW5nLCBwYXJzZXIsIHJvb3QsIHJvb21zLCBpLCBuZXdfbm9kZTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTE5JChfY29udGV4dDE5KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTkucHJldiA9IF9jb250ZXh0MTkubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0MTkubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMxMy4kcm9vdC5MRVZFTEFETUlOX2dldF9mbG9vcl94bWwoX3RoaXMxMy5jdXJyZW50bHkuYnVpbGRpbmdbJ2J1aWxkaW5nX25hbWUnXSwgX3RoaXMxMy5jdXJyZW50bHkuZmxvb3JbJ2Zsb29yX25hbWUnXSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlWzBdID09PSB0cnVlKSB4bWxfc3RyaW5nID0gcmVzcG9uc2VbMV07ZWxzZSBNLnRvYXN0KHsKICAgICAgICAgICAgICAgICAgICBodG1sOiByZXNwb25zZVsxXSwKICAgICAgICAgICAgICAgICAgICBjbGFzc2VzOiAncm91bmRlZCBvcmFuZ2UnLAogICAgICAgICAgICAgICAgICAgIGRpc3BsYXlMZW5ndGg6IDIwMDAKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgICAgcGFyc2VyID0gbmV3IERPTVBhcnNlcigpOwogICAgICAgICAgICAgICAgcm9vdCA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoeG1sX3N0cmluZywgJ3RleHQveG1sJyk7CiAgICAgICAgICAgICAgICByb29tcyA9IHJvb3QuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3Jvb20nKTsKICAgICAgICAgICAgICAgIGkgPSAwOwoKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICBpZiAoIShpIDwgcm9vbXMubGVuZ3RoKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDE5Lm5leHQgPSAxMjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCEocm9vbXNbaV0uZ2V0QXR0cmlidXRlKCdyb29tX25hbWUnKSA9PT0gX3RoaXMxMy5NQU5BR0VfUk9PTV9QRVJNSVNTSU9OX0RBVEEuc2VsZWN0ZWRfcm9vbSkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQxOS5uZXh0ID0gOTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTkuYWJydXB0KCJicmVhayIsIDEyKTsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgICAgaSsrOwogICAgICAgICAgICAgICAgX2NvbnRleHQxOS5uZXh0ID0gNjsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDEyOgogICAgICAgICAgICAgICAgbmV3X25vZGUgPSByb290LmNyZWF0ZUVsZW1lbnQoJ3VzZXInKTsKICAgICAgICAgICAgICAgIG5ld19ub2RlLnNldEF0dHJpYnV0ZSgnY2xpZW50X2lkJywgU3RyaW5nKF90aGlzMTMuTUFOQUdFX1JPT01fUEVSTUlTU0lPTl9EQVRBLnNlbGVjdGVkX3VzZXJfdG9fYWRkX3RvX3Jvb21bJ2lkJ10pKTsKICAgICAgICAgICAgICAgIG5ld19ub2RlLnNldEF0dHJpYnV0ZSgnZG93bmxvYWQnLCBfdGhpczEzLk1BTkFHRV9ST09NX1BFUk1JU1NJT05fREFUQS5zZWxlY3RlZF9zZXR0aW5nX2Rvd25sb2FkID09PSB0cnVlID8gIlRydWUiIDogIkZhbHNlIik7CiAgICAgICAgICAgICAgICBuZXdfbm9kZS5zZXRBdHRyaWJ1dGUoJ3VwbG9hZCcsIF90aGlzMTMuTUFOQUdFX1JPT01fUEVSTUlTU0lPTl9EQVRBLnNlbGVjdGVkX3NldHRpbmdfdXBsb2FkID09PSB0cnVlID8gIlRydWUiIDogIkZhbHNlIik7CiAgICAgICAgICAgICAgICByb29tc1tpXS5hcHBlbmRDaGlsZChuZXdfbm9kZSk7CiAgICAgICAgICAgICAgICBfY29udGV4dDE5Lm5leHQgPSAxOTsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczEzLiRyb290LkxFVkVMQURNSU5fdXBkYXRlX2Zsb29yX3htbChfdGhpczEzLmN1cnJlbnRseS5idWlsZGluZ1snYnVpbGRpbmdfbmFtZSddLCBfdGhpczEzLmN1cnJlbnRseS5mbG9vclsnZmxvb3JfbmFtZSddLCByb290KS50aGVuKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICB2YXIgX3JlZjYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxOChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTgkKF9jb250ZXh0MTgpIHsKICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxOC5wcmV2ID0gX2NvbnRleHQxOC5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEocmVzcG9uc2VbMF0gPT09IHRydWUpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTgubmV4dCA9IDc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIE0udG9hc3QoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBodG1sOiAnVXNlciBoYXMgYmVlbiBhZGRlZCB0byByb29tJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDE4Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMTMuY2hhbmdlQWN0aXZlRm9ybSgnJyk7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTMuTUFOQUdFX1JPT01fUEVSTUlTU0lPTl9EQVRBID0gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZF9yb29tOiAnJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9vbV9saXN0OiAnJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRfc2V0dGluZ19wdWJsaWM6ICcnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZF9zZXR0aW5nX2hpZGRlbjogJycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkX3VzZXJfdG9fcmVtb3ZlX2Zyb21fcm9vbTogJycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvb21fdXNlcnM6ICcnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZF91c2VyX3RvX2FkZF90b19yb29tOiAnJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxvb3JfdXNlcnNfbm90X2luX3Jvb206ICcnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZF9zZXR0aW5nX2Rvd25sb2FkOiAnJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRfc2V0dGluZ191cGxvYWQ6ICcnCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQxOC5uZXh0ID0gODsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBNLnRvYXN0KHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHRtbDogcmVzcG9uc2VbMV0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzZXM6ICdyb3VuZGVkIG9yYW5nZScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXlMZW5ndGg6IDIwMDAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE4LnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWUxOCk7CiAgICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3g2KSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWY2LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICB9KCkpOwoKICAgICAgICAgICAgICBjYXNlIDE5OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxOS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTkpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICByZW1vdmVVc2VyRnJvbVJvb206IGZ1bmN0aW9uIHJlbW92ZVVzZXJGcm9tUm9vbSgpIHsKICAgICAgdmFyIF90aGlzMTQgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIxKCkgewogICAgICAgIHZhciB4bWxfc3RyaW5nLCBwYXJzZXIsIHJvb3QsIHJvb21zLCBpLCB1c2Vyc19pbl9yb29tLCBqOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMjEkKF9jb250ZXh0MjEpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyMS5wcmV2ID0gX2NvbnRleHQyMS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQyMS5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczE0LiRyb290LkxFVkVMQURNSU5fZ2V0X2Zsb29yX3htbChfdGhpczE0LmN1cnJlbnRseS5idWlsZGluZ1snYnVpbGRpbmdfbmFtZSddLCBfdGhpczE0LmN1cnJlbnRseS5mbG9vclsnZmxvb3JfbmFtZSddKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2VbMF0gPT09IHRydWUpIHhtbF9zdHJpbmcgPSByZXNwb25zZVsxXTtlbHNlIE0udG9hc3QoewogICAgICAgICAgICAgICAgICAgIGh0bWw6IHJlc3BvbnNlWzFdLAogICAgICAgICAgICAgICAgICAgIGNsYXNzZXM6ICdyb3VuZGVkIG9yYW5nZScsCiAgICAgICAgICAgICAgICAgICAgZGlzcGxheUxlbmd0aDogMjAwMAogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBwYXJzZXIgPSBuZXcgRE9NUGFyc2VyKCk7CiAgICAgICAgICAgICAgICByb290ID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyh4bWxfc3RyaW5nLCAndGV4dC94bWwnKTsKICAgICAgICAgICAgICAgIHJvb21zID0gcm9vdC5nZXRFbGVtZW50c0J5VGFnTmFtZSgncm9vbScpOwogICAgICAgICAgICAgICAgaSA9IDA7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIGlmICghKGkgPCByb29tcy5sZW5ndGgpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MjEubmV4dCA9IDEyOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIShyb29tc1tpXS5nZXRBdHRyaWJ1dGUoJ3Jvb21fbmFtZScpID09PSBfdGhpczE0Lk1BTkFHRV9ST09NX1BFUk1JU1NJT05fREFUQS5zZWxlY3RlZF9yb29tKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIxLm5leHQgPSA5OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyMS5hYnJ1cHQoImJyZWFrIiwgMTIpOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICBpKys7CiAgICAgICAgICAgICAgICBfY29udGV4dDIxLm5leHQgPSA2OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgICB1c2Vyc19pbl9yb29tID0gcm9vbXNbaV0uZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3VzZXInKTsKICAgICAgICAgICAgICAgIGogPSAwOwoKICAgICAgICAgICAgICBjYXNlIDE0OgogICAgICAgICAgICAgICAgaWYgKCEoaiA8IHVzZXJzX2luX3Jvb20ubGVuZ3RoKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIxLm5leHQgPSAyMDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgaWYgKCEoTnVtYmVyKHVzZXJzX2luX3Jvb21bal0uZ2V0QXR0cmlidXRlKCdjbGllbnRfaWQnKSkgPT09IF90aGlzMTQuTUFOQUdFX1JPT01fUEVSTUlTU0lPTl9EQVRBLnNlbGVjdGVkX3VzZXJfdG9fcmVtb3ZlX2Zyb21fcm9vbVsnaWQnXSkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyMS5uZXh0ID0gMTc7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIxLmFicnVwdCgiYnJlYWsiLCAyMCk7CgogICAgICAgICAgICAgIGNhc2UgMTc6CiAgICAgICAgICAgICAgICBqKys7CiAgICAgICAgICAgICAgICBfY29udGV4dDIxLm5leHQgPSAxNDsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDIwOgogICAgICAgICAgICAgICAgdXNlcnNfaW5fcm9vbVtqXS5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHVzZXJzX2luX3Jvb21bal0pOwogICAgICAgICAgICAgICAgX2NvbnRleHQyMS5uZXh0ID0gMjM7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMxNC4kcm9vdC5MRVZFTEFETUlOX3VwZGF0ZV9mbG9vcl94bWwoX3RoaXMxNC5jdXJyZW50bHkuYnVpbGRpbmdbJ2J1aWxkaW5nX25hbWUnXSwgX3RoaXMxNC5jdXJyZW50bHkuZmxvb3JbJ2Zsb29yX25hbWUnXSwgcm9vdCkudGhlbiggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgdmFyIF9yZWY3ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMjAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTIwJChfY29udGV4dDIwKSB7CiAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjAucHJldiA9IF9jb250ZXh0MjAubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHJlc3BvbnNlWzBdID09PSB0cnVlKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDIwLm5leHQgPSA3OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBNLnRvYXN0KHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHRtbDogJ1VzZXIgaGFzIGJlZW4gcmVtb3ZlZCBmcm9tIGZsb29yJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NlczogJ3JvdW5kZWQgZ3JlZW4nLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5TGVuZ3RoOiAyMDAwCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTQuTUFOQUdFX1JPT01fUEVSTUlTU0lPTl9EQVRBID0gewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBidWlsZGluZ191c2Vyc19ub3RfaW5fZmxvb3I6ICcnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZF91c2VyX3RvX2FkZF90b19mbG9vcjogJycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkX3VzZXJfdG9fcmVtb3ZlX2Zyb21fZmxvb3I6ICcnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbG9vcl91c2VyczogJycKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDIwLm5leHQgPSA1OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMTQuY2hhbmdlQWN0aXZlRm9ybSgnJyk7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MjAubmV4dCA9IDg7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgTS50b2FzdCh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh0bWw6IHJlc3BvbnNlWzFdLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc2VzOiAncm91bmRlZCBvcmFuZ2UnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5TGVuZ3RoOiAyMDAwCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyMC5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlMjApOwogICAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94NykgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVmNy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfSgpKTsKCiAgICAgICAgICAgICAgY2FzZSAyMzoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjEuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIxKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgdXBsb2FkRmlsZTogZnVuY3Rpb24gdXBsb2FkRmlsZSgpIHsKICAgICAgdmFyIF90aGlzMTUgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIzKCkgewogICAgICAgIHZhciBmaWxlOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMjMkKF9jb250ZXh0MjMpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyMy5wcmV2ID0gX2NvbnRleHQyMy5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgZmlsZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCd1cGxvYWRGaWxlSW5wdXQnKTsKCiAgICAgICAgICAgICAgICBpZiAoIShmaWxlLmZpbGVzWzBdID09PSB1bmRlZmluZWQpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MjMubmV4dCA9IDU7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIE0udG9hc3QoewogICAgICAgICAgICAgICAgICBodG1sOiAnWW91IGhhdmUgdG8gc2VsZWN0IGZpbGUgdG8gdXBsb2FkICcsCiAgICAgICAgICAgICAgICAgIGNsYXNzZXM6ICdyb3VuZGVkIG9yYW5nZScsCiAgICAgICAgICAgICAgICAgIGRpc3BsYXlMZW5ndGg6IDIwMDAKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgX2NvbnRleHQyMy5uZXh0ID0gNzsKICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICBfY29udGV4dDIzLm5leHQgPSA3OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMTUuJHJvb3QuVVNFUl91cGxvYWRGaWxlKF90aGlzMTUuY3VycmVudGx5LmJ1aWxkaW5nWydidWlsZGluZ19uYW1lJ10sIF90aGlzMTUuY3VycmVudGx5LmZsb29yWydmbG9vcl9uYW1lJ10sIF90aGlzMTUuY3VycmVudGx5LnJvb21bJ3Jvb21fbmFtZSddLCBmaWxlKS50aGVuKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICB2YXIgX3JlZjggPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyMihyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMjIkKF9jb250ZXh0MjIpIHsKICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyMi5wcmV2ID0gX2NvbnRleHQyMi5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEocmVzcG9uc2VbMF0gPT09IHRydWUpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MjIubmV4dCA9IDc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIE0udG9hc3QoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBodG1sOiAnRmlsZSBoYXMgYmVlbiB1cGxvYWRlZCcsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzZXM6ICdyb3VuZGVkIGdyZWVuJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheUxlbmd0aDogMjAwMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgndXBsb2FkRmlsZUlucHV0JykudmFsdWUgPSAnJzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MjIubmV4dCA9IDU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMxNS5lbnRlclJvb20oX3RoaXMxNS5jdXJyZW50bHkucm9vbSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MjIubmV4dCA9IDg7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgTS50b2FzdCh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh0bWw6IHJlc3BvbnNlWzFdLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc2VzOiAncm91bmRlZCBvcmFuZ2UnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5TGVuZ3RoOiAyMDAwCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyMi5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlMjIpOwogICAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94OCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVmOC5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfSgpKTsKCiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyMy5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMjMpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBkb3dubG9hZEZpbGU6IGZ1bmN0aW9uIGRvd25sb2FkRmlsZShpdGVtKSB7CiAgICAgIHZhciBfdGhpczE2ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyNCgpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTI0JChfY29udGV4dDI0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjQucHJldiA9IF9jb250ZXh0MjQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0MjQubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMxNi4kcm9vdC5VU0VSX2Rvd25sb2FkX2ZpbGUoX3RoaXMxNi5jdXJyZW50bHkuYnVpbGRpbmdbJ2J1aWxkaW5nX25hbWUnXSwgX3RoaXMxNi5jdXJyZW50bHkuZmxvb3JbJ2Zsb29yX25hbWUnXSwgX3RoaXMxNi5jdXJyZW50bHkucm9vbVsncm9vbV9uYW1lJ10sIGl0ZW0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZVswXSAhPT0gdHJ1ZSkgTS50b2FzdCh7CiAgICAgICAgICAgICAgICAgICAgaHRtbDogJ0Nhbm5vdCBkb3dubG9hZCB0aGlzIGZpbGUnLAogICAgICAgICAgICAgICAgICAgIGNsYXNzZXM6ICdyb3VuZGVkIGdyZWVuJywKICAgICAgICAgICAgICAgICAgICBkaXNwbGF5TGVuZ3RoOiAyMDAwCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTI0KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZGVsZXRlRmlsZTogZnVuY3Rpb24gZGVsZXRlRmlsZShpdGVtKSB7CiAgICAgIHZhciBfdGhpczE3ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyNigpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTI2JChfY29udGV4dDI2KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjYucHJldiA9IF9jb250ZXh0MjYubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0MjYubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMxNy4kcm9vdC5VU0VSX3JlbW92ZV9maWxlKF90aGlzMTcuY3VycmVudGx5LmJ1aWxkaW5nWydidWlsZGluZ19uYW1lJ10sIF90aGlzMTcuY3VycmVudGx5LmZsb29yWydmbG9vcl9uYW1lJ10sIF90aGlzMTcuY3VycmVudGx5LnJvb21bJ3Jvb21fbmFtZSddLCBpdGVtKS50aGVuKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICB2YXIgX3JlZjkgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyNShyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMjUkKF9jb250ZXh0MjUpIHsKICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyNS5wcmV2ID0gX2NvbnRleHQyNS5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEocmVzcG9uc2VbMF0gPT09IHRydWUpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MjUubmV4dCA9IDY7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIE0udG9hc3QoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBodG1sOiAnRmlsZSBoYXMgYmVlbiByZW1vdmVkJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NlczogJ3JvdW5kZWQgZ3JlZW4nLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5TGVuZ3RoOiAyMDAwCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MjUubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMxNy5lbnRlclJvb20oX3RoaXMxNy5jdXJyZW50bHkucm9vbSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MjUubmV4dCA9IDc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgTS50b2FzdCh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh0bWw6IHJlc3BvbnNlWzFdLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc2VzOiAncm91bmRlZCBvcmFuZ2UnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5TGVuZ3RoOiAyMDAwCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyNS5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlMjUpOwogICAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94OSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVmOS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfSgpKTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyNi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMjYpOwogICAgICB9KSkoKTsKICAgIH0KICB9LAogIGJlZm9yZU1vdW50OiBmdW5jdGlvbiBiZWZvcmVNb3VudCgpIHsKICAgIHZhciBfdGhpczE4ID0gdGhpczsKCiAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMjcoKSB7CiAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMjckKF9jb250ZXh0MjcpIHsKICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgc3dpdGNoIChfY29udGV4dDI3LnByZXYgPSBfY29udGV4dDI3Lm5leHQpIHsKICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgIF9jb250ZXh0MjcubmV4dCA9IDI7CiAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMTguZ2V0QnVpbGRpbmdMaXN0KCk7CgogICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0Mjcuc3RvcCgpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSwgX2NhbGxlZTI3KTsKICAgIH0pKSgpOwogIH0KfTs="},{"version":3,"sources":["/home/woli/Projects/DataRoom/frontend/src/components/enterBuildingDiv.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"center-align\">\n    <a href=\"javascript:void(0)\" v-on:click=\"currently.building = null; currently.floor = null; currently.room = null;\"><span v-if=\"currently.building\">{{ currently.building[\"building_name\"] }}</span></a>\n    <span v-if=\"currently.floor\"> > <a href=\"javascript:void(0)\" v-on:click=\"currently.floor = null; currently.room = null\">{{ currently.floor[\"floor_name\"] }}</a></span>\n    <span v-if=\"currently.room\"> > <a href=\"javascript:void(0)\" v-on:click=\"currently.room = null\">{{ currently.room['room_name'] }}</a></span>\n  </div>\n  <div v-if=\"currently.building === null\" class=\"col s4 buildingList\">\n    <h3 class=\"center-align title\">Choose building</h3>\n    <ul>\n      <li v-for=\"(item, index) in list.building_list\" :key=\"index\" class=\"list_item\">\n        <a href=\"javascript:void(0)\" v-on:click=\"selectBuilding(item)\">\n          {{ item[\"building_name\"] }}\n        </a>\n      </li>\n    </ul>\n  </div>\n  <div v-else-if=\"currently.building !== null && currently.floor === null\" class=\"col s4\">\n    <h3 class=\"center-align title\">Choose floor</h3>\n    <ul>\n      <li v-for=\"(item, index) in list.floor_list\" :key=\"index\" class=\"list_item\">\n        <a v-if=\"item['isAdmin'] === true || item['isUser'] === true || item['isSuper'] === true || item['public'] === true\" href=\"javascript:void(0)\" v-on:click=\"enterFloor(item)\">\n          {{ item[\"floor_name\"] }}\n        </a>\n        <a v-else>{{  item[\"floor_name\"] }} [X]</a>\n      </li>\n    </ul>\n  </div>\n  <div v-else-if=\"currently.floor !== null && currently.room === null\" class=\"col s4\">\n    <h3 class=\"center-align title\">Choose room</h3>\n    <ul>\n      <li v-for=\"(item, index) in list.room_list\" :key=\"index\" class=\"list_item\">\n        <a href=\"javascript:void(0)\" v-on:click=\"enterRoom(item)\" >{{ item['room_name'] }}</a>\n      </li>\n    </ul>\n    <div v-if=\"this.currently.floor['isAdmin'] === true\" class=\"row\">\n      <hr style=\"color:deepskyblue; width: 70%\"/>\n        <h5>Floor administrator panel</h5>\n      <button v-on:click=\"changeActiveForm('createRoom')\" type=\"button\" class=\"btn blue darken-2\">Create room</button>\n      <button v-on:click=\"changeActiveForm('deleteRoom')\" type=\"button\" class=\"btn blue lighten-2\">Delete room</button>\n      <button v-on:click=\"changeActiveForm('manageRoomPermission')\" type=\"button\" class=\"btn blue darken-2\">Manage room permissions</button>\n      <button v-on:click=\"changeActiveForm('manageFloorPermission')\" type=\"button\" class=\"btn blue lighten-2\">Manage floor permissions</button>\n    </div>\n    <div v-else-if=\"this.currently.floor['everybodyCanCreateRoom'] === true\">\n      <button v-on:click=\"changeActiveForm('createRoom')\" type=\"button\" class=\"btn blue darken-2\">Create room</button>\n    </div>\n    <form action=\"javascript:void(0)\" v-on:submit=\"addRoom\" id=\"CREATE_ROOM_FORM\" v-if=\"activeForm === 'createRoom'\">\n      <div class=\"row\">\n        <div class=\"input-field col s6\">\n          <i class=\"material-icons prefix\">domain</i>\n          <input class=\"validate\" id=\"createRoomName\" type=\"text\" required/>\n          <label for=\"createRoomName\" class=\"active\">Room name</label>\n        </div>\n        <div class=\"col s6\">\n          <div class=\"row input-field\" style=\"margin-bottom: 25px;\">\n            <input type=\"checkbox\" id=\"createRoomPermission_public\"/>\n            <label for=\"createRoomPermission_public\">Public</label>\n          </div>\n          <div class=\"row input-field\" style=\"margin-bottom: 25px;\">\n            <input type=\"checkbox\" id=\"createRoomPermission_hidden\"/>\n            <label for=\"createRoomPermission_hidden\">Hidden</label>\n          </div>\n        </div>\n        <div class=\"input-field col s6\">\n          <button type=\"submit\" class=\"btn blue\">Create room</button>\n        </div>\n      </div>\n    </form>\n    <form action=\"javascript:void(0)\" v-on:submit=\"deleteRoom\" id=\"DELETE_ROOM_FORM\" v-if=\"activeForm === 'deleteRoom'\">\n      <div class=\"col s10\">\n        <select id=\"deleteRoomSelect\" v-model=\"DELETE_ROOM_DATA.selected_room_to_delete\">\n          <option value=\"\" disabled>Select room to delete</option>\n          <option v-for=\"(item, index) in DELETE_ROOM_DATA.room_list\" :key=\"index\" :value=\"item\">{{item}}</option>\n        </select>\n        <button v-if=\"DELETE_ROOM_DATA.selected_room_to_delete !== ''\" type=\"submit\" class=\"btn blue\">Delete room</button>\n      </div>\n    </form>\n    <form action=\"javascript:void(0)\"  id=\"MANAGE_FLOOR_PERMISSION_FORM\" v-if=\"activeForm === 'manageFloorPermission'\">\n      <div class=\"row\">\n        <div class=\"col s6\">\n          <select id=\"addUToFloorSelect\" v-model=\"MANAGE_FLOOR_PERMISSION_DATA.selected_user_to_add_to_floor\">\n            <option value=\"\" disabled>Select user to add</option>\n            <option v-for=\"(item, index) in MANAGE_FLOOR_PERMISSION_DATA.building_users_not_in_floor\" :key=\"index\" :value=\"item\">{{item['email']}} - {{item['first_name']}} {{item['second_name']}}</option>\n          </select>\n          <button v-if=\"MANAGE_FLOOR_PERMISSION_DATA.selected_user_to_add_to_floor !== ''\" v-on:click=\"addUserToFloor\" type=\"button\" class=\"btn blue\">Add user to floor</button>\n        </div>\n        <div class=\"col s6\">\n          <select id=\"removeUFromFloorSelect\" v-model=\"MANAGE_FLOOR_PERMISSION_DATA.selected_user_to_remove_from_floor\">\n            <option value=\"\" disabled>Select user to delete</option>\n            <option v-for=\"(item, index) in MANAGE_FLOOR_PERMISSION_DATA.floor_users\" :key=\"index\" :value=\"item\">{{item['email']}} - {{item['first_name']}} {{item['second_name']}}</option>\n          </select>\n          <button v-if=\"MANAGE_FLOOR_PERMISSION_DATA.selected_user_to_remove_from_floor !== ''\" v-on:click=\"deleteUserFromFloor\" type=\"button\" class=\"btn blue\">Delete user from floor</button>\n        </div>\n      </div>\n    </form>\n    <form action=\"javascript:void(0)\" id=\"MANAGE_ROOM_PERMISSION_FORM\" v-if=\"activeForm === 'manageRoomPermission'\">\n      <div class=\"col s10\">\n          <select id=\"managePermissionSelectRoom\" v-model=\"MANAGE_ROOM_PERMISSION_DATA.selected_room\" v-on:change=\"selectRoomToManage\">\n            <option value=\"\" disabled>Select room to manage</option>\n            <option v-for=\"(item, index) in MANAGE_ROOM_PERMISSION_DATA.room_list\" :key=\"index\" :value=\"item\">{{ item }}</option>\n          </select>\n      </div>\n      <div class=\"row\" v-if=\"MANAGE_ROOM_PERMISSION_DATA.selected_room !== ''\">\n        <hr style=\"color: deepskyblue; width: 75%;\">\n        <div class=\"col s6\">\n          <div id=\"settings\">\n            <h6>Room settings</h6>\n            <div class=\"col s6\">\n            <div class=\"row input-field\" style=\"margin-left: 25px; margin-bottom: 25px;\">\n              <input type=\"checkbox\" id=\"managePermission_public\" v-model=\"MANAGE_ROOM_PERMISSION_DATA.selected_setting_public\"/>\n              <label for=\"managePermission_public\">Public</label>\n            </div>\n            <div class=\"row input-field\" style=\"margin-left: 25px; margin-bottom: 25px;\">\n              <input type=\"checkbox\" id=\"managePermission_hidden\" v-model=\"MANAGE_ROOM_PERMISSION_DATA.selected_setting_hidden\"/>\n              <label for=\"managePermission_hidden\">Hidden</label>\n            </div>\n          </div>\n            <div class=\"col s6\">\n            <div class=\"row\"/>\n            <div class=\"row\"/>\n            <button type=\"button\" class=\"btn blue\" v-on:click=\"updateRoomSettings\" style=\"margin-bottom: 25px;\">Update settings</button>\n          </div>\n          </div>\n        </div>\n        <div class=\"col s6\">\n          <div id=\"deleteFRoom\">\n            <h6>Delete user from room</h6>\n            <select id=\"deleteUserFromRoomSelect\" v-model=\"MANAGE_ROOM_PERMISSION_DATA.selected_user_to_remove_from_room\">\n              <option value=\"\" disabled>Select user to remove from room</option>\n              <option v-for=\"(item, index) in MANAGE_ROOM_PERMISSION_DATA.room_users\" :key=\"index\" :value=\"item\">{{item['email']}} - </option>\n            </select>\n            <button type=\"button\" class=\"btn blue\" v-on:click=\"removeUserFromRoom\">Remove user from room</button>\n          </div>\n        </div>\n      </div>\n      <div class=\"row\" v-if=\"MANAGE_ROOM_PERMISSION_DATA.selected_room !== ''\">\n        <hr style=\"color:deepskyblue; width: 70%\"/>\n        <h6>Add user to room</h6>\n        <div class=\"col s10\">\n          <select id=\"addUserToRoomSelect\" v-model=\"MANAGE_ROOM_PERMISSION_DATA.selected_user_to_add_to_room\">\n            <option value=\"\" disabled>Select user to add to room</option>\n            <option v-for=\"(item, index) in MANAGE_ROOM_PERMISSION_DATA.floor_users_not_in_room\" :key=\"index\" :value=\"item\">{{item['email']}}</option>\n          </select>\n          <div class=\"row input-field\">\n            <div class=\"col s6\">\n              <input type=\"checkbox\" id=\"addUserToFloor_permission_download\" v-model=\"MANAGE_ROOM_PERMISSION_DATA.selected_setting_download\"/>\n              <label for=\"addUserToFloor_permission_download\">User can delete files</label>\n            </div>\n            <div class=\"col s6\">\n              <input type=\"checkbox\" id=\"addUserToFloor_permission_upload\" v-model=\"MANAGE_ROOM_PERMISSION_DATA.selected_setting_upload\"/>\n              <label for=\"addUserToFloor_permission_upload\">User can upload files</label>\n            </div>\n          </div>\n          <button type=\"button\" class=\"btn blue\" v-on:click=\"addUserToRoom\">Add user to room</button>\n        </div>\n      </div>\n    </form>\n  </div>\n  <div v-else-if=\"currently.room !== null && list.file_list !== null\" class=\"col s4\">\n    <ul>\n      <li v-for=\"(item, index) in list.file_list\" :key=\"index\">\n        {{ item }} <a href=\"javascript:void(0)\" v-on:click=\"downloadFile(item)\">DOWNLOAD</a> <a href=\"javascript:void(0)\" v-on:click=\"deleteFile(item)\">DELETE</a>\n      </li>\n    </ul>\n    <input id=\"uploadFileInput\" type=\"file\"/>\n    <button type=\"button\" class=\"btn blue\" v-on:click=\"uploadFile\">UPLOAD FILE</button>\n  </div>\n  <div id=\"buildingEnterAdminOrUser\" class=\"modal\">\n    <div class=\"modal-content\">\n      <h4 class=\"center-align blue-text text-darken-3\">Enter building as:</h4>\n      <button type=\"button\" v-on:click=\"enterBuilding('user')\" class=\"btn btn-large blue lighten-2 left\" style=\"width:125px;\">User</button>\n      <button type=\"button\" v-on:click=\"enterBuilding('admin')\" class=\"btn btn-large blue darken-2 right\" style=\"width:125px;\">Admin</button>\n      <div class=\"row\"/>\n    </div>\n  </div>\n</template>\n<script>\nimport M from 'materialize-css';\nimport _ from 'lodash';\n\nexport default {\n  name: \"enterBuildingDiv\",\n  data() {\n    return {\n      activeForm: '',\n      list: {\n        building_list: null,\n        floor_list: null,\n        room_list: null,\n        file_list: null,\n      },\n      currently: {\n        building: null,\n        floor: null,\n        room: null,\n      },\n      tmp: {\n        val1: null,\n      },\n      DELETE_ROOM_DATA: {\n        selected_room_to_delete: '',\n        room_list: '',\n      },\n      MANAGE_FLOOR_PERMISSION_DATA: {\n        building_users_not_in_floor: '',\n        selected_user_to_add_to_floor: '',\n        selected_user_to_remove_from_floor: '',\n        floor_users: '',\n      },\n      MANAGE_ROOM_PERMISSION_DATA: {\n        selected_room: '',\n        room_list: '',\n        selected_setting_public: '',\n        selected_setting_hidden: '',\n        selected_user_to_remove_from_room: '',\n        room_users: '',\n        selected_user_to_add_to_room: '',\n        floor_users_not_in_room: '',\n        selected_setting_download: '',\n        selected_setting_upload: '',\n      },\n      ROOM_SECTION: {\n        activeView: '',\n      }\n    }\n  },\n  methods: {\n    async changeActiveForm(what) {\n      if (this.activeForm === what)\n        this.activeForm = '';\n      else {\n        this.activeForm =  what;\n        if (this.activeForm === 'deleteRoom') {\n          await this.$root.getFloorRooms(this.currently.floor[\"floor_name\"], this.currently.building[\"building_name\"]).then((response) => {\n            if (response[0] === true) {\n              this.DELETE_ROOM_DATA.room_list= response[1];\n            } else\n              M.toast({html: response[1], classes: \"rounded orange\", displayLength: 2000});\n          });\n          await setTimeout(null, 500);\n          M.FormSelect.init(await document.getElementById('deleteRoomSelect'));\n        }\n        else if (this.activeForm === 'manageRoomPermission') {\n          await this.$root.getFloorRooms(this.currently.floor[\"floor_name\"], this.currently.building[\"building_name\"]).then((response) => {\n            if (response[0] === true) {\n              this.MANAGE_ROOM_PERMISSION_DATA.room_list= response[1];\n            } else\n              M.toast({html: response[1], classes: \"rounded orange\", displayLength: 2000});\n          });\n          await setTimeout(null, 500);\n          M.FormSelect.init(document.getElementById('managePermissionSelectRoom'));\n        }\n        else if (this.activeForm === 'manageFloorPermission') {\n          let floor_xml;\n          await this.$root.LEVELADMIN_get_floor_xml(this.currently.building['building_name'], this.currently.floor['floor_name']).then((response) => {\n            if (response[0] === true)\n              floor_xml = response[1];\n            else\n              M.toast({html: response[1], classes: 'rounded orange', displayLength: 2000});\n          });\n          let building_users;\n          await this.$root.LEVELADMIN_getAllUsersForBuilding(this.currently.building['building_name']).then((response) => {\n            if (response[0] === true)\n              building_users = response[1];\n            else\n              M.toast({html: response[1], classes: 'rounded orange', displayLength: 2000});\n          });\n          const parser = new DOMParser();\n          const xml_doc = parser.parseFromString(floor_xml, 'text/xml');\n          const users = xml_doc.getElementsByTagName('user');\n          this.MANAGE_FLOOR_PERMISSION_DATA.building_users_not_in_floor = await _.filter(building_users, (item) => {\n            for (let k = 0; k < users.length; k++) {\n              if (Number(users[k].getAttribute('client_id')) === item['id'])\n                return false;\n            }\n            return true;\n          });\n          this.MANAGE_FLOOR_PERMISSION_DATA.floor_users = await _.filter(building_users, (item) => {\n            for (let k = 0; k < users.length; k++) {\n              if (Number(users[k].getAttribute('client_id')) === item['id'])\n                return true;\n            }\n            return false;\n          });\n          await setTimeout(null, 500);\n          M.FormSelect.init(document.getElementById('addUToFloorSelect'));\n          M.FormSelect.init(document.getElementById('removeUFromFloorSelect'));\n        }\n      }\n    },\n    selectBuilding(building_item) {\n      this.tmp.val1 = building_item;\n      if (building_item[\"isAdmin\"] === false)\n        this.enterBuilding('user');\n      else if (building_item[\"isAdmin\"] === true)\n        M.Modal.init(document.getElementById('buildingEnterAdminOrUser')).open();\n    },\n    async enterRoom(room_name) {\n      this.currently.room = room_name;\n      await this.$root.getFilesInRoom(room_name['room_name'], this.currently.building[\"building_name\"], this.currently.floor[\"floor_name\"]).then((response) => {\n        if (response[0] === true)\n          this.list.file_list = response[1];\n        else\n          M.toast({html: response[1], classes: \"rounded orange\", displayLength: 2000});\n      });\n    },\n    async enterFloor(floor_item) {\n      this.currently.floor = floor_item;\n      this.list.room_list = floor_item['room_data'];\n    },\n    async enterBuilding(asWho) {\n      if (this.tmp.val1[\"isAdmin\"] === true)\n        M.Modal.getInstance(document.getElementById('buildingEnterAdminOrUser')).close();\n      if (asWho === 'user') {\n        this.currently.building = this.tmp.val1;\n        await this.getFloorList(this.tmp.val1[\"building_name\"])\n      } else if (asWho === 'admin') {\n        this.$parent.changeView('admin', this.tmp.val1[\"building_name\"]);\n      }\n\n    },\n    async getBuildingList() {\n      await this.$root.getBuildingList().then((response) => {\n        if (response[0] === true)\n          this.list.building_list = response[1];\n        else\n          M.toast({html: response[1], classes: \"rounded orange\", displayLength: 2000});\n      });\n    },\n    async getFloorList(name) {\n      await this.$root.getBuildingFloors(name).then((response) => {\n        if (response[0] === false)\n          M.toast({html: response[1], classes: \"rounded orange\", displayLength: 2000});\n        else\n          this.list.floor_list = response[1];\n      });\n    },\n    async addRoom() {\n      const roomName = document.getElementById('createRoomName').value;\n      const perm_public = document.getElementById('createRoomPermission_public').checked;\n      const perm_hidden = document.getElementById('createRoomPermission_hidden').checked;\n      await this.$root.LEVELADMIN_createRoom(roomName, this.currently.floor[\"floor_name\"], this.currently.building[\"building_name\"], perm_public, perm_hidden).then(async (response) => {\n        if (response[0] === true) {\n          M.toast({html: 'Room has been created', classes: \"rounded green\", displayLength: 2000});\n          await this.enterFloor(this.currently.floor);\n          this.activeForm = '';\n        } else\n          M.toast({html: response[1], classes: \"rounded orange\", displayLength: 2000});\n      });\n    },\n    async deleteRoom() {\n      await this.$root.LEVELADMIN_deleteRoom(this.currently.building['building_name'], this.currently.floor['floor_name'], this.DELETE_ROOM_DATA.selected_room_to_delete).then(async (response) => {\n        if (response[0] === true) {\n          M.toast({html: 'Room has been deleted', classes: 'rounded green', displayLength: 2000});\n          await this.enterFloor(this.currently.floor);\n          this.activeForm = '';\n        } else\n          M.toast({html: response[1], classes: 'rounded orange', displayLength: 2000});\n      });\n    },\n    async addUserToFloor() {\n      const parser = new DOMParser();\n      let xml_string;\n      await this.$root.LEVELADMIN_get_floor_xml(this.currently.building['building_name'], this.currently.floor['floor_name']).then((response) => {\n        if (response[0] === true)\n          xml_string = response[1];\n        else\n          M.toast({html: response[1], classes: 'rounded orange', displayLength: 2000});\n      });\n      let xml_doc = parser.parseFromString(xml_string, 'text/xml');\n      let new_node = xml_doc.createElement('user');\n      new_node.setAttribute('client_id', String(this.MANAGE_FLOOR_PERMISSION_DATA.selected_user_to_add_to_floor['id']));\n      xml_doc.getElementsByTagName('users')[0].appendChild(new_node);\n      await this.$root.LEVELADMIN_update_floor_xml(this.currently.building['building_name'], this.currently.floor['floor_name'], xml_doc).then(async (response) => {\n        if (response[0] === true) {\n          M.toast({html: 'User has been added to floor', classes: 'rounded green', displayLength: 2000});\n          this.MANAGE_FLOOR_PERMISSION_DATA = {\n            building_users_not_in_floor: '',\n            selected_user_to_add_to_floor: '',\n            selected_user_to_remove_from_floor: '',\n            floor_users: ''};\n          await this.changeActiveForm('');\n        } else\n          M.toast({html: response[1], classes: 'rounded orange', displayLength: 2000});\n      });\n    },\n    async deleteUserFromFloor() {\n      const parser = new DOMParser();\n      let xml_string;\n      await this.$root.LEVELADMIN_get_floor_xml(this.currently.building['building_name'], this.currently.floor['floor_name']).then((response) => {\n        if (response[0] === true)\n          xml_string = response[1];\n        else\n          M.toast({html: response[1], classes: 'rounded orange', displayLength: 2000});\n      });\n      let xml_doc = parser.parseFromString(xml_string, 'text/xml');\n      let users = xml_doc.getElementsByTagName('user');\n      let i = 0;\n      for (; i < users.length; i++) {\n        if (Number(users[i].getAttribute('client_id')) === this.MANAGE_FLOOR_PERMISSION_DATA.selected_user_to_remove_from_floor['id']) {\n          break;\n        }\n      }\n      users[i].parentNode.removeChild(users[i]);\n      await this.$root.LEVELADMIN_update_floor_xml(this.currently.building['building_name'], this.currently.floor['floor_name'], xml_doc).then(async (response) => {\n        if (response[0] === true) {\n          M.toast({html: 'User has been removed from floor', classes: 'rounded green', displayLength: 2000});\n          this.MANAGE_FLOOR_PERMISSION_DATA = {\n            building_users_not_in_floor: '',\n            selected_user_to_add_to_floor: '',\n            selected_user_to_remove_from_floor: '',\n            floor_users: ''};\n          await this.changeActiveForm('');\n        } else M.toast({html: response[1], classes: 'rounded orange', displayLength: 2000});\n      });\n    },\n    async selectRoomToManage() {\n      let building_users;\n      let xml_string;\n      await this.$root.LEVELADMIN_get_floor_xml(this.currently.building['building_name'], this.currently.floor['floor_name']).then((response) => {\n        if (response[0] === true)\n          xml_string = response[1];\n        else\n          M.toast({ html: response[1], classes: 'rounded orange', displayLength: 2000 });\n      });\n      await this.$root.LEVELADMIN_getAllUsersForBuilding(this.currently.building['building_name']).then((response) => {\n        if (response[0] === true)\n          building_users = response[1];\n        else\n          M.toast({html: response[1], classes: 'rounded orange', displayLength: 2000});\n      });\n      const parser = new DOMParser();\n      const xml_doc = parser.parseFromString(xml_string, 'text/xml');\n      const rooms = xml_doc.getElementsByTagName('room');\n      let i = 0;\n      for (; i < rooms.length; i++) {\n        if (rooms[i].getAttribute('room_name') === this.MANAGE_ROOM_PERMISSION_DATA.selected_room)\n          break;\n      }\n      (rooms[i].getAttribute('public') === 'True') ? this.MANAGE_ROOM_PERMISSION_DATA.selected_setting_public = true : this.MANAGE_ROOM_PERMISSION_DATA.selected_setting_public = false;\n      (rooms[i].getAttribute('hidden') === 'True') ? this.MANAGE_ROOM_PERMISSION_DATA.selected_setting_hidden = true : this.MANAGE_ROOM_PERMISSION_DATA.selected_setting_hidden = false;\n      const users_in_room = rooms[i].getElementsByTagName('user');\n      this.MANAGE_ROOM_PERMISSION_DATA.floor_users_not_in_room = await _.filter(building_users, (item) => {\n        for (let j = 0; j < users_in_room.length; j++) {\n          if (Number(item['id'] === Number(users_in_room[j].getAttribute('client_id'))))\n            return false;\n        }\n        return true;\n      });\n      this.MANAGE_ROOM_PERMISSION_DATA.room_users = await _.filter(building_users, (item) => {\n        for (let j = 0; j < users_in_room.length; j++) {\n          if (Number(item['id'] === Number(users_in_room[j].getAttribute('client_id'))))\n            return true;\n        }\n        return false;\n      });\n      await setTimeout(null, 500);\n      M.FormSelect.init(document.getElementById('addUserToRoomSelect'));\n      M.FormSelect.init(document.getElementById('deleteUserFromRoomSelect'));\n    },\n    async updateRoomSettings() {\n      let xml_string;\n      await this.$root.LEVELADMIN_get_floor_xml(this.currently.building['building_name'], this.currently.floor['floor_name']).then((response) => {\n        if (response[0] === true)\n          xml_string = response[1];\n        else\n          M.toast({html: response[1], classes: 'rounded orange', displayLength: 2000});\n      });\n      const parser = new DOMParser();\n      let root = parser.parseFromString(xml_string, 'text/xml');\n      let rooms = root.getElementsByTagName('room');\n      for (let i = 0; i < rooms.length; i++) {\n        if (rooms[i].getAttribute('room_name') === this.MANAGE_ROOM_PERMISSION_DATA.selected_room) {\n          (this.MANAGE_ROOM_PERMISSION_DATA.selected_setting_public === true) ? rooms[i].setAttribute('public', 'True') : rooms[i].setAttribute('public', 'False');\n          (this.MANAGE_ROOM_PERMISSION_DATA.selected_setting_hidden === true) ? rooms[i].setAttribute('hidden', 'True') : rooms[i].setAttribute('hidden', 'False');\n        }\n      }\n      await this.$root.LEVELADMIN_update_floor_xml(this.currently.building['building_name'], this.currently.floor['floor_name'], root).then(async (response) => {\n        if (response[0] === true) {\n          M.toast({html: 'Room settings has been updated', classes: 'rounded green', displayLength: 2000});\n          await this.changeActiveForm('');\n          this.MANAGE_ROOM_PERMISSION_DATA = {\n            selected_room: '',\n            room_list: '',\n            selected_setting_public: '',\n            selected_setting_hidden: '',\n            selected_user_to_remove_from_room: '',\n            room_users: '',\n            selected_user_to_add_to_room: '',\n            floor_users_not_in_room: '',\n            selected_setting_download: '',\n            selected_setting_upload: '',\n          }\n        } else\n          M.toast({html: response[1], classes: 'rounded orange', displayLength: 2000});\n      });\n    },\n    async addUserToRoom() {\n      let xml_string;\n      await this.$root.LEVELADMIN_get_floor_xml(this.currently.building['building_name'], this.currently.floor['floor_name']).then((response) => {\n        if (response[0] === true)\n          xml_string = response[1];\n        else\n          M.toast({html: response[1], classes: 'rounded orange', displayLength: 2000});\n      });\n      const parser = new DOMParser();\n      const root = parser.parseFromString(xml_string, 'text/xml');\n      const rooms = root.getElementsByTagName('room');\n      let i = 0;\n      for (; i < rooms.length; i++) {\n        if (rooms[i].getAttribute('room_name') === this.MANAGE_ROOM_PERMISSION_DATA.selected_room)\n          break;\n      }\n      let new_node = root.createElement('user');\n      new_node.setAttribute('client_id', String(this.MANAGE_ROOM_PERMISSION_DATA.selected_user_to_add_to_room['id']));\n      new_node.setAttribute('download', (this.MANAGE_ROOM_PERMISSION_DATA.selected_setting_download === true) ? \"True\" : \"False\");\n      new_node.setAttribute('upload', (this.MANAGE_ROOM_PERMISSION_DATA.selected_setting_upload === true) ? \"True\" : \"False\");\n      rooms[i].appendChild(new_node);\n      await this.$root.LEVELADMIN_update_floor_xml(this.currently.building['building_name'], this.currently.floor['floor_name'], root).then(async (response) => {\n        if (response[0] === true) {\n          M.toast({ html: 'User has been added to room' });\n          await this.changeActiveForm('');\n          this.MANAGE_ROOM_PERMISSION_DATA = {\n            selected_room: '',\n            room_list: '',\n            selected_setting_public: '',\n            selected_setting_hidden: '',\n            selected_user_to_remove_from_room: '',\n            room_users: '',\n            selected_user_to_add_to_room: '',\n            floor_users_not_in_room: '',\n            selected_setting_download: '',\n            selected_setting_upload: '',\n          }\n        } else\n          M.toast({ html: response[1], classes: 'rounded orange', displayLength: 2000 });\n      })\n    },\n    async removeUserFromRoom() {\n      let xml_string;\n      await this.$root.LEVELADMIN_get_floor_xml(this.currently.building['building_name'], this.currently.floor['floor_name']).then((response) => {\n        if (response[0] === true)\n          xml_string = response[1];\n        else\n          M.toast({html: response[1], classes: 'rounded orange', displayLength: 2000});\n      });\n      const parser = new DOMParser();\n      let root = parser.parseFromString(xml_string, 'text/xml');\n      let rooms = root.getElementsByTagName('room');\n      let i = 0;\n      for(; i < rooms.length ; i++) {\n        if (rooms[i].getAttribute('room_name') === this.MANAGE_ROOM_PERMISSION_DATA.selected_room)\n          break;\n      }\n      let users_in_room = rooms[i].getElementsByTagName('user');\n      let j = 0;\n      for(; j < users_in_room.length; j++) {\n        if (Number(users_in_room[j].getAttribute('client_id')) === this.MANAGE_ROOM_PERMISSION_DATA.selected_user_to_remove_from_room['id'])\n          break;\n      }\n      users_in_room[j].parentNode.removeChild(users_in_room[j]);\n      await this.$root.LEVELADMIN_update_floor_xml(this.currently.building['building_name'], this.currently.floor['floor_name'], root).then(async (response) => {\n        if (response[0] === true) {\n          M.toast({html: 'User has been removed from floor', classes: 'rounded green', displayLength: 2000});\n          this.MANAGE_ROOM_PERMISSION_DATA = {\n            building_users_not_in_floor: '',\n            selected_user_to_add_to_floor: '',\n            selected_user_to_remove_from_floor: '',\n            floor_users: ''};\n          await this.changeActiveForm('');\n        } else M.toast({html: response[1], classes: 'rounded orange', displayLength: 2000});\n      });\n    },\n    async uploadFile() {\n      const file = document.getElementById('uploadFileInput');\n      if (file.files[0] === undefined)\n        M.toast({ html: 'You have to select file to upload ', classes: 'rounded orange', displayLength: 2000 });\n      else {\n        await this.$root.USER_uploadFile(this.currently.building['building_name'], this.currently.floor['floor_name'], this.currently.room['room_name'], file).then(async (response) => {\n          if (response[0] === true) {\n            M.toast({html: 'File has been uploaded', classes: 'rounded green', displayLength: 2000});\n            document.getElementById('uploadFileInput').value = '';\n            await this.enterRoom(this.currently.room);\n          } else\n            M.toast({html: response[1], classes: 'rounded orange', displayLength: 2000});\n        });\n      }\n    },\n    async downloadFile(item) {\n      await this.$root.USER_download_file(this.currently.building['building_name'], this.currently.floor['floor_name'], this.currently.room['room_name'], item).then((response) => {\n        if (response[0] !== true)\n          M.toast({ html: 'Cannot download this file', classes: 'rounded green', displayLength: 2000 });\n      });\n    },\n    async deleteFile(item) {\n      await this.$root.USER_remove_file(this.currently.building['building_name'], this.currently.floor['floor_name'], this.currently.room['room_name'], item).then(async (response) => {\n        if (response[0] === true) {\n          M.toast({html: 'File has been removed', classes: 'rounded green', displayLength: 2000});\n          await this.enterRoom(this.currently.room);\n        }\n        else\n          M.toast({ html: response[1], classes: 'rounded orange', displayLength: 2000 });\n      });\n\n    }\n  },\n    async beforeMount() {\n      await this.getBuildingList();\n    }\n}\n</script>\n\n<style scoped>\n#buildingEnterAdminOrUser {\n  width: 300px;\n}\n\n.buildingList {\n  margin: 5px;\n}\n.title {\n  color: white;\n  background-color: blue;\n  padding: 5px;\n}\n</style>"],"sourceRoot":""}]}