{"remainingRequest":"/home/woli/Projects/DataRoom/frontend/node_modules/babel-loader/lib/index.js!/home/woli/Projects/DataRoom/frontend/node_modules/cache-loader/dist/cjs.js??ref--0-0!/home/woli/Projects/DataRoom/frontend/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/home/woli/Projects/DataRoom/frontend/src/components/enterBuildingDiv.vue?vue&type=script&lang=js","dependencies":[{"path":"/home/woli/Projects/DataRoom/frontend/src/components/enterBuildingDiv.vue","mtime":1611939271465},{"path":"/home/woli/Projects/DataRoom/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1607646038494},{"path":"/home/woli/Projects/DataRoom/frontend/node_modules/babel-loader/lib/index.js","mtime":1607646038462},{"path":"/home/woli/Projects/DataRoom/frontend/node_modules/cache-loader/dist/cjs.js","mtime":1607646038494},{"path":"/home/woli/Projects/DataRoom/frontend/node_modules/vue-loader-v16/dist/index.js","mtime":1607646042274}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yIjsKaW1wb3J0ICJyZWdlbmVyYXRvci1ydW50aW1lL3J1bnRpbWUiOwppbXBvcnQgX2FzeW5jVG9HZW5lcmF0b3IgZnJvbSAiL2hvbWUvd29saS9Qcm9qZWN0cy9EYXRhUm9vbS9mcm9udGVuZC9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vYXN5bmNUb0dlbmVyYXRvciI7CmltcG9ydCBNIGZyb20gJ21hdGVyaWFsaXplLWNzcyc7CmltcG9ydCBfIGZyb20gJ2xvZGFzaCc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiZW50ZXJCdWlsZGluZ0RpdiIsCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGFjdGl2ZUZvcm06ICcnLAogICAgICBsaXN0OiB7CiAgICAgICAgYnVpbGRpbmdfbGlzdDogbnVsbCwKICAgICAgICBmbG9vcl9saXN0OiBudWxsLAogICAgICAgIHJvb21fbGlzdDogbnVsbCwKICAgICAgICBmaWxlX2xpc3Q6IG51bGwKICAgICAgfSwKICAgICAgY3VycmVudGx5OiB7CiAgICAgICAgYnVpbGRpbmc6IG51bGwsCiAgICAgICAgZmxvb3I6IG51bGwsCiAgICAgICAgcm9vbTogbnVsbAogICAgICB9LAogICAgICB0bXA6IHsKICAgICAgICB2YWwxOiBudWxsCiAgICAgIH0sCiAgICAgIERFTEVURV9ST09NX0RBVEE6IHsKICAgICAgICBzZWxlY3RlZF9yb29tX3RvX2RlbGV0ZTogJycsCiAgICAgICAgcm9vbV9saXN0OiAnJwogICAgICB9LAogICAgICBNQU5BR0VfRkxPT1JfUEVSTUlTU0lPTl9EQVRBOiB7CiAgICAgICAgYnVpbGRpbmdfdXNlcnNfbm90X2luX2Zsb29yOiAnJywKICAgICAgICBzZWxlY3RlZF91c2VyX3RvX2FkZF90b19mbG9vcjogJycsCiAgICAgICAgc2VsZWN0ZWRfdXNlcl90b19yZW1vdmVfZnJvbV9mbG9vcjogJycsCiAgICAgICAgZmxvb3JfdXNlcnM6ICcnCiAgICAgIH0sCiAgICAgIE1BTkFHRV9ST09NX1BFUk1JU1NJT05fREFUQTogewogICAgICAgIHNlbGVjdGVkX3Jvb206ICcnLAogICAgICAgIHJvb21fbGlzdDogJycsCiAgICAgICAgc2VsZWN0ZWRfc2V0dGluZ19wdWJsaWM6ICcnLAogICAgICAgIHNlbGVjdGVkX3NldHRpbmdfaGlkZGVuOiAnJywKICAgICAgICBzZWxlY3RlZF91c2VyX3RvX3JlbW92ZV9mcm9tX3Jvb206ICcnLAogICAgICAgIHJvb21fdXNlcnM6ICcnLAogICAgICAgIHNlbGVjdGVkX3VzZXJfdG9fYWRkX3RvX3Jvb206ICcnLAogICAgICAgIGZsb29yX3VzZXJzX25vdF9pbl9yb29tOiAnJywKICAgICAgICBzZWxlY3RlZF9zZXR0aW5nX2Rvd25sb2FkOiAnJywKICAgICAgICBzZWxlY3RlZF9zZXR0aW5nX3VwbG9hZDogJycKICAgICAgfSwKICAgICAgUk9PTV9TRUNUSU9OOiB7CiAgICAgICAgYWN0aXZlVmlldzogJycKICAgICAgfQogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGNoYW5nZUFjdGl2ZUZvcm06IGZ1bmN0aW9uIGNoYW5nZUFjdGl2ZUZvcm0od2hhdCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICB2YXIgZmxvb3JfeG1sLCBidWlsZGluZ191c2VycywgcGFyc2VyLCB4bWxfZG9jLCB1c2VyczsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZSQoX2NvbnRleHQpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQucHJldiA9IF9jb250ZXh0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoIShfdGhpcy5hY3RpdmVGb3JtID09PSB3aGF0KSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX3RoaXMuYWN0aXZlRm9ybSA9ICcnOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQzOwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgIF90aGlzLmFjdGl2ZUZvcm0gPSB3aGF0OwoKICAgICAgICAgICAgICAgIGlmICghKF90aGlzLmFjdGl2ZUZvcm0gPT09ICdkZWxldGVSb29tJykpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE3OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gODsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy4kcm9vdC5nZXRGbG9vclJvb21zKF90aGlzLmN1cnJlbnRseS5mbG9vclsiZmxvb3JfbmFtZSJdLCBfdGhpcy5jdXJyZW50bHkuYnVpbGRpbmdbImJ1aWxkaW5nX25hbWUiXSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlWzBdID09PSB0cnVlKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXMuREVMRVRFX1JPT01fREFUQS5yb29tX2xpc3QgPSByZXNwb25zZVsxXTsKICAgICAgICAgICAgICAgICAgfSBlbHNlIE0udG9hc3QoewogICAgICAgICAgICAgICAgICAgIGh0bWw6IHJlc3BvbnNlWzFdLAogICAgICAgICAgICAgICAgICAgIGNsYXNzZXM6ICJyb3VuZGVkIG9yYW5nZSIsCiAgICAgICAgICAgICAgICAgICAgZGlzcGxheUxlbmd0aDogMjAwMAogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICByZXR1cm4gc2V0VGltZW91dChudWxsLCA1MDApOwoKICAgICAgICAgICAgICBjYXNlIDEwOgogICAgICAgICAgICAgICAgX2NvbnRleHQudDAgPSBNLkZvcm1TZWxlY3Q7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTM7CiAgICAgICAgICAgICAgICByZXR1cm4gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2RlbGV0ZVJvb21TZWxlY3QnKTsKCiAgICAgICAgICAgICAgY2FzZSAxMzoKICAgICAgICAgICAgICAgIF9jb250ZXh0LnQxID0gX2NvbnRleHQuc2VudDsKCiAgICAgICAgICAgICAgICBfY29udGV4dC50MC5pbml0LmNhbGwoX2NvbnRleHQudDAsIF9jb250ZXh0LnQxKTsKCiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDM7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICAgIGlmICghKF90aGlzLmFjdGl2ZUZvcm0gPT09ICdtYW5hZ2VSb29tUGVybWlzc2lvbicpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyNTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDIwOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzLiRyb290LmdldEZsb29yUm9vbXMoX3RoaXMuY3VycmVudGx5LmZsb29yWyJmbG9vcl9uYW1lIl0sIF90aGlzLmN1cnJlbnRseS5idWlsZGluZ1siYnVpbGRpbmdfbmFtZSJdKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2VbMF0gPT09IHRydWUpIHsKICAgICAgICAgICAgICAgICAgICBfdGhpcy5NQU5BR0VfUk9PTV9QRVJNSVNTSU9OX0RBVEEucm9vbV9saXN0ID0gcmVzcG9uc2VbMV07CiAgICAgICAgICAgICAgICAgIH0gZWxzZSBNLnRvYXN0KHsKICAgICAgICAgICAgICAgICAgICBodG1sOiByZXNwb25zZVsxXSwKICAgICAgICAgICAgICAgICAgICBjbGFzc2VzOiAicm91bmRlZCBvcmFuZ2UiLAogICAgICAgICAgICAgICAgICAgIGRpc3BsYXlMZW5ndGg6IDIwMDAKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyMjsKICAgICAgICAgICAgICAgIHJldHVybiBzZXRUaW1lb3V0KG51bGwsIDUwMCk7CgogICAgICAgICAgICAgIGNhc2UgMjI6CiAgICAgICAgICAgICAgICBNLkZvcm1TZWxlY3QuaW5pdChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbWFuYWdlUGVybWlzc2lvblNlbGVjdFJvb20nKSk7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDM7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAyNToKICAgICAgICAgICAgICAgIGlmICghKF90aGlzLmFjdGl2ZUZvcm0gPT09ICdtYW5hZ2VGbG9vclBlcm1pc3Npb24nKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNDM7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAyODsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpcy4kcm9vdC5MRVZFTEFETUlOX2dldF9mbG9vcl94bWwoX3RoaXMuY3VycmVudGx5LmJ1aWxkaW5nWydidWlsZGluZ19uYW1lJ10sIF90aGlzLmN1cnJlbnRseS5mbG9vclsnZmxvb3JfbmFtZSddKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2VbMF0gPT09IHRydWUpIGZsb29yX3htbCA9IHJlc3BvbnNlWzFdO2Vsc2UgTS50b2FzdCh7CiAgICAgICAgICAgICAgICAgICAgaHRtbDogcmVzcG9uc2VbMV0sCiAgICAgICAgICAgICAgICAgICAgY2xhc3NlczogJ3JvdW5kZWQgb3JhbmdlJywKICAgICAgICAgICAgICAgICAgICBkaXNwbGF5TGVuZ3RoOiAyMDAwCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjg6CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMzA7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMuJHJvb3QuTEVWRUxBRE1JTl9nZXRBbGxVc2Vyc0ZvckJ1aWxkaW5nKF90aGlzLmN1cnJlbnRseS5idWlsZGluZ1snYnVpbGRpbmdfbmFtZSddKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2VbMF0gPT09IHRydWUpIGJ1aWxkaW5nX3VzZXJzID0gcmVzcG9uc2VbMV07ZWxzZSBNLnRvYXN0KHsKICAgICAgICAgICAgICAgICAgICBodG1sOiByZXNwb25zZVsxXSwKICAgICAgICAgICAgICAgICAgICBjbGFzc2VzOiAncm91bmRlZCBvcmFuZ2UnLAogICAgICAgICAgICAgICAgICAgIGRpc3BsYXlMZW5ndGg6IDIwMDAKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAzMDoKICAgICAgICAgICAgICAgIHBhcnNlciA9IG5ldyBET01QYXJzZXIoKTsKICAgICAgICAgICAgICAgIHhtbF9kb2MgPSBwYXJzZXIucGFyc2VGcm9tU3RyaW5nKGZsb29yX3htbCwgJ3RleHQveG1sJyk7CiAgICAgICAgICAgICAgICB1c2VycyA9IHhtbF9kb2MuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3VzZXInKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzNTsKICAgICAgICAgICAgICAgIHJldHVybiBfLmZpbHRlcihidWlsZGluZ191c2VycywgZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCB1c2Vycy5sZW5ndGg7IGsrKykgewogICAgICAgICAgICAgICAgICAgIGlmIChOdW1iZXIodXNlcnNba10uZ2V0QXR0cmlidXRlKCdjbGllbnRfaWQnKSkgPT09IGl0ZW1bJ2lkJ10pIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAzNToKICAgICAgICAgICAgICAgIF90aGlzLk1BTkFHRV9GTE9PUl9QRVJNSVNTSU9OX0RBVEEuYnVpbGRpbmdfdXNlcnNfbm90X2luX2Zsb29yID0gX2NvbnRleHQuc2VudDsKICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAzODsKICAgICAgICAgICAgICAgIHJldHVybiBfLmZpbHRlcihidWlsZGluZ191c2VycywgZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgICAgICAgZm9yICh2YXIgayA9IDA7IGsgPCB1c2Vycy5sZW5ndGg7IGsrKykgewogICAgICAgICAgICAgICAgICAgIGlmIChOdW1iZXIodXNlcnNba10uZ2V0QXR0cmlidXRlKCdjbGllbnRfaWQnKSkgPT09IGl0ZW1bJ2lkJ10pIHJldHVybiB0cnVlOwogICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAzODoKICAgICAgICAgICAgICAgIF90aGlzLk1BTkFHRV9GTE9PUl9QRVJNSVNTSU9OX0RBVEEuZmxvb3JfdXNlcnMgPSBfY29udGV4dC5zZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDQxOwogICAgICAgICAgICAgICAgcmV0dXJuIHNldFRpbWVvdXQobnVsbCwgNTAwKTsKCiAgICAgICAgICAgICAgY2FzZSA0MToKICAgICAgICAgICAgICAgIE0uRm9ybVNlbGVjdC5pbml0KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdhZGRVVG9GbG9vclNlbGVjdCcpKTsKICAgICAgICAgICAgICAgIE0uRm9ybVNlbGVjdC5pbml0KGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdyZW1vdmVVRnJvbUZsb29yU2VsZWN0JykpOwoKICAgICAgICAgICAgICBjYXNlIDQzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHNlbGVjdEJ1aWxkaW5nOiBmdW5jdGlvbiBzZWxlY3RCdWlsZGluZyhidWlsZGluZ19pdGVtKSB7CiAgICAgIHRoaXMudG1wLnZhbDEgPSBidWlsZGluZ19pdGVtOwogICAgICBpZiAoYnVpbGRpbmdfaXRlbVsiaXNBZG1pbiJdID09PSBmYWxzZSkgdGhpcy5lbnRlckJ1aWxkaW5nKCd1c2VyJyk7ZWxzZSBpZiAoYnVpbGRpbmdfaXRlbVsiaXNBZG1pbiJdID09PSB0cnVlKSBNLk1vZGFsLmluaXQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J1aWxkaW5nRW50ZXJBZG1pbk9yVXNlcicpKS5vcGVuKCk7CiAgICB9LAogICAgZW50ZXJSb29tOiBmdW5jdGlvbiBlbnRlclJvb20ocm9vbV9uYW1lKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF90aGlzMi5jdXJyZW50bHkucm9vbSA9IHJvb21fbmFtZTsKICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gMzsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczIuJHJvb3QuZ2V0RmlsZXNJblJvb20ocm9vbV9uYW1lLCBfdGhpczIuY3VycmVudGx5LmJ1aWxkaW5nWyJidWlsZGluZ19uYW1lIl0sIF90aGlzMi5jdXJyZW50bHkuZmxvb3JbImZsb29yX25hbWUiXSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlWzBdID09PSB0cnVlKSBfdGhpczIubGlzdC5maWxlX2xpc3QgPSByZXNwb25zZVsxXTtlbHNlIE0udG9hc3QoewogICAgICAgICAgICAgICAgICAgIGh0bWw6IHJlc3BvbnNlWzFdLAogICAgICAgICAgICAgICAgICAgIGNsYXNzZXM6ICJyb3VuZGVkIG9yYW5nZSIsCiAgICAgICAgICAgICAgICAgICAgZGlzcGxheUxlbmd0aDogMjAwMAogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDM6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTIpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBlbnRlckZsb29yOiBmdW5jdGlvbiBlbnRlckZsb29yKGZsb29yX2l0ZW0pIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMygpIHsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXMzLmN1cnJlbnRseS5mbG9vciA9IGZsb29yX2l0ZW07CiAgICAgICAgICAgICAgICBfdGhpczMubGlzdC5yb29tX2xpc3QgPSBmbG9vcl9pdGVtWydyb29tX2RhdGEnXTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUzKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZW50ZXJCdWlsZGluZzogZnVuY3Rpb24gZW50ZXJCdWlsZGluZyhhc1dobykgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU0KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNCQoX2NvbnRleHQ0KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0NC5wcmV2ID0gX2NvbnRleHQ0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBpZiAoX3RoaXM0LnRtcC52YWwxWyJpc0FkbWluIl0gPT09IHRydWUpIE0uTW9kYWwuZ2V0SW5zdGFuY2UoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2J1aWxkaW5nRW50ZXJBZG1pbk9yVXNlcicpKS5jbG9zZSgpOwoKICAgICAgICAgICAgICAgIGlmICghKGFzV2hvID09PSAndXNlcicpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gNzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgX3RoaXM0LmN1cnJlbnRseS5idWlsZGluZyA9IF90aGlzNC50bXAudmFsMTsKICAgICAgICAgICAgICAgIF9jb250ZXh0NC5uZXh0ID0gNTsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczQuZ2V0Rmxvb3JMaXN0KF90aGlzNC50bXAudmFsMVsiYnVpbGRpbmdfbmFtZSJdKTsKCiAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgX2NvbnRleHQ0Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIGlmIChhc1dobyA9PT0gJ2FkbWluJykgewogICAgICAgICAgICAgICAgICBfdGhpczQuJHBhcmVudC5jaGFuZ2VWaWV3KCdhZG1pbicsIF90aGlzNC50bXAudmFsMVsiYnVpbGRpbmdfbmFtZSJdKTsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU0KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZ2V0QnVpbGRpbmdMaXN0OiBmdW5jdGlvbiBnZXRCdWlsZGluZ0xpc3QoKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTUoKSB7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU1JChfY29udGV4dDUpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ1LnByZXYgPSBfY29udGV4dDUubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIF9jb250ZXh0NS5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczUuJHJvb3QuZ2V0QnVpbGRpbmdMaXN0KCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlWzBdID09PSB0cnVlKSBfdGhpczUubGlzdC5idWlsZGluZ19saXN0ID0gcmVzcG9uc2VbMV07ZWxzZSBNLnRvYXN0KHsKICAgICAgICAgICAgICAgICAgICBodG1sOiByZXNwb25zZVsxXSwKICAgICAgICAgICAgICAgICAgICBjbGFzc2VzOiAicm91bmRlZCBvcmFuZ2UiLAogICAgICAgICAgICAgICAgICAgIGRpc3BsYXlMZW5ndGg6IDIwMDAKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAyOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ1LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWU1KTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgZ2V0Rmxvb3JMaXN0OiBmdW5jdGlvbiBnZXRGbG9vckxpc3QobmFtZSkgewogICAgICB2YXIgX3RoaXM2ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU2KCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlNiQoX2NvbnRleHQ2KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0Ni5wcmV2ID0gX2NvbnRleHQ2Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDYubmV4dCA9IDI7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM2LiRyb290LmdldEJ1aWxkaW5nRmxvb3JzKG5hbWUpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZVswXSA9PT0gZmFsc2UpIE0udG9hc3QoewogICAgICAgICAgICAgICAgICAgIGh0bWw6IHJlc3BvbnNlWzFdLAogICAgICAgICAgICAgICAgICAgIGNsYXNzZXM6ICJyb3VuZGVkIG9yYW5nZSIsCiAgICAgICAgICAgICAgICAgICAgZGlzcGxheUxlbmd0aDogMjAwMAogICAgICAgICAgICAgICAgICB9KTtlbHNlIF90aGlzNi5saXN0LmZsb29yX2xpc3QgPSByZXNwb25zZVsxXTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDYuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTYpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBhZGRSb29tOiBmdW5jdGlvbiBhZGRSb29tKCkgewogICAgICB2YXIgX3RoaXM3ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU4KCkgewogICAgICAgIHZhciByb29tTmFtZSwgcGVybV9wdWJsaWMsIHBlcm1faGlkZGVuOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlOCQoX2NvbnRleHQ4KSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0OC5wcmV2ID0gX2NvbnRleHQ4Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICByb29tTmFtZSA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjcmVhdGVSb29tTmFtZScpLnZhbHVlOwogICAgICAgICAgICAgICAgcGVybV9wdWJsaWMgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY3JlYXRlUm9vbVBlcm1pc3Npb25fcHVibGljJykuY2hlY2tlZDsKICAgICAgICAgICAgICAgIHBlcm1faGlkZGVuID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NyZWF0ZVJvb21QZXJtaXNzaW9uX2hpZGRlbicpLmNoZWNrZWQ7CiAgICAgICAgICAgICAgICBfY29udGV4dDgubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM3LiRyb290LkxFVkVMQURNSU5fY3JlYXRlUm9vbShyb29tTmFtZSwgX3RoaXM3LmN1cnJlbnRseS5mbG9vclsiZmxvb3JfbmFtZSJdLCBfdGhpczcuY3VycmVudGx5LmJ1aWxkaW5nWyJidWlsZGluZ19uYW1lIl0sIHBlcm1fcHVibGljLCBwZXJtX2hpZGRlbikudGhlbiggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgdmFyIF9yZWYgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWU3KHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWU3JChfY29udGV4dDcpIHsKICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQ3LnByZXYgPSBfY29udGV4dDcubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHJlc3BvbnNlWzBdID09PSB0cnVlKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDcubmV4dCA9IDc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIE0udG9hc3QoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBodG1sOiAnUm9vbSBoYXMgYmVlbiBjcmVhdGVkJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NlczogInJvdW5kZWQgZ3JlZW4iLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5TGVuZ3RoOiAyMDAwCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gNDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczcuZW50ZXJGbG9vcihfdGhpczcuY3VycmVudGx5LmZsb29yKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM3LmFjdGl2ZUZvcm0gPSAnJzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0Ny5uZXh0ID0gODsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBNLnRvYXN0KHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHRtbDogcmVzcG9uc2VbMV0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzZXM6ICJyb3VuZGVkIG9yYW5nZSIsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXlMZW5ndGg6IDIwMDAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDcuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZTcpOwogICAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94KSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0oKSk7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0OC5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlOCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGRlbGV0ZVJvb206IGZ1bmN0aW9uIGRlbGV0ZVJvb20oKSB7CiAgICAgIHZhciBfdGhpczggPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTEwKCkgewogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTAkKF9jb250ZXh0MTApIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMC5wcmV2ID0gX2NvbnRleHQxMC5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQxMC5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczguJHJvb3QuTEVWRUxBRE1JTl9kZWxldGVSb29tKF90aGlzOC5jdXJyZW50bHkuYnVpbGRpbmdbJ2J1aWxkaW5nX25hbWUnXSwgX3RoaXM4LmN1cnJlbnRseS5mbG9vclsnZmxvb3JfbmFtZSddLCBfdGhpczguREVMRVRFX1JPT01fREFUQS5zZWxlY3RlZF9yb29tX3RvX2RlbGV0ZSkudGhlbiggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgdmFyIF9yZWYyID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlOShyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlOSQoX2NvbnRleHQ5KSB7CiAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0OS5wcmV2ID0gX2NvbnRleHQ5Lm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShyZXNwb25zZVswXSA9PT0gdHJ1ZSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQ5Lm5leHQgPSA3OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBNLnRvYXN0KHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHRtbDogJ1Jvb20gaGFzIGJlZW4gZGVsZXRlZCcsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzZXM6ICdyb3VuZGVkIGdyZWVuJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheUxlbmd0aDogMjAwMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDkubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM4LmVudGVyRmxvb3IoX3RoaXM4LmN1cnJlbnRseS5mbG9vcik7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzOC5hY3RpdmVGb3JtID0gJyc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDkubmV4dCA9IDg7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgTS50b2FzdCh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh0bWw6IHJlc3BvbnNlWzFdLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc2VzOiAncm91bmRlZCBvcmFuZ2UnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5TGVuZ3RoOiAyMDAwCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQ5LnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWU5KTsKICAgICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeDIpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3JlZjIuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0oKSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTAuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZTEwKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgYWRkVXNlclRvRmxvb3I6IGZ1bmN0aW9uIGFkZFVzZXJUb0Zsb29yKCkgewogICAgICB2YXIgX3RoaXM5ID0gdGhpczsKCiAgICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMigpIHsKICAgICAgICB2YXIgcGFyc2VyLCB4bWxfc3RyaW5nLCB4bWxfZG9jLCBuZXdfbm9kZTsKICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEyJChfY29udGV4dDEyKSB7CiAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTIucHJldiA9IF9jb250ZXh0MTIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHBhcnNlciA9IG5ldyBET01QYXJzZXIoKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTIubmV4dCA9IDM7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM5LiRyb290LkxFVkVMQURNSU5fZ2V0X2Zsb29yX3htbChfdGhpczkuY3VycmVudGx5LmJ1aWxkaW5nWydidWlsZGluZ19uYW1lJ10sIF90aGlzOS5jdXJyZW50bHkuZmxvb3JbJ2Zsb29yX25hbWUnXSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlWzBdID09PSB0cnVlKSB4bWxfc3RyaW5nID0gcmVzcG9uc2VbMV07ZWxzZSBNLnRvYXN0KHsKICAgICAgICAgICAgICAgICAgICBodG1sOiByZXNwb25zZVsxXSwKICAgICAgICAgICAgICAgICAgICBjbGFzc2VzOiAncm91bmRlZCBvcmFuZ2UnLAogICAgICAgICAgICAgICAgICAgIGRpc3BsYXlMZW5ndGg6IDIwMDAKICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAzOgogICAgICAgICAgICAgICAgeG1sX2RvYyA9IHBhcnNlci5wYXJzZUZyb21TdHJpbmcoeG1sX3N0cmluZywgJ3RleHQveG1sJyk7CiAgICAgICAgICAgICAgICBuZXdfbm9kZSA9IHhtbF9kb2MuY3JlYXRlRWxlbWVudCgndXNlcicpOwogICAgICAgICAgICAgICAgbmV3X25vZGUuc2V0QXR0cmlidXRlKCdjbGllbnRfaWQnLCBTdHJpbmcoX3RoaXM5Lk1BTkFHRV9GTE9PUl9QRVJNSVNTSU9OX0RBVEEuc2VsZWN0ZWRfdXNlcl90b19hZGRfdG9fZmxvb3JbJ2lkJ10pKTsKICAgICAgICAgICAgICAgIHhtbF9kb2MuZ2V0RWxlbWVudHNCeVRhZ05hbWUoJ3VzZXJzJylbMF0uYXBwZW5kQ2hpbGQobmV3X25vZGUpOwogICAgICAgICAgICAgICAgX2NvbnRleHQxMi5uZXh0ID0gOTsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczkuJHJvb3QuTEVWRUxBRE1JTl91cGRhdGVfZmxvb3JfeG1sKF90aGlzOS5jdXJyZW50bHkuYnVpbGRpbmdbJ2J1aWxkaW5nX25hbWUnXSwgX3RoaXM5LmN1cnJlbnRseS5mbG9vclsnZmxvb3JfbmFtZSddLCB4bWxfZG9jKS50aGVuKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICB2YXIgX3JlZjMgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUxMShyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTEkKF9jb250ZXh0MTEpIHsKICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxMS5wcmV2ID0gX2NvbnRleHQxMS5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEocmVzcG9uc2VbMF0gPT09IHRydWUpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTEubmV4dCA9IDc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIE0udG9hc3QoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBodG1sOiAnVXNlciBoYXMgYmVlbiBhZGRlZCB0byBmbG9vcicsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzZXM6ICdyb3VuZGVkIGdyZWVuJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheUxlbmd0aDogMjAwMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczkuTUFOQUdFX0ZMT09SX1BFUk1JU1NJT05fREFUQSA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVpbGRpbmdfdXNlcnNfbm90X2luX2Zsb29yOiAnJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRfdXNlcl90b19hZGRfdG9fZmxvb3I6ICcnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZF91c2VyX3RvX3JlbW92ZV9mcm9tX2Zsb29yOiAnJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxvb3JfdXNlcnM6ICcnCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQxMS5uZXh0ID0gNTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczkuY2hhbmdlQWN0aXZlRm9ybSgnJyk7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTEubmV4dCA9IDg7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgTS50b2FzdCh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh0bWw6IHJlc3BvbnNlWzFdLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc2VzOiAncm91bmRlZCBvcmFuZ2UnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5TGVuZ3RoOiAyMDAwCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMS5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlMTEpOwogICAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94MykgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVmMy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfSgpKTsKCiAgICAgICAgICAgICAgY2FzZSA5OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxMi5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTIpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBkZWxldGVVc2VyRnJvbUZsb29yOiBmdW5jdGlvbiBkZWxldGVVc2VyRnJvbUZsb29yKCkgewogICAgICB2YXIgX3RoaXMxMCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTQoKSB7CiAgICAgICAgdmFyIHBhcnNlciwgeG1sX3N0cmluZywgeG1sX2RvYywgdXNlcnMsIGk7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxNCQoX2NvbnRleHQxNCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDE0LnByZXYgPSBfY29udGV4dDE0Lm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBwYXJzZXIgPSBuZXcgRE9NUGFyc2VyKCk7CiAgICAgICAgICAgICAgICBfY29udGV4dDE0Lm5leHQgPSAzOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMTAuJHJvb3QuTEVWRUxBRE1JTl9nZXRfZmxvb3JfeG1sKF90aGlzMTAuY3VycmVudGx5LmJ1aWxkaW5nWydidWlsZGluZ19uYW1lJ10sIF90aGlzMTAuY3VycmVudGx5LmZsb29yWydmbG9vcl9uYW1lJ10pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZVswXSA9PT0gdHJ1ZSkgeG1sX3N0cmluZyA9IHJlc3BvbnNlWzFdO2Vsc2UgTS50b2FzdCh7CiAgICAgICAgICAgICAgICAgICAgaHRtbDogcmVzcG9uc2VbMV0sCiAgICAgICAgICAgICAgICAgICAgY2xhc3NlczogJ3JvdW5kZWQgb3JhbmdlJywKICAgICAgICAgICAgICAgICAgICBkaXNwbGF5TGVuZ3RoOiAyMDAwCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMzoKICAgICAgICAgICAgICAgIHhtbF9kb2MgPSBwYXJzZXIucGFyc2VGcm9tU3RyaW5nKHhtbF9zdHJpbmcsICd0ZXh0L3htbCcpOwogICAgICAgICAgICAgICAgdXNlcnMgPSB4bWxfZG9jLmdldEVsZW1lbnRzQnlUYWdOYW1lKCd1c2VyJyk7CiAgICAgICAgICAgICAgICBpID0gMDsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgaWYgKCEoaSA8IHVzZXJzLmxlbmd0aCkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQxNC5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICghKE51bWJlcih1c2Vyc1tpXS5nZXRBdHRyaWJ1dGUoJ2NsaWVudF9pZCcpKSA9PT0gX3RoaXMxMC5NQU5BR0VfRkxPT1JfUEVSTUlTU0lPTl9EQVRBLnNlbGVjdGVkX3VzZXJfdG9fcmVtb3ZlX2Zyb21fZmxvb3JbJ2lkJ10pKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTQubmV4dCA9IDk7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE0LmFicnVwdCgiYnJlYWsiLCAxMik7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgIGkrKzsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTQubmV4dCA9IDY7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICAgIHVzZXJzW2ldLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodXNlcnNbaV0pOwogICAgICAgICAgICAgICAgX2NvbnRleHQxNC5uZXh0ID0gMTU7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMxMC4kcm9vdC5MRVZFTEFETUlOX3VwZGF0ZV9mbG9vcl94bWwoX3RoaXMxMC5jdXJyZW50bHkuYnVpbGRpbmdbJ2J1aWxkaW5nX25hbWUnXSwgX3RoaXMxMC5jdXJyZW50bHkuZmxvb3JbJ2Zsb29yX25hbWUnXSwgeG1sX2RvYykudGhlbiggLyojX19QVVJFX18qL2Z1bmN0aW9uICgpIHsKICAgICAgICAgICAgICAgICAgdmFyIF9yZWY0ID0gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTMocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVnZW5lcmF0b3JSdW50aW1lLndyYXAoZnVuY3Rpb24gX2NhbGxlZTEzJChfY29udGV4dDEzKSB7CiAgICAgICAgICAgICAgICAgICAgICB3aGlsZSAoMSkgewogICAgICAgICAgICAgICAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MTMucHJldiA9IF9jb250ZXh0MTMubmV4dCkgewogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghKHJlc3BvbnNlWzBdID09PSB0cnVlKSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDEzLm5leHQgPSA3OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBNLnRvYXN0KHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHRtbDogJ1VzZXIgaGFzIGJlZW4gcmVtb3ZlZCBmcm9tIGZsb29yJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NlczogJ3JvdW5kZWQgZ3JlZW4nLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5TGVuZ3RoOiAyMDAwCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzMTAuTUFOQUdFX0ZMT09SX1BFUk1JU1NJT05fREFUQSA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnVpbGRpbmdfdXNlcnNfbm90X2luX2Zsb29yOiAnJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRfdXNlcl90b19hZGRfdG9fZmxvb3I6ICcnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZF91c2VyX3RvX3JlbW92ZV9mcm9tX2Zsb29yOiAnJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmxvb3JfdXNlcnM6ICcnCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQxMy5uZXh0ID0gNTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczEwLmNoYW5nZUFjdGl2ZUZvcm0oJycpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDEzLm5leHQgPSA4OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIE0udG9hc3QoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBodG1sOiByZXNwb25zZVsxXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NlczogJ3JvdW5kZWQgb3JhbmdlJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheUxlbmd0aDogMjAwMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTMuc3RvcCgpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZTEzKTsKICAgICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeDQpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3JlZjQuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0oKSk7CgogICAgICAgICAgICAgIGNhc2UgMTU6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE0LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxNCk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHNlbGVjdFJvb21Ub01hbmFnZTogZnVuY3Rpb24gc2VsZWN0Um9vbVRvTWFuYWdlKCkgewogICAgICB2YXIgX3RoaXMxMSA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTUoKSB7CiAgICAgICAgdmFyIGJ1aWxkaW5nX3VzZXJzLCB4bWxfc3RyaW5nLCBwYXJzZXIsIHhtbF9kb2MsIHJvb21zLCBpLCB1c2Vyc19pbl9yb29tOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTUkKF9jb250ZXh0MTUpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxNS5wcmV2ID0gX2NvbnRleHQxNS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQxNS5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczExLiRyb290LkxFVkVMQURNSU5fZ2V0X2Zsb29yX3htbChfdGhpczExLmN1cnJlbnRseS5idWlsZGluZ1snYnVpbGRpbmdfbmFtZSddLCBfdGhpczExLmN1cnJlbnRseS5mbG9vclsnZmxvb3JfbmFtZSddKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2VbMF0gPT09IHRydWUpIHhtbF9zdHJpbmcgPSByZXNwb25zZVsxXTtlbHNlIE0udG9hc3QoewogICAgICAgICAgICAgICAgICAgIGh0bWw6IHJlc3BvbnNlWzFdLAogICAgICAgICAgICAgICAgICAgIGNsYXNzZXM6ICdyb3VuZGVkIG9yYW5nZScsCiAgICAgICAgICAgICAgICAgICAgZGlzcGxheUxlbmd0aDogMjAwMAogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBfY29udGV4dDE1Lm5leHQgPSA0OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMTEuJHJvb3QuTEVWRUxBRE1JTl9nZXRBbGxVc2Vyc0ZvckJ1aWxkaW5nKF90aGlzMTEuY3VycmVudGx5LmJ1aWxkaW5nWydidWlsZGluZ19uYW1lJ10pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZVswXSA9PT0gdHJ1ZSkgYnVpbGRpbmdfdXNlcnMgPSByZXNwb25zZVsxXTtlbHNlIE0udG9hc3QoewogICAgICAgICAgICAgICAgICAgIGh0bWw6IHJlc3BvbnNlWzFdLAogICAgICAgICAgICAgICAgICAgIGNsYXNzZXM6ICdyb3VuZGVkIG9yYW5nZScsCiAgICAgICAgICAgICAgICAgICAgZGlzcGxheUxlbmd0aDogMjAwMAogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICBwYXJzZXIgPSBuZXcgRE9NUGFyc2VyKCk7CiAgICAgICAgICAgICAgICB4bWxfZG9jID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyh4bWxfc3RyaW5nLCAndGV4dC94bWwnKTsKICAgICAgICAgICAgICAgIHJvb21zID0geG1sX2RvYy5nZXRFbGVtZW50c0J5VGFnTmFtZSgncm9vbScpOwogICAgICAgICAgICAgICAgaSA9IDA7CgogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgIGlmICghKGkgPCByb29tcy5sZW5ndGgpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTUubmV4dCA9IDE0OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIShyb29tc1tpXS5nZXRBdHRyaWJ1dGUoJ3Jvb21fbmFtZScpID09PSBfdGhpczExLk1BTkFHRV9ST09NX1BFUk1JU1NJT05fREFUQS5zZWxlY3RlZF9yb29tKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDE1Lm5leHQgPSAxMTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTUuYWJydXB0KCJicmVhayIsIDE0KTsKCiAgICAgICAgICAgICAgY2FzZSAxMToKICAgICAgICAgICAgICAgIGkrKzsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTUubmV4dCA9IDg7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxNDoKICAgICAgICAgICAgICAgIHJvb21zW2ldLmdldEF0dHJpYnV0ZSgncHVibGljJykgPT09ICdUcnVlJyA/IF90aGlzMTEuTUFOQUdFX1JPT01fUEVSTUlTU0lPTl9EQVRBLnNlbGVjdGVkX3NldHRpbmdfcHVibGljID0gdHJ1ZSA6IF90aGlzMTEuTUFOQUdFX1JPT01fUEVSTUlTU0lPTl9EQVRBLnNlbGVjdGVkX3NldHRpbmdfcHVibGljID0gZmFsc2U7CiAgICAgICAgICAgICAgICByb29tc1tpXS5nZXRBdHRyaWJ1dGUoJ2hpZGRlbicpID09PSAnVHJ1ZScgPyBfdGhpczExLk1BTkFHRV9ST09NX1BFUk1JU1NJT05fREFUQS5zZWxlY3RlZF9zZXR0aW5nX2hpZGRlbiA9IHRydWUgOiBfdGhpczExLk1BTkFHRV9ST09NX1BFUk1JU1NJT05fREFUQS5zZWxlY3RlZF9zZXR0aW5nX2hpZGRlbiA9IGZhbHNlOwogICAgICAgICAgICAgICAgdXNlcnNfaW5fcm9vbSA9IHJvb21zW2ldLmdldEVsZW1lbnRzQnlUYWdOYW1lKCd1c2VyJyk7CiAgICAgICAgICAgICAgICBfY29udGV4dDE1Lm5leHQgPSAxOTsKICAgICAgICAgICAgICAgIHJldHVybiBfLmZpbHRlcihidWlsZGluZ191c2VycywgZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB1c2Vyc19pbl9yb29tLmxlbmd0aDsgaisrKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKE51bWJlcihpdGVtWydpZCddID09PSBOdW1iZXIodXNlcnNfaW5fcm9vbVtqXS5nZXRBdHRyaWJ1dGUoJ2NsaWVudF9pZCcpKSkpIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgY2FzZSAxOToKICAgICAgICAgICAgICAgIF90aGlzMTEuTUFOQUdFX1JPT01fUEVSTUlTU0lPTl9EQVRBLmZsb29yX3VzZXJzX25vdF9pbl9yb29tID0gX2NvbnRleHQxNS5zZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQxNS5uZXh0ID0gMjI7CiAgICAgICAgICAgICAgICByZXR1cm4gXy5maWx0ZXIoYnVpbGRpbmdfdXNlcnMsIGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgdXNlcnNfaW5fcm9vbS5sZW5ndGg7IGorKykgewogICAgICAgICAgICAgICAgICAgIGlmIChOdW1iZXIoaXRlbVsnaWQnXSA9PT0gTnVtYmVyKHVzZXJzX2luX3Jvb21bal0uZ2V0QXR0cmlidXRlKCdjbGllbnRfaWQnKSkpKSByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjI6CiAgICAgICAgICAgICAgICBfdGhpczExLk1BTkFHRV9ST09NX1BFUk1JU1NJT05fREFUQS5yb29tX3VzZXJzID0gX2NvbnRleHQxNS5zZW50OwogICAgICAgICAgICAgICAgX2NvbnRleHQxNS5uZXh0ID0gMjU7CiAgICAgICAgICAgICAgICByZXR1cm4gc2V0VGltZW91dChudWxsLCA1MDApOwoKICAgICAgICAgICAgICBjYXNlIDI1OgogICAgICAgICAgICAgICAgTS5Gb3JtU2VsZWN0LmluaXQoZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2FkZFVzZXJUb1Jvb21TZWxlY3QnKSk7CiAgICAgICAgICAgICAgICBNLkZvcm1TZWxlY3QuaW5pdChkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZGVsZXRlVXNlckZyb21Sb29tU2VsZWN0JykpOwoKICAgICAgICAgICAgICBjYXNlIDI3OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTUpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICB1cGRhdGVSb29tU2V0dGluZ3M6IGZ1bmN0aW9uIHVwZGF0ZVJvb21TZXR0aW5ncygpIHsKICAgICAgdmFyIF90aGlzMTIgPSB0aGlzOwoKICAgICAgcmV0dXJuIF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE3KCkgewogICAgICAgIHZhciB4bWxfc3RyaW5nLCBwYXJzZXIsIHJvb3QsIHJvb21zLCBpOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTckKF9jb250ZXh0MTcpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxNy5wcmV2ID0gX2NvbnRleHQxNy5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQxNy5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczEyLiRyb290LkxFVkVMQURNSU5fZ2V0X2Zsb29yX3htbChfdGhpczEyLmN1cnJlbnRseS5idWlsZGluZ1snYnVpbGRpbmdfbmFtZSddLCBfdGhpczEyLmN1cnJlbnRseS5mbG9vclsnZmxvb3JfbmFtZSddKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2VbMF0gPT09IHRydWUpIHhtbF9zdHJpbmcgPSByZXNwb25zZVsxXTtlbHNlIE0udG9hc3QoewogICAgICAgICAgICAgICAgICAgIGh0bWw6IHJlc3BvbnNlWzFdLAogICAgICAgICAgICAgICAgICAgIGNsYXNzZXM6ICdyb3VuZGVkIG9yYW5nZScsCiAgICAgICAgICAgICAgICAgICAgZGlzcGxheUxlbmd0aDogMjAwMAogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBwYXJzZXIgPSBuZXcgRE9NUGFyc2VyKCk7CiAgICAgICAgICAgICAgICByb290ID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyh4bWxfc3RyaW5nLCAndGV4dC94bWwnKTsKICAgICAgICAgICAgICAgIHJvb21zID0gcm9vdC5nZXRFbGVtZW50c0J5VGFnTmFtZSgncm9vbScpOwoKICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCByb29tcy5sZW5ndGg7IGkrKykgewogICAgICAgICAgICAgICAgICBpZiAocm9vbXNbaV0uZ2V0QXR0cmlidXRlKCdyb29tX25hbWUnKSA9PT0gX3RoaXMxMi5NQU5BR0VfUk9PTV9QRVJNSVNTSU9OX0RBVEEuc2VsZWN0ZWRfcm9vbSkgewogICAgICAgICAgICAgICAgICAgIF90aGlzMTIuTUFOQUdFX1JPT01fUEVSTUlTU0lPTl9EQVRBLnNlbGVjdGVkX3NldHRpbmdfcHVibGljID09PSB0cnVlID8gcm9vbXNbaV0uc2V0QXR0cmlidXRlKCdwdWJsaWMnLCAnVHJ1ZScpIDogcm9vbXNbaV0uc2V0QXR0cmlidXRlKCdwdWJsaWMnLCAnRmFsc2UnKTsKICAgICAgICAgICAgICAgICAgICBfdGhpczEyLk1BTkFHRV9ST09NX1BFUk1JU1NJT05fREFUQS5zZWxlY3RlZF9zZXR0aW5nX2hpZGRlbiA9PT0gdHJ1ZSA/IHJvb21zW2ldLnNldEF0dHJpYnV0ZSgnaGlkZGVuJywgJ1RydWUnKSA6IHJvb21zW2ldLnNldEF0dHJpYnV0ZSgnaGlkZGVuJywgJ0ZhbHNlJyk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBfY29udGV4dDE3Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMTIuJHJvb3QuTEVWRUxBRE1JTl91cGRhdGVfZmxvb3JfeG1sKF90aGlzMTIuY3VycmVudGx5LmJ1aWxkaW5nWydidWlsZGluZ19uYW1lJ10sIF90aGlzMTIuY3VycmVudGx5LmZsb29yWydmbG9vcl9uYW1lJ10sIHJvb3QpLnRoZW4oIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIHZhciBfcmVmNSA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE2KHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxNiQoX2NvbnRleHQxNikgewogICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDE2LnByZXYgPSBfY29udGV4dDE2Lm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShyZXNwb25zZVswXSA9PT0gdHJ1ZSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQxNi5uZXh0ID0gNzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgTS50b2FzdCh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh0bWw6ICdSb29tIHNldHRpbmdzIGhhcyBiZWVuIHVwZGF0ZWQnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc2VzOiAncm91bmRlZCBncmVlbicsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXlMZW5ndGg6IDIwMDAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQxNi5uZXh0ID0gNDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczEyLmNoYW5nZUFjdGl2ZUZvcm0oJycpOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDQ6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczEyLk1BTkFHRV9ST09NX1BFUk1JU1NJT05fREFUQSA9IHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRfcm9vbTogJycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvb21fbGlzdDogJycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkX3NldHRpbmdfcHVibGljOiAnJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRfc2V0dGluZ19oaWRkZW46ICcnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZF91c2VyX3RvX3JlbW92ZV9mcm9tX3Jvb206ICcnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb29tX3VzZXJzOiAnJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRfdXNlcl90b19hZGRfdG9fcm9vbTogJycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsb29yX3VzZXJzX25vdF9pbl9yb29tOiAnJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRfc2V0dGluZ19kb3dubG9hZDogJycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkX3NldHRpbmdfdXBsb2FkOiAnJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTYubmV4dCA9IDg7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgTS50b2FzdCh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh0bWw6IHJlc3BvbnNlWzFdLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc2VzOiAncm91bmRlZCBvcmFuZ2UnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaXNwbGF5TGVuZ3RoOiAyMDAwCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNi5zdG9wKCk7CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9LCBfY2FsbGVlMTYpOwogICAgICAgICAgICAgICAgICB9KSk7CgogICAgICAgICAgICAgICAgICByZXR1cm4gZnVuY3Rpb24gKF94NSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBfcmVmNS5hcHBseSh0aGlzLCBhcmd1bWVudHMpOwogICAgICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICAgfSgpKTsKCiAgICAgICAgICAgICAgY2FzZSA4OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxNy5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMTcpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICBhZGRVc2VyVG9Sb29tOiBmdW5jdGlvbiBhZGRVc2VyVG9Sb29tKCkgewogICAgICB2YXIgX3RoaXMxMyA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMTkoKSB7CiAgICAgICAgdmFyIHhtbF9zdHJpbmcsIHBhcnNlciwgcm9vdCwgcm9vbXMsIGksIG5ld19ub2RlOwogICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMTkkKF9jb250ZXh0MTkpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQxOS5wcmV2ID0gX2NvbnRleHQxOS5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX2NvbnRleHQxOS5uZXh0ID0gMjsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczEzLiRyb290LkxFVkVMQURNSU5fZ2V0X2Zsb29yX3htbChfdGhpczEzLmN1cnJlbnRseS5idWlsZGluZ1snYnVpbGRpbmdfbmFtZSddLCBfdGhpczEzLmN1cnJlbnRseS5mbG9vclsnZmxvb3JfbmFtZSddKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2VbMF0gPT09IHRydWUpIHhtbF9zdHJpbmcgPSByZXNwb25zZVsxXTtlbHNlIE0udG9hc3QoewogICAgICAgICAgICAgICAgICAgIGh0bWw6IHJlc3BvbnNlWzFdLAogICAgICAgICAgICAgICAgICAgIGNsYXNzZXM6ICdyb3VuZGVkIG9yYW5nZScsCiAgICAgICAgICAgICAgICAgICAgZGlzcGxheUxlbmd0aDogMjAwMAogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICBjYXNlIDI6CiAgICAgICAgICAgICAgICBwYXJzZXIgPSBuZXcgRE9NUGFyc2VyKCk7CiAgICAgICAgICAgICAgICByb290ID0gcGFyc2VyLnBhcnNlRnJvbVN0cmluZyh4bWxfc3RyaW5nLCAndGV4dC94bWwnKTsKICAgICAgICAgICAgICAgIHJvb21zID0gcm9vdC5nZXRFbGVtZW50c0J5VGFnTmFtZSgncm9vbScpOwogICAgICAgICAgICAgICAgaSA9IDA7CgogICAgICAgICAgICAgIGNhc2UgNjoKICAgICAgICAgICAgICAgIGlmICghKGkgPCByb29tcy5sZW5ndGgpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTkubmV4dCA9IDEyOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIShyb29tc1tpXS5nZXRBdHRyaWJ1dGUoJ3Jvb21fbmFtZScpID09PSBfdGhpczEzLk1BTkFHRV9ST09NX1BFUk1JU1NJT05fREFUQS5zZWxlY3RlZF9yb29tKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDE5Lm5leHQgPSA5OwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQxOS5hYnJ1cHQoImJyZWFrIiwgMTIpOwoKICAgICAgICAgICAgICBjYXNlIDk6CiAgICAgICAgICAgICAgICBpKys7CiAgICAgICAgICAgICAgICBfY29udGV4dDE5Lm5leHQgPSA2OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMTI6CiAgICAgICAgICAgICAgICBuZXdfbm9kZSA9IHJvb3QuY3JlYXRlRWxlbWVudCgndXNlcicpOwogICAgICAgICAgICAgICAgbmV3X25vZGUuc2V0QXR0cmlidXRlKCdjbGllbnRfaWQnLCBTdHJpbmcoX3RoaXMxMy5NQU5BR0VfUk9PTV9QRVJNSVNTSU9OX0RBVEEuc2VsZWN0ZWRfdXNlcl90b19hZGRfdG9fcm9vbVsnaWQnXSkpOwogICAgICAgICAgICAgICAgbmV3X25vZGUuc2V0QXR0cmlidXRlKCdkb3dubG9hZCcsIF90aGlzMTMuTUFOQUdFX1JPT01fUEVSTUlTU0lPTl9EQVRBLnNlbGVjdGVkX3NldHRpbmdfZG93bmxvYWQgPT09IHRydWUgPyAiVHJ1ZSIgOiAiRmFsc2UiKTsKICAgICAgICAgICAgICAgIG5ld19ub2RlLnNldEF0dHJpYnV0ZSgndXBsb2FkJywgX3RoaXMxMy5NQU5BR0VfUk9PTV9QRVJNSVNTSU9OX0RBVEEuc2VsZWN0ZWRfc2V0dGluZ191cGxvYWQgPT09IHRydWUgPyAiVHJ1ZSIgOiAiRmFsc2UiKTsKICAgICAgICAgICAgICAgIHJvb21zW2ldLmFwcGVuZENoaWxkKG5ld19ub2RlKTsKICAgICAgICAgICAgICAgIF9jb250ZXh0MTkubmV4dCA9IDE5OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMTMuJHJvb3QuTEVWRUxBRE1JTl91cGRhdGVfZmxvb3JfeG1sKF90aGlzMTMuY3VycmVudGx5LmJ1aWxkaW5nWydidWlsZGluZ19uYW1lJ10sIF90aGlzMTMuY3VycmVudGx5LmZsb29yWydmbG9vcl9uYW1lJ10sIHJvb3QpLnRoZW4oIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIHZhciBfcmVmNiA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTE4KHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUxOCQoX2NvbnRleHQxOCkgewogICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDE4LnByZXYgPSBfY29udGV4dDE4Lm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShyZXNwb25zZVswXSA9PT0gdHJ1ZSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQxOC5uZXh0ID0gNzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgTS50b2FzdCh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh0bWw6ICdVc2VyIGhhcyBiZWVuIGFkZGVkIHRvIHJvb20nCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MTgubmV4dCA9IDQ7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMxMy5jaGFuZ2VBY3RpdmVGb3JtKCcnKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxMy5NQU5BR0VfUk9PTV9QRVJNSVNTSU9OX0RBVEEgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkX3Jvb206ICcnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb29tX2xpc3Q6ICcnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZF9zZXR0aW5nX3B1YmxpYzogJycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkX3NldHRpbmdfaGlkZGVuOiAnJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRfdXNlcl90b19yZW1vdmVfZnJvbV9yb29tOiAnJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9vbV91c2VyczogJycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkX3VzZXJfdG9fYWRkX3RvX3Jvb206ICcnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmbG9vcl91c2Vyc19ub3RfaW5fcm9vbTogJycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkX3NldHRpbmdfZG93bmxvYWQ6ICcnLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxlY3RlZF9zZXR0aW5nX3VwbG9hZDogJycKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDE4Lm5leHQgPSA4OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIE0udG9hc3QoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBodG1sOiByZXNwb25zZVsxXSwKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3NlczogJ3JvdW5kZWQgb3JhbmdlJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlzcGxheUxlbmd0aDogMjAwMAogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MTguc3RvcCgpOwogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfSwgX2NhbGxlZTE4KTsKICAgICAgICAgICAgICAgICAgfSkpOwoKICAgICAgICAgICAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIChfeDYpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3JlZjYuYXBwbHkodGhpcywgYXJndW1lbnRzKTsKICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgIH0oKSk7CgogICAgICAgICAgICAgIGNhc2UgMTk6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDE5LnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUxOSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIHJlbW92ZVVzZXJGcm9tUm9vbTogZnVuY3Rpb24gcmVtb3ZlVXNlckZyb21Sb29tKCkgewogICAgICB2YXIgX3RoaXMxNCA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMjEoKSB7CiAgICAgICAgdmFyIHhtbF9zdHJpbmcsIHBhcnNlciwgcm9vdCwgcm9vbXMsIGksIHVzZXJzX2luX3Jvb20sIGo7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyMSQoX2NvbnRleHQyMSkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIxLnByZXYgPSBfY29udGV4dDIxLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBfY29udGV4dDIxLm5leHQgPSAyOwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMTQuJHJvb3QuTEVWRUxBRE1JTl9nZXRfZmxvb3JfeG1sKF90aGlzMTQuY3VycmVudGx5LmJ1aWxkaW5nWydidWlsZGluZ19uYW1lJ10sIF90aGlzMTQuY3VycmVudGx5LmZsb29yWydmbG9vcl9uYW1lJ10pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZVswXSA9PT0gdHJ1ZSkgeG1sX3N0cmluZyA9IHJlc3BvbnNlWzFdO2Vsc2UgTS50b2FzdCh7CiAgICAgICAgICAgICAgICAgICAgaHRtbDogcmVzcG9uc2VbMV0sCiAgICAgICAgICAgICAgICAgICAgY2xhc3NlczogJ3JvdW5kZWQgb3JhbmdlJywKICAgICAgICAgICAgICAgICAgICBkaXNwbGF5TGVuZ3RoOiAyMDAwCiAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgfSk7CgogICAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgICAgIHBhcnNlciA9IG5ldyBET01QYXJzZXIoKTsKICAgICAgICAgICAgICAgIHJvb3QgPSBwYXJzZXIucGFyc2VGcm9tU3RyaW5nKHhtbF9zdHJpbmcsICd0ZXh0L3htbCcpOwogICAgICAgICAgICAgICAgcm9vbXMgPSByb290LmdldEVsZW1lbnRzQnlUYWdOYW1lKCdyb29tJyk7CiAgICAgICAgICAgICAgICBpID0gMDsKCiAgICAgICAgICAgICAgY2FzZSA2OgogICAgICAgICAgICAgICAgaWYgKCEoaSA8IHJvb21zLmxlbmd0aCkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyMS5uZXh0ID0gMTI7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIGlmICghKHJvb21zW2ldLmdldEF0dHJpYnV0ZSgncm9vbV9uYW1lJykgPT09IF90aGlzMTQuTUFOQUdFX1JPT01fUEVSTUlTU0lPTl9EQVRBLnNlbGVjdGVkX3Jvb20pKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MjEubmV4dCA9IDk7CiAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIxLmFicnVwdCgiYnJlYWsiLCAxMik7CgogICAgICAgICAgICAgIGNhc2UgOToKICAgICAgICAgICAgICAgIGkrKzsKICAgICAgICAgICAgICAgIF9jb250ZXh0MjEubmV4dCA9IDY7CiAgICAgICAgICAgICAgICBicmVhazsKCiAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICAgIHVzZXJzX2luX3Jvb20gPSByb29tc1tpXS5nZXRFbGVtZW50c0J5VGFnTmFtZSgndXNlcicpOwogICAgICAgICAgICAgICAgaiA9IDA7CgogICAgICAgICAgICAgIGNhc2UgMTQ6CiAgICAgICAgICAgICAgICBpZiAoIShqIDwgdXNlcnNfaW5fcm9vbS5sZW5ndGgpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0MjEubmV4dCA9IDIwOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KCiAgICAgICAgICAgICAgICBpZiAoIShOdW1iZXIodXNlcnNfaW5fcm9vbVtqXS5nZXRBdHRyaWJ1dGUoJ2NsaWVudF9pZCcpKSA9PT0gX3RoaXMxNC5NQU5BR0VfUk9PTV9QRVJNSVNTSU9OX0RBVEEuc2VsZWN0ZWRfdXNlcl90b19yZW1vdmVfZnJvbV9yb29tWydpZCddKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIxLm5leHQgPSAxNzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0MjEuYWJydXB0KCJicmVhayIsIDIwKTsKCiAgICAgICAgICAgICAgY2FzZSAxNzoKICAgICAgICAgICAgICAgIGorKzsKICAgICAgICAgICAgICAgIF9jb250ZXh0MjEubmV4dCA9IDE0OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgMjA6CiAgICAgICAgICAgICAgICB1c2Vyc19pbl9yb29tW2pdLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQodXNlcnNfaW5fcm9vbVtqXSk7CiAgICAgICAgICAgICAgICBfY29udGV4dDIxLm5leHQgPSAyMzsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczE0LiRyb290LkxFVkVMQURNSU5fdXBkYXRlX2Zsb29yX3htbChfdGhpczE0LmN1cnJlbnRseS5idWlsZGluZ1snYnVpbGRpbmdfbmFtZSddLCBfdGhpczE0LmN1cnJlbnRseS5mbG9vclsnZmxvb3JfbmFtZSddLCByb290KS50aGVuKCAvKiNfX1BVUkVfXyovZnVuY3Rpb24gKCkgewogICAgICAgICAgICAgICAgICB2YXIgX3JlZjcgPSBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyMChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiByZWdlbmVyYXRvclJ1bnRpbWUud3JhcChmdW5jdGlvbiBfY2FsbGVlMjAkKF9jb250ZXh0MjApIHsKICAgICAgICAgICAgICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyMC5wcmV2ID0gX2NvbnRleHQyMC5uZXh0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEocmVzcG9uc2VbMF0gPT09IHRydWUpKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MjAubmV4dCA9IDc7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIE0udG9hc3QoewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBodG1sOiAnVXNlciBoYXMgYmVlbiByZW1vdmVkIGZyb20gZmxvb3InLAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzc2VzOiAncm91bmRlZCBncmVlbicsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXlMZW5ndGg6IDIwMDAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMxNC5NQU5BR0VfUk9PTV9QRVJNSVNTSU9OX0RBVEEgPSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1aWxkaW5nX3VzZXJzX25vdF9pbl9mbG9vcjogJycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGVjdGVkX3VzZXJfdG9fYWRkX3RvX2Zsb29yOiAnJywKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRfdXNlcl90b19yZW1vdmVfZnJvbV9mbG9vcjogJycsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZsb29yX3VzZXJzOiAnJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9jb250ZXh0MjAubmV4dCA9IDU7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMxNC5jaGFuZ2VBY3RpdmVGb3JtKCcnKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA1OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyMC5uZXh0ID0gODsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBNLnRvYXN0KHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHRtbDogcmVzcG9uc2VbMV0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzZXM6ICdyb3VuZGVkIG9yYW5nZScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXlMZW5ndGg6IDIwMDAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDg6CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIwLnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWUyMCk7CiAgICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3g3KSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWY3LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICB9KCkpOwoKICAgICAgICAgICAgICBjYXNlIDIzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyMS5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMjEpOwogICAgICB9KSkoKTsKICAgIH0sCiAgICB1cGxvYWRGaWxlOiBmdW5jdGlvbiB1cGxvYWRGaWxlKCkgewogICAgICB2YXIgX3RoaXMxNSA9IHRoaXM7CgogICAgICByZXR1cm4gX2FzeW5jVG9HZW5lcmF0b3IoIC8qI19fUFVSRV9fKi9yZWdlbmVyYXRvclJ1bnRpbWUubWFyayhmdW5jdGlvbiBfY2FsbGVlMjMoKSB7CiAgICAgICAgdmFyIGZpbGU7CiAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyMyQoX2NvbnRleHQyMykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIzLnByZXYgPSBfY29udGV4dDIzLm5leHQpIHsKICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICBmaWxlID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ3VwbG9hZEZpbGVJbnB1dCcpLmZpbGVzWzBdOwoKICAgICAgICAgICAgICAgIGlmICghKGZpbGUgPT09IHVuZGVmaW5lZCkpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQyMy5uZXh0ID0gNTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgTS50b2FzdCh7CiAgICAgICAgICAgICAgICAgIGh0bWw6ICdZb3UgaGF2ZSB0byBzZWxlY3QgZmlsZSB0byB1cGxvYWQgJywKICAgICAgICAgICAgICAgICAgY2xhc3NlczogJ3JvdW5kZWQgb3JhbmdlJywKICAgICAgICAgICAgICAgICAgZGlzcGxheUxlbmd0aDogMjAwMAogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICBfY29udGV4dDIzLm5leHQgPSA3OwogICAgICAgICAgICAgICAgYnJlYWs7CgogICAgICAgICAgICAgIGNhc2UgNToKICAgICAgICAgICAgICAgIF9jb250ZXh0MjMubmV4dCA9IDc7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXMxNS4kcm9vdC5VU0VSX3VwbG9hZEZpbGUoX3RoaXMxNS5jdXJyZW50bHkuYnVpbGRpbmdbJ2J1aWxkaW5nX25hbWUnXSwgX3RoaXMxNS5jdXJyZW50bHkuZmxvb3JbJ2Zsb29yX25hbWUnXSwgX3RoaXMxNS5jdXJyZW50bHkucm9vbVsncm9vbV9uYW1lJ10sIGZpbGUpLnRoZW4oIC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgICAgICAgICAgICAgICAgIHZhciBfcmVmOCA9IF9hc3luY1RvR2VuZXJhdG9yKCAvKiNfX1BVUkVfXyovcmVnZW5lcmF0b3JSdW50aW1lLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIyKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyMiQoX2NvbnRleHQyMikgewogICAgICAgICAgICAgICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDIyLnByZXYgPSBfY29udGV4dDIyLm5leHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIShyZXNwb25zZVswXSA9PT0gdHJ1ZSkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyMi5uZXh0ID0gNjsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CgogICAgICAgICAgICAgICAgICAgICAgICAgICAgTS50b2FzdCh7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGh0bWw6ICdGaWxlIGhhcyBiZWVuIHVwbG9hZGVkJwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfY29udGV4dDIyLm5leHQgPSA0OwogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzMTUuZW50ZXJSb29tKF90aGlzMTUuY3VycmVudGx5LnJvb21bJ3Jvb21fbmFtZSddKTsKCiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSA0OgogICAgICAgICAgICAgICAgICAgICAgICAgICAgX2NvbnRleHQyMi5uZXh0ID0gNzsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBNLnRvYXN0KHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaHRtbDogcmVzcG9uc2VbMV0sCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzZXM6ICdyb3VuZGVkIG9yYW5nZScsCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRpc3BsYXlMZW5ndGg6IDIwMDAKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOwoKICAgICAgICAgICAgICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIyLnN0b3AoKTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0sIF9jYWxsZWUyMik7CiAgICAgICAgICAgICAgICAgIH0pKTsKCiAgICAgICAgICAgICAgICAgIHJldHVybiBmdW5jdGlvbiAoX3g4KSB7CiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF9yZWY4LmFwcGx5KHRoaXMsIGFyZ3VtZW50cyk7CiAgICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICB9KCkpOwoKICAgICAgICAgICAgICBjYXNlIDc6CiAgICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIzLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyMyk7CiAgICAgIH0pKSgpOwogICAgfQogIH0sCiAgYmVmb3JlTW91bnQ6IGZ1bmN0aW9uIGJlZm9yZU1vdW50KCkgewogICAgdmFyIF90aGlzMTYgPSB0aGlzOwoKICAgIHJldHVybiBfYXN5bmNUb0dlbmVyYXRvciggLyojX19QVVJFX18qL3JlZ2VuZXJhdG9yUnVudGltZS5tYXJrKGZ1bmN0aW9uIF9jYWxsZWUyNCgpIHsKICAgICAgcmV0dXJuIHJlZ2VuZXJhdG9yUnVudGltZS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyNCQoX2NvbnRleHQyNCkgewogICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICBzd2l0Y2ggKF9jb250ZXh0MjQucHJldiA9IF9jb250ZXh0MjQubmV4dCkgewogICAgICAgICAgICBjYXNlIDA6CiAgICAgICAgICAgICAgX2NvbnRleHQyNC5uZXh0ID0gMjsKICAgICAgICAgICAgICByZXR1cm4gX3RoaXMxNi5nZXRCdWlsZGluZ0xpc3QoKTsKCiAgICAgICAgICAgIGNhc2UgMjoKICAgICAgICAgICAgY2FzZSAiZW5kIjoKICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyNC5zdG9wKCk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9LCBfY2FsbGVlMjQpOwogICAgfSkpKCk7CiAgfQp9Ow=="},{"version":3,"sources":["/home/woli/Projects/DataRoom/frontend/src/components/enterBuildingDiv.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"center-align\">\n    <span v-if=\"currently.building\">{{ currently.building[\"building_name\"] }}</span>\n    <span v-if=\"currently.floor\"> > {{ currently.floor[\"floor_name\"] }}</span>\n    <span v-if=\"currently.room\"> > {{ currently.room['room_name'] }}</span>\n  </div>\n  <div v-if=\"currently.building === null\" class=\"col s4 buildingList\">\n    <h3 class=\"center-align title\">Choose building</h3>\n    <ul>\n      <li v-for=\"(item, index) in list.building_list\" :key=\"index\" class=\"list_item\">\n        <a href=\"javascript:void(0)\" v-on:click=\"selectBuilding(item)\">\n          {{ item[\"building_name\"] }}\n        </a>\n      </li>\n    </ul>\n  </div>\n  <div v-if=\"currently.building !== null && currently.floor === null\" class=\"col s4\">\n    <h3 class=\"center-align title\">Choose floor</h3>\n    <ul>\n      <li v-for=\"(item, index) in list.floor_list\" :key=\"index\" class=\"list_item\">\n        <a v-if=\"item['isAdmin'] === true || item['isUser'] === true || item['isSuper'] === true || item['public'] === true\" href=\"javascript:void(0)\" v-on:click=\"enterFloor(item)\">\n          {{ item[\"floor_name\"] }}\n        </a>\n        <a v-else>{{  item[\"floor_name\"] }} [X]</a>\n      </li>\n    </ul>\n  </div>\n  <div v-if=\"currently.floor !== null && currently.room === null\" class=\"col s4\">\n    <h3 class=\"center-align title\">Choose room</h3>\n    <ul>\n      <li v-for=\"(item, index) in list.room_list\" :key=\"index\" class=\"list_item\">\n        <a href=\"javascript:void(0)\" v-on:click=\"enterRoom(item)\" >{{ item['room_name'] }}</a>\n      </li>\n    </ul>\n    <div v-if=\"this.currently.floor['isAdmin'] === true\" class=\"row\">\n      <hr style=\"color:deepskyblue; width: 70%\"/>\n        <h5>Floor administrator panel</h5>\n      <button v-on:click=\"changeActiveForm('createRoom')\" type=\"button\" class=\"btn blue darken-2\">Create room</button>\n      <button v-on:click=\"changeActiveForm('deleteRoom')\" type=\"button\" class=\"btn blue lighten-2\">Delete room</button>\n      <button v-on:click=\"changeActiveForm('manageRoomPermission')\" type=\"button\" class=\"btn blue darken-2\">Manage room permissions</button>\n      <button v-on:click=\"changeActiveForm('manageFloorPermission')\" type=\"button\" class=\"btn blue lighten-2\">Manage floor permissions</button>\n    </div>\n    <div v-else-if=\"this.currently.floor['everybodyCanCreateRoom'] === true\">\n      <button v-on:click=\"changeActiveForm('createRoom')\" type=\"button\" class=\"btn blue darken-2\">Create room</button>\n    </div>\n    <form action=\"javascript:void(0)\" v-on:submit=\"addRoom\" id=\"CREATE_ROOM_FORM\" v-if=\"activeForm === 'createRoom'\">\n      <div class=\"row\">\n        <div class=\"input-field col s6\">\n          <i class=\"material-icons prefix\">domain</i>\n          <input class=\"validate\" id=\"createRoomName\" type=\"text\" required/>\n          <label for=\"createRoomName\" class=\"active\">Room name</label>\n        </div>\n        <div class=\"col s6\">\n          <div class=\"row input-field\" style=\"margin-bottom: 25px;\">\n            <input type=\"checkbox\" id=\"createRoomPermission_public\"/>\n            <label for=\"createRoomPermission_public\">Public</label>\n          </div>\n          <div class=\"row input-field\" style=\"margin-bottom: 25px;\">\n            <input type=\"checkbox\" id=\"createRoomPermission_hidden\"/>\n            <label for=\"createRoomPermission_hidden\">Hidden</label>\n          </div>\n        </div>\n        <div class=\"input-field col s6\">\n          <button type=\"submit\" class=\"btn blue\">Create room</button>\n        </div>\n      </div>\n    </form>\n    <form action=\"javascript:void(0)\" v-on:submit=\"deleteRoom\" id=\"DELETE_ROOM_FORM\" v-if=\"activeForm === 'deleteRoom'\">\n      <div class=\"col s10\">\n        <select id=\"deleteRoomSelect\" v-model=\"DELETE_ROOM_DATA.selected_room_to_delete\">\n          <option value=\"\" disabled>Select room to delete</option>\n          <option v-for=\"(item, index) in DELETE_ROOM_DATA.room_list\" :key=\"index\" :value=\"item\">{{item}}</option>\n        </select>\n        <button v-if=\"DELETE_ROOM_DATA.selected_room_to_delete !== ''\" type=\"submit\" class=\"btn blue\">Delete room</button>\n      </div>\n    </form>\n    <form action=\"javascript:void(0)\"  id=\"MANAGE_FLOOR_PERMISSION_FORM\" v-if=\"activeForm === 'manageFloorPermission'\">\n      <div class=\"row\">\n        <div class=\"col s6\">\n          <select id=\"addUToFloorSelect\" v-model=\"MANAGE_FLOOR_PERMISSION_DATA.selected_user_to_add_to_floor\">\n            <option value=\"\" disabled>Select user to add</option>\n            <option v-for=\"(item, index) in MANAGE_FLOOR_PERMISSION_DATA.building_users_not_in_floor\" :key=\"index\" :value=\"item\">{{item['email']}} - {{item['first_name']}} {{item['second_name']}}</option>\n          </select>\n          <button v-if=\"MANAGE_FLOOR_PERMISSION_DATA.selected_user_to_add_to_floor !== ''\" v-on:click=\"addUserToFloor\" type=\"button\" class=\"btn blue\">Add user to floor</button>\n        </div>\n        <div class=\"col s6\">\n          <select id=\"removeUFromFloorSelect\" v-model=\"MANAGE_FLOOR_PERMISSION_DATA.selected_user_to_remove_from_floor\">\n            <option value=\"\" disabled>Select user to delete</option>\n            <option v-for=\"(item, index) in MANAGE_FLOOR_PERMISSION_DATA.floor_users\" :key=\"index\" :value=\"item\">{{item['email']}} - {{item['first_name']}} {{item['second_name']}}</option>\n          </select>\n          <button v-if=\"MANAGE_FLOOR_PERMISSION_DATA.selected_user_to_remove_from_floor !== ''\" v-on:click=\"deleteUserFromFloor\" type=\"button\" class=\"btn blue\">Delete user from floor</button>\n        </div>\n      </div>\n    </form>\n    <form action=\"javascript:void(0)\" id=\"MANAGE_ROOM_PERMISSION_FORM\" v-if=\"activeForm === 'manageRoomPermission'\">\n      <div class=\"col s10\">\n          <select id=\"managePermissionSelectRoom\" v-model=\"MANAGE_ROOM_PERMISSION_DATA.selected_room\" v-on:change=\"selectRoomToManage\">\n            <option value=\"\" disabled>Select room to manage</option>\n            <option v-for=\"(item, index) in MANAGE_ROOM_PERMISSION_DATA.room_list\" :key=\"index\" :value=\"item\">{{ item }}</option>\n          </select>\n      </div>\n      <div class=\"row\" v-if=\"MANAGE_ROOM_PERMISSION_DATA.selected_room !== ''\">\n        <hr style=\"color: deepskyblue; width: 75%;\">\n        <div class=\"col s6\">\n          <div id=\"settings\">\n            <h6>Room settings</h6>\n            <div class=\"col s6\">\n            <div class=\"row input-field\" style=\"margin-left: 25px; margin-bottom: 25px;\">\n              <input type=\"checkbox\" id=\"managePermission_public\" v-model=\"MANAGE_ROOM_PERMISSION_DATA.selected_setting_public\"/>\n              <label for=\"managePermission_public\">Public</label>\n            </div>\n            <div class=\"row input-field\" style=\"margin-left: 25px; margin-bottom: 25px;\">\n              <input type=\"checkbox\" id=\"managePermission_hidden\" v-model=\"MANAGE_ROOM_PERMISSION_DATA.selected_setting_hidden\"/>\n              <label for=\"managePermission_hidden\">Hidden</label>\n            </div>\n          </div>\n            <div class=\"col s6\">\n            <div class=\"row\"/>\n            <div class=\"row\"/>\n            <button type=\"button\" class=\"btn blue\" v-on:click=\"updateRoomSettings\" style=\"margin-bottom: 25px;\">Update settings</button>\n          </div>\n          </div>\n        </div>\n        <div class=\"col s6\">\n          <div id=\"deleteFRoom\">\n            <h6>Delete user from room</h6>\n            <select id=\"deleteUserFromRoomSelect\" v-model=\"MANAGE_ROOM_PERMISSION_DATA.selected_user_to_remove_from_room\">\n              <option value=\"\" disabled>Select user to remove from room</option>\n              <option v-for=\"(item, index) in MANAGE_ROOM_PERMISSION_DATA.room_users\" :key=\"index\" :value=\"item\">{{item['email']}} - </option>\n            </select>\n            <button type=\"button\" class=\"btn blue\" v-on:click=\"removeUserFromRoom\">Remove user from room</button>\n          </div>\n        </div>\n      </div>\n      <div class=\"row\" v-if=\"MANAGE_ROOM_PERMISSION_DATA.selected_room !== ''\">\n        <hr style=\"color:deepskyblue; width: 70%\"/>\n        <h6>Add user to room</h6>\n        <div class=\"col s10\">\n          <select id=\"addUserToRoomSelect\" v-model=\"MANAGE_ROOM_PERMISSION_DATA.selected_user_to_add_to_room\">\n            <option value=\"\" disabled>Select user to add to room</option>\n            <option v-for=\"(item, index) in MANAGE_ROOM_PERMISSION_DATA.floor_users_not_in_room\" :key=\"index\" :value=\"item\">{{item['email']}}</option>\n          </select>\n          <div class=\"row input-field\">\n            <div class=\"col s6\">\n              <input type=\"checkbox\" id=\"addUserToFloor_permission_download\" v-model=\"MANAGE_ROOM_PERMISSION_DATA.selected_setting_download\"/>\n              <label for=\"addUserToFloor_permission_download\">User can delete files</label>\n            </div>\n            <div class=\"col s6\">\n              <input type=\"checkbox\" id=\"addUserToFloor_permission_upload\" v-model=\"MANAGE_ROOM_PERMISSION_DATA.selected_setting_upload\"/>\n              <label for=\"addUserToFloor_permission_upload\">User can upload files</label>\n            </div>\n          </div>\n          <button type=\"button\" class=\"btn blue\" v-on:click=\"addUserToRoom\">Add user to room</button>\n        </div>\n      </div>\n    </form>\n  </div>\n  <div v-if=\"currently.room !== null && list.file_list !== null\" class=\"col s4\">\n    <ul>\n      <li v-for=\"(item, index) in list.file_list\" :key=\"index\">\n        {{ item }} <a href=\"javascript:void(0)\" v-on:click=\"downloadFile(item)\">DOWNLOAD</a><a href=\"javascript:void(0)\" v-on:click=\"deleteFile(item)\">DELETE</a>\n      </li>\n    </ul>\n    <input id=\"uploadFileInput\" type=\"file\"/>\n    <button type=\"button\" class=\"btn blue\" v-on:click=\"uploadFile\">UPLOAD FILE</button>\n  </div>\n  <div id=\"buildingEnterAdminOrUser\" class=\"modal\">\n    <div class=\"modal-content\">\n      <h4 class=\"center-align blue-text text-darken-3\">Enter building as:</h4>\n      <button type=\"button\" v-on:click=\"enterBuilding('user')\" class=\"btn btn-large blue lighten-2 left\" style=\"width:125px;\">User</button>\n      <button type=\"button\" v-on:click=\"enterBuilding('admin')\" class=\"btn btn-large blue darken-2 right\" style=\"width:125px;\">Admin</button>\n      <div class=\"row\"/>\n    </div>\n  </div>\n</template>\nu<script>\nimport M from 'materialize-css';\nimport _ from 'lodash';\n\nexport default {\n  name: \"enterBuildingDiv\",\n  data() {\n    return {\n      activeForm: '',\n      list: {\n        building_list: null,\n        floor_list: null,\n        room_list: null,\n        file_list: null,\n      },\n      currently: {\n        building: null,\n        floor: null,\n        room: null,\n      },\n      tmp: {\n        val1: null,\n      },\n      DELETE_ROOM_DATA: {\n        selected_room_to_delete: '',\n        room_list: '',\n      },\n      MANAGE_FLOOR_PERMISSION_DATA: {\n        building_users_not_in_floor: '',\n        selected_user_to_add_to_floor: '',\n        selected_user_to_remove_from_floor: '',\n        floor_users: '',\n      },\n      MANAGE_ROOM_PERMISSION_DATA: {\n        selected_room: '',\n        room_list: '',\n        selected_setting_public: '',\n        selected_setting_hidden: '',\n        selected_user_to_remove_from_room: '',\n        room_users: '',\n        selected_user_to_add_to_room: '',\n        floor_users_not_in_room: '',\n        selected_setting_download: '',\n        selected_setting_upload: '',\n      },\n      ROOM_SECTION: {\n        activeView: '',\n      }\n    }\n  },\n  methods: {\n    async changeActiveForm(what) {\n      if (this.activeForm === what)\n        this.activeForm = '';\n      else {\n        this.activeForm =  what;\n        if (this.activeForm === 'deleteRoom') {\n          await this.$root.getFloorRooms(this.currently.floor[\"floor_name\"], this.currently.building[\"building_name\"]).then((response) => {\n            if (response[0] === true) {\n              this.DELETE_ROOM_DATA.room_list= response[1];\n            } else\n              M.toast({html: response[1], classes: \"rounded orange\", displayLength: 2000});\n          });\n          await setTimeout(null, 500);\n          M.FormSelect.init(await document.getElementById('deleteRoomSelect'));\n        }\n        else if (this.activeForm === 'manageRoomPermission') {\n          await this.$root.getFloorRooms(this.currently.floor[\"floor_name\"], this.currently.building[\"building_name\"]).then((response) => {\n            if (response[0] === true) {\n              this.MANAGE_ROOM_PERMISSION_DATA.room_list= response[1];\n            } else\n              M.toast({html: response[1], classes: \"rounded orange\", displayLength: 2000});\n          });\n          await setTimeout(null, 500);\n          M.FormSelect.init(document.getElementById('managePermissionSelectRoom'));\n        }\n        else if (this.activeForm === 'manageFloorPermission') {\n          let floor_xml;\n          await this.$root.LEVELADMIN_get_floor_xml(this.currently.building['building_name'], this.currently.floor['floor_name']).then((response) => {\n            if (response[0] === true)\n              floor_xml = response[1];\n            else\n              M.toast({html: response[1], classes: 'rounded orange', displayLength: 2000});\n          });\n          let building_users;\n          await this.$root.LEVELADMIN_getAllUsersForBuilding(this.currently.building['building_name']).then((response) => {\n            if (response[0] === true)\n              building_users = response[1];\n            else\n              M.toast({html: response[1], classes: 'rounded orange', displayLength: 2000});\n          });\n          const parser = new DOMParser();\n          const xml_doc = parser.parseFromString(floor_xml, 'text/xml');\n          const users = xml_doc.getElementsByTagName('user');\n          this.MANAGE_FLOOR_PERMISSION_DATA.building_users_not_in_floor = await _.filter(building_users, (item) => {\n            for (let k = 0; k < users.length; k++) {\n              if (Number(users[k].getAttribute('client_id')) === item['id'])\n                return false;\n            }\n            return true;\n          });\n          this.MANAGE_FLOOR_PERMISSION_DATA.floor_users = await _.filter(building_users, (item) => {\n            for (let k = 0; k < users.length; k++) {\n              if (Number(users[k].getAttribute('client_id')) === item['id'])\n                return true;\n            }\n            return false;\n          });\n          await setTimeout(null, 500);\n          M.FormSelect.init(document.getElementById('addUToFloorSelect'));\n          M.FormSelect.init(document.getElementById('removeUFromFloorSelect'));\n        }\n      }\n    },\n    selectBuilding(building_item) {\n      this.tmp.val1 = building_item;\n      if (building_item[\"isAdmin\"] === false)\n        this.enterBuilding('user');\n      else if (building_item[\"isAdmin\"] === true)\n        M.Modal.init(document.getElementById('buildingEnterAdminOrUser')).open();\n    },\n    async enterRoom(room_name) {\n      this.currently.room = room_name;\n      await this.$root.getFilesInRoom(room_name, this.currently.building[\"building_name\"], this.currently.floor[\"floor_name\"]).then((response) => {\n        if (response[0] === true)\n          this.list.file_list = response[1];\n        else\n          M.toast({html: response[1], classes: \"rounded orange\", displayLength: 2000});\n      });\n    },\n    async enterFloor(floor_item) {\n      this.currently.floor = floor_item;\n      this.list.room_list = floor_item['room_data'];\n    },\n    async enterBuilding(asWho) {\n      if (this.tmp.val1[\"isAdmin\"] === true)\n        M.Modal.getInstance(document.getElementById('buildingEnterAdminOrUser')).close();\n      if (asWho === 'user') {\n        this.currently.building = this.tmp.val1;\n        await this.getFloorList(this.tmp.val1[\"building_name\"])\n      } else if (asWho === 'admin') {\n        this.$parent.changeView('admin', this.tmp.val1[\"building_name\"]);\n      }\n\n    },\n    async getBuildingList() {\n      await this.$root.getBuildingList().then((response) => {\n        if (response[0] === true)\n          this.list.building_list = response[1];\n        else\n          M.toast({html: response[1], classes: \"rounded orange\", displayLength: 2000});\n      });\n    },\n    async getFloorList(name) {\n      await this.$root.getBuildingFloors(name).then((response) => {\n        if (response[0] === false)\n          M.toast({html: response[1], classes: \"rounded orange\", displayLength: 2000});\n        else\n          this.list.floor_list = response[1];\n      });\n    },\n    async addRoom() {\n      const roomName = document.getElementById('createRoomName').value;\n      const perm_public = document.getElementById('createRoomPermission_public').checked;\n      const perm_hidden = document.getElementById('createRoomPermission_hidden').checked;\n      await this.$root.LEVELADMIN_createRoom(roomName, this.currently.floor[\"floor_name\"], this.currently.building[\"building_name\"], perm_public, perm_hidden).then(async (response) => {\n        if (response[0] === true) {\n          M.toast({html: 'Room has been created', classes: \"rounded green\", displayLength: 2000});\n          await this.enterFloor(this.currently.floor);\n          this.activeForm = '';\n        } else\n          M.toast({html: response[1], classes: \"rounded orange\", displayLength: 2000});\n      });\n    },\n    async deleteRoom() {\n      await this.$root.LEVELADMIN_deleteRoom(this.currently.building['building_name'], this.currently.floor['floor_name'], this.DELETE_ROOM_DATA.selected_room_to_delete).then(async (response) => {\n        if (response[0] === true) {\n          M.toast({html: 'Room has been deleted', classes: 'rounded green', displayLength: 2000});\n          await this.enterFloor(this.currently.floor);\n          this.activeForm = '';\n        } else\n          M.toast({html: response[1], classes: 'rounded orange', displayLength: 2000});\n      });\n    },\n    async addUserToFloor() {\n      const parser = new DOMParser();\n      let xml_string;\n      await this.$root.LEVELADMIN_get_floor_xml(this.currently.building['building_name'], this.currently.floor['floor_name']).then((response) => {\n        if (response[0] === true)\n          xml_string = response[1];\n        else\n          M.toast({html: response[1], classes: 'rounded orange', displayLength: 2000});\n      });\n      let xml_doc = parser.parseFromString(xml_string, 'text/xml');\n      let new_node = xml_doc.createElement('user');\n      new_node.setAttribute('client_id', String(this.MANAGE_FLOOR_PERMISSION_DATA.selected_user_to_add_to_floor['id']));\n      xml_doc.getElementsByTagName('users')[0].appendChild(new_node);\n      await this.$root.LEVELADMIN_update_floor_xml(this.currently.building['building_name'], this.currently.floor['floor_name'], xml_doc).then(async (response) => {\n        if (response[0] === true) {\n          M.toast({html: 'User has been added to floor', classes: 'rounded green', displayLength: 2000});\n          this.MANAGE_FLOOR_PERMISSION_DATA = {\n            building_users_not_in_floor: '',\n            selected_user_to_add_to_floor: '',\n            selected_user_to_remove_from_floor: '',\n            floor_users: ''};\n          await this.changeActiveForm('');\n        } else\n          M.toast({html: response[1], classes: 'rounded orange', displayLength: 2000});\n      });\n    },\n    async deleteUserFromFloor() {\n      const parser = new DOMParser();\n      let xml_string;\n      await this.$root.LEVELADMIN_get_floor_xml(this.currently.building['building_name'], this.currently.floor['floor_name']).then((response) => {\n        if (response[0] === true)\n          xml_string = response[1];\n        else\n          M.toast({html: response[1], classes: 'rounded orange', displayLength: 2000});\n      });\n      let xml_doc = parser.parseFromString(xml_string, 'text/xml');\n      let users = xml_doc.getElementsByTagName('user');\n      let i = 0;\n      for (; i < users.length; i++) {\n        if (Number(users[i].getAttribute('client_id')) === this.MANAGE_FLOOR_PERMISSION_DATA.selected_user_to_remove_from_floor['id']) {\n          break;\n        }\n      }\n      users[i].parentNode.removeChild(users[i]);\n      await this.$root.LEVELADMIN_update_floor_xml(this.currently.building['building_name'], this.currently.floor['floor_name'], xml_doc).then(async (response) => {\n        if (response[0] === true) {\n          M.toast({html: 'User has been removed from floor', classes: 'rounded green', displayLength: 2000});\n          this.MANAGE_FLOOR_PERMISSION_DATA = {\n            building_users_not_in_floor: '',\n            selected_user_to_add_to_floor: '',\n            selected_user_to_remove_from_floor: '',\n            floor_users: ''};\n          await this.changeActiveForm('');\n        } else M.toast({html: response[1], classes: 'rounded orange', displayLength: 2000});\n      });\n    },\n    async selectRoomToManage() {\n      let building_users;\n      let xml_string;\n      await this.$root.LEVELADMIN_get_floor_xml(this.currently.building['building_name'], this.currently.floor['floor_name']).then((response) => {\n        if (response[0] === true)\n          xml_string = response[1];\n        else\n          M.toast({ html: response[1], classes: 'rounded orange', displayLength: 2000 });\n      });\n      await this.$root.LEVELADMIN_getAllUsersForBuilding(this.currently.building['building_name']).then((response) => {\n        if (response[0] === true)\n          building_users = response[1];\n        else\n          M.toast({html: response[1], classes: 'rounded orange', displayLength: 2000});\n      });\n      const parser = new DOMParser();\n      const xml_doc = parser.parseFromString(xml_string, 'text/xml');\n      const rooms = xml_doc.getElementsByTagName('room');\n      let i = 0;\n      for (; i < rooms.length; i++) {\n        if (rooms[i].getAttribute('room_name') === this.MANAGE_ROOM_PERMISSION_DATA.selected_room)\n          break;\n      }\n      (rooms[i].getAttribute('public') === 'True') ? this.MANAGE_ROOM_PERMISSION_DATA.selected_setting_public = true : this.MANAGE_ROOM_PERMISSION_DATA.selected_setting_public = false;\n      (rooms[i].getAttribute('hidden') === 'True') ? this.MANAGE_ROOM_PERMISSION_DATA.selected_setting_hidden = true : this.MANAGE_ROOM_PERMISSION_DATA.selected_setting_hidden = false;\n      const users_in_room = rooms[i].getElementsByTagName('user');\n      this.MANAGE_ROOM_PERMISSION_DATA.floor_users_not_in_room = await _.filter(building_users, (item) => {\n        for (let j = 0; j < users_in_room.length; j++) {\n          if (Number(item['id'] === Number(users_in_room[j].getAttribute('client_id'))))\n            return false;\n        }\n        return true;\n      });\n      this.MANAGE_ROOM_PERMISSION_DATA.room_users = await _.filter(building_users, (item) => {\n        for (let j = 0; j < users_in_room.length; j++) {\n          if (Number(item['id'] === Number(users_in_room[j].getAttribute('client_id'))))\n            return true;\n        }\n        return false;\n      });\n      await setTimeout(null, 500);\n      M.FormSelect.init(document.getElementById('addUserToRoomSelect'));\n      M.FormSelect.init(document.getElementById('deleteUserFromRoomSelect'));\n    },\n    async updateRoomSettings() {\n      let xml_string;\n      await this.$root.LEVELADMIN_get_floor_xml(this.currently.building['building_name'], this.currently.floor['floor_name']).then((response) => {\n        if (response[0] === true)\n          xml_string = response[1];\n        else\n          M.toast({html: response[1], classes: 'rounded orange', displayLength: 2000});\n      });\n      const parser = new DOMParser();\n      let root = parser.parseFromString(xml_string, 'text/xml');\n      let rooms = root.getElementsByTagName('room');\n      for (let i = 0; i < rooms.length; i++) {\n        if (rooms[i].getAttribute('room_name') === this.MANAGE_ROOM_PERMISSION_DATA.selected_room) {\n          (this.MANAGE_ROOM_PERMISSION_DATA.selected_setting_public === true) ? rooms[i].setAttribute('public', 'True') : rooms[i].setAttribute('public', 'False');\n          (this.MANAGE_ROOM_PERMISSION_DATA.selected_setting_hidden === true) ? rooms[i].setAttribute('hidden', 'True') : rooms[i].setAttribute('hidden', 'False');\n        }\n      }\n      await this.$root.LEVELADMIN_update_floor_xml(this.currently.building['building_name'], this.currently.floor['floor_name'], root).then(async (response) => {\n        if (response[0] === true) {\n          M.toast({html: 'Room settings has been updated', classes: 'rounded green', displayLength: 2000});\n          await this.changeActiveForm('');\n          this.MANAGE_ROOM_PERMISSION_DATA = {\n            selected_room: '',\n            room_list: '',\n            selected_setting_public: '',\n            selected_setting_hidden: '',\n            selected_user_to_remove_from_room: '',\n            room_users: '',\n            selected_user_to_add_to_room: '',\n            floor_users_not_in_room: '',\n            selected_setting_download: '',\n            selected_setting_upload: '',\n          }\n        } else\n          M.toast({html: response[1], classes: 'rounded orange', displayLength: 2000});\n      });\n    },\n    async addUserToRoom() {\n      let xml_string;\n      await this.$root.LEVELADMIN_get_floor_xml(this.currently.building['building_name'], this.currently.floor['floor_name']).then((response) => {\n        if (response[0] === true)\n          xml_string = response[1];\n        else\n          M.toast({html: response[1], classes: 'rounded orange', displayLength: 2000});\n      });\n      const parser = new DOMParser();\n      const root = parser.parseFromString(xml_string, 'text/xml');\n      const rooms = root.getElementsByTagName('room');\n      let i = 0;\n      for (; i < rooms.length; i++) {\n        if (rooms[i].getAttribute('room_name') === this.MANAGE_ROOM_PERMISSION_DATA.selected_room)\n          break;\n      }\n      let new_node = root.createElement('user');\n      new_node.setAttribute('client_id', String(this.MANAGE_ROOM_PERMISSION_DATA.selected_user_to_add_to_room['id']));\n      new_node.setAttribute('download', (this.MANAGE_ROOM_PERMISSION_DATA.selected_setting_download === true) ? \"True\" : \"False\");\n      new_node.setAttribute('upload', (this.MANAGE_ROOM_PERMISSION_DATA.selected_setting_upload === true) ? \"True\" : \"False\");\n      rooms[i].appendChild(new_node);\n      await this.$root.LEVELADMIN_update_floor_xml(this.currently.building['building_name'], this.currently.floor['floor_name'], root).then(async (response) => {\n        if (response[0] === true) {\n          M.toast({ html: 'User has been added to room' });\n          await this.changeActiveForm('');\n          this.MANAGE_ROOM_PERMISSION_DATA = {\n            selected_room: '',\n            room_list: '',\n            selected_setting_public: '',\n            selected_setting_hidden: '',\n            selected_user_to_remove_from_room: '',\n            room_users: '',\n            selected_user_to_add_to_room: '',\n            floor_users_not_in_room: '',\n            selected_setting_download: '',\n            selected_setting_upload: '',\n          }\n        } else\n          M.toast({ html: response[1], classes: 'rounded orange', displayLength: 2000 });\n      })\n    },\n    async removeUserFromRoom() {\n      let xml_string;\n      await this.$root.LEVELADMIN_get_floor_xml(this.currently.building['building_name'], this.currently.floor['floor_name']).then((response) => {\n        if (response[0] === true)\n          xml_string = response[1];\n        else\n          M.toast({html: response[1], classes: 'rounded orange', displayLength: 2000});\n      });\n      const parser = new DOMParser();\n      let root = parser.parseFromString(xml_string, 'text/xml');\n      let rooms = root.getElementsByTagName('room');\n      let i = 0;\n      for(; i < rooms.length ; i++) {\n        if (rooms[i].getAttribute('room_name') === this.MANAGE_ROOM_PERMISSION_DATA.selected_room)\n          break;\n      }\n      let users_in_room = rooms[i].getElementsByTagName('user');\n      let j = 0;\n      for(; j < users_in_room.length; j++) {\n        if (Number(users_in_room[j].getAttribute('client_id')) === this.MANAGE_ROOM_PERMISSION_DATA.selected_user_to_remove_from_room['id'])\n          break;\n      }\n      users_in_room[j].parentNode.removeChild(users_in_room[j]);\n      await this.$root.LEVELADMIN_update_floor_xml(this.currently.building['building_name'], this.currently.floor['floor_name'], root).then(async (response) => {\n        if (response[0] === true) {\n          M.toast({html: 'User has been removed from floor', classes: 'rounded green', displayLength: 2000});\n          this.MANAGE_ROOM_PERMISSION_DATA = {\n            building_users_not_in_floor: '',\n            selected_user_to_add_to_floor: '',\n            selected_user_to_remove_from_floor: '',\n            floor_users: ''};\n          await this.changeActiveForm('');\n        } else M.toast({html: response[1], classes: 'rounded orange', displayLength: 2000});\n      });\n    },\n    async uploadFile() {\n      const file = document.getElementById('uploadFileInput').files[0];\n      if (file === undefined)\n        M.toast({ html: 'You have to select file to upload ', classes: 'rounded orange', displayLength: 2000 });\n      else {\n        await this.$root.USER_uploadFile(this.currently.building['building_name'], this.currently.floor['floor_name'], this.currently.room['room_name'], file).then(async (response) => {\n          if (response[0] === true) {\n            M.toast({html: 'File has been uploaded'});\n            await this.enterRoom(this.currently.room['room_name']);\n          } else\n            M.toast({html: response[1], classes: 'rounded orange', displayLength: 2000});\n        });\n      }\n    }\n  },\n    async beforeMount() {\n      await this.getBuildingList();\n    }\n}\n</script>\n\n<style scoped>\n#buildingEnterAdminOrUser {\n  width: 300px;\n}\n\n.buildingList {\n  margin: 5px;\n}\n.title {\n  color: white;\n  background-color: blue;\n  padding: 5px;\n}\n</style>"],"sourceRoot":""}]}